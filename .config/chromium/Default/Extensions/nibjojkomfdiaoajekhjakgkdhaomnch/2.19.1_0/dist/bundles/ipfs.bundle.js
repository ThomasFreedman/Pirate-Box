/*! For license information please see ipfs.bundle.js.LICENSE.txt */
(self.webpackChunkipfs_companion=self.webpackChunkipfs_companion||[]).push([[384],{8756:(e,t,r)=>{"use strict";e.exports=r(89465)},70009:(e,t,r)=>{"use strict";e.exports=r(92980)},7494:e=>{"use strict";e.exports=function e(t,r){if(!t){const t=new Error(r||"Assertion failed");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}}},51154:(e,t)=>{"use strict";t.custom="inspect"},53556:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(7494);e.exports=class{constructor(e,t,r=[],n=[]){i("function"==typeof e),i(t>>>0===t),i(Array.isArray(r)),i(Array.isArray(n)),this.hash=e,this.size=t,this.x=r,this.y=n,this.inner=new e,this.outer=new e}init(e){if(i(n.isBuffer(e)),e.length>this.size){const t=new(0,this.hash);t.init(...this.x),t.update(e),e=t.final(...this.y),i(e.length<=this.size)}const t=n.alloc(this.size);for(let r=0;r<e.length;r++)t[r]=54^e[r];for(let r=e.length;r<t.length;r++)t[r]=54;this.inner.init(...this.x),this.inner.update(t);for(let r=0;r<e.length;r++)t[r]=92^e[r];for(let r=e.length;r<t.length;r++)t[r]=92;return this.outer.init(...this.x),this.outer.update(t),this}update(e){return this.inner.update(e),this}final(){return this.outer.update(this.inner.final(...this.y)),this.outer.final(...this.y)}}},16702:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(7494),s=r(30587),a=r(61566),o=n.alloc(16,0);class c{constructor(){this.chacha=new s,this.poly=new a,this.key=n.alloc(64),this.mode=-1,this.aadLen=0,this.cipherLen=0}init(e,t){return i(n.isBuffer(e)),i(n.isBuffer(t)),this.key.fill(0),this.chacha.init(e,t,0),this.chacha.encrypt(this.key),this.poly.init(this.key),this.mode=0,this.aadLen=0,this.cipherLen=0,this}aad(e){if(-1===this.mode)throw new Error("Context is not initialized.");if(0!==this.mode)throw new Error("Invalid state for aad.");return this.poly.update(e),this.aadLen+=e.length,this}encrypt(e){if(-1===this.mode)throw new Error("Context is not initialized.");if(0!==this.mode&&1!==this.mode)throw new Error("Invalid state for encrypt.");return 0===this.mode&&(this._pad16(this.aadLen),this.mode=1),this.chacha.encrypt(e),this.poly.update(e),this.cipherLen+=e.length,e}decrypt(e){if(i(n.isBuffer(e)),-1===this.mode)throw new Error("Context is not initialized.");if(0!==this.mode&&2!==this.mode)throw new Error("Invalid state for decrypt.");return 0===this.mode&&(this._pad16(this.aadLen),this.mode=2),this.cipherLen+=e.length,this.poly.update(e),this.chacha.encrypt(e),e}auth(e){if(i(n.isBuffer(e)),-1===this.mode)throw new Error("Context is not initialized.");if(0!==this.mode&&3!==this.mode)throw new Error("Invalid state for auth.");return 0===this.mode&&(this._pad16(this.aadLen),this.mode=3),this.cipherLen+=e.length,this.poly.update(e),e}final(){if(-1===this.mode)throw new Error("Context is not initialized.");const e=n.alloc(16);l(e,this.aadLen,0),l(e,this.cipherLen,8),0===this.mode&&this._pad16(this.aadLen),this._pad16(this.cipherLen),this.poly.update(e);const t=this.poly.final();return this.destroy(),t}destroy(){this.chacha.destroy(),this.poly.destroy();for(let e=0;e<64;e++)this.key[e]=0;return this.mode=-1,this.aadLen=0,this.cipherLen=0,this}verify(e){i(n.isBuffer(e)),i(16===e.length);const t=this.final();let r=0;for(let n=0;n<16;n++)r|=t[n]^e[n];return r-1>>>31!=0}_pad16(e){const t=15&e;t>0&&this.poly.update(o.slice(0,16-t))}static encrypt(e,t,r,n){const i=new c;return i.init(e,t),n&&i.aad(n),i.encrypt(r),i.final()}static decrypt(e,t,r,n,i){const s=new c;return s.init(e,t),i&&s.aad(i),s.decrypt(r),s.verify(n)}static auth(e,t,r,n,i){const s=new c;return s.init(e,t),i&&s.aad(i),s.auth(r),s.verify(n)}}function u(e,t,r){return e[r++]=t,t>>>=8,e[r++]=t,t>>>=8,e[r++]=t,t>>>=8,e[r++]=t,r}function l(e,t,r){const n=t*(1/4294967296)>>>0;return u(e,t>>>0,r+0),u(e,n,r+4),r+8}c.native=s.native,e.exports=c},89465:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const{custom:i}=r(51154),s=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],a=[0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],o=[0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176],c={p192:null,p224:null,p521:null,k256:null,p251:null,p25519:null,p448:null},u=0,l=1,f=2,d=3,h=4,p=7,g="function"==typeof BigInt;class m{constructor(e,t,r){this.words=[0],this.length=1,this.negative=0,this.red=null,this.from(e,t,r)}_iadd(e,t){let r=0,n=0;for(e.length<t.length&&([e,t]=[t,e]),e!==this&&this._alloc(e.length);n<t.length;n++){const i=(0|e.words[n])+(0|t.words[n])+r;this.words[n]=67108863&i,r=i>>>26}for(;0!==r&&n<e.length;n++){const t=(0|e.words[n])+r;this.words[n]=67108863&t,r=t>>>26}if(this.length=e.length,0!==r)this._alloc(this.length+1),this.words[this.length++]=r;else if(e!==this)for(;n<e.length;n++)this.words[n]=e.words[n];return this}_iaddn(e){if(this.words[0]+=e,this.words[0]<67108864)return this;let t=0;for(this._alloc(this.length+1),this.words[this.length]=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,this.words[t+1]+=1;return this.length=Math.max(this.length,t+1),this}iadd(e){if(x(m.isBN(e),"num","bignum"),this.negative===e.negative)this._iadd(this,e);else{const t=this.ucmp(e);if(0===t)return this.words[0]=0,this.length=1,this.negative=0,this;t<0?(this._isub(e,this),this.negative^=1):this._isub(this,e)}return this}iaddn(e){x(V(e),"num","smi");const t=e<0|0;return t&&(e=-e),this.negative===t?this._iaddn(e):1===this.length&&this.words[0]<e?(this.words[0]=e-this.words[0],this.negative^=1):this._isubn(e),this}add(e){return x(m.isBN(e),"num","bignum"),e.length>this.length?e.clone().iadd(this):this.clone().iadd(e)}addn(e){return this.clone().iaddn(e)}_isub(e,t){let r=0,n=0;for(P(e.length>=t.length),e!==this&&this._alloc(e.length);n<t.length;n++){const i=(0|e.words[n])-(0|t.words[n])+r;r=i>>26,this.words[n]=67108863&i}for(;0!==r&&n<e.length;n++){const t=(0|e.words[n])+r;r=t>>26,this.words[n]=67108863&t}if(P(0===r),e!==this)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=Math.max(this.length,n),this._strip()}_isubn(e){if(this.words[0]-=e,this.words[0]>=0)return this._normalize();P(1!==this.length),this._alloc(this.length+1);for(let e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.words[this.length]=0,this._strip()}isub(e){if(x(m.isBN(e),"num","bignum"),this.negative!==e.negative)this._iadd(this,e);else{const t=this.ucmp(e);if(0===t)return this.words[0]=0,this.length=1,this.negative=0,this;t<0?(this._isub(e,this),this.negative^=1):this._isub(this,e)}return this}isubn(e){x(V(e),"num","smi");const t=e<0|0;return t&&(e=-e),this.negative!==t?this._iaddn(e):1===this.length&&this.words[0]<e?(this.words[0]=e-this.words[0],this.negative^=1):this._isubn(e),this}sub(e){return this.clone().isub(e)}subn(e){return this.clone().isubn(e)}_mul(e,t){if(x(m.isBN(e),"num","bignum"),x(m.isBN(t),"out","bignum"),10===this.length&&10===e.length)return Q(this,e,t);const r=this.length+e.length;return r<63?G(this,e,t):r<1024?Y(this,e,t):function(e,t,r){if(!g||e.length+t.length>82595519)return Y(e,t,r);const n=BigInt(0),i=BigInt(67108863),s=BigInt(26);let a=e.toBigInt()*t.toBigInt();const o=a<n|0;o&&(a=-a);let c=0;for(;a>n;)r.words[c++]=Number(a&i),a>>=s;0===c&&(r.words[c++]=0);return r.length=c,r.negative=o,r}(this,e,t)}imul(e){return this.mul(e)._move(this)}imuln(e){x(V(e),"num","smi");const t=e<0|0;t&&(e=-e);let r=0;for(let t=0;t<this.length;t++){const n=this.words[t]*e,i=(67108863&n)+(67108863&r);r>>=26,r+=n/67108864|0,r+=i>>>26,this.words[t]=67108863&i}return this.negative^=t,0!==r?(this._alloc(this.length+1),this.words[this.length++]=r):this._strip(),this}mul(e){x(m.isBN(e),"num","bignum");const t=this.length+e.length,r=new m;r.words=new Array(t);for(let e=0;e<t;e++)r.words[e]=0;return this._mul(e,r)}muln(e){return this.clone().imuln(e)}mulShift(e,t){x(m.isBN(e),"num","bignum"),x(t>>>0===t,"bits","uint32");const r=this.mul(e),n=r.utestn(t-1);return r.iushrn(t),this.negative^e.negative?r.isubn(n):r.iaddn(n)}_div(e,t){x(m.isBN(e),"num","bignum"),P((t&p)===t),P(t!==u);const r=this,n=e;if(O(!n.isZero()),r.isZero())return[new m(0),new m(0)];const i=r.negative,s=n.negative;r.negative=0,n.negative=0;let a=null,o=null;return r.ucmp(n)<0?(t&l&&(a=new m(0)),t&f&&(o=r.clone())):1===n.length?(t&l&&(a=r.quon(n.words[0])),t&f&&(o=r.remn(n.words[0]))):[a,o]=r._wordDiv(n,t),r.negative=i,n.negative=s,t&l&&(a.negative=r.negative^n.negative,a._normalize()),t&f&&(o.negative=r.negative,o._normalize()),t&h&&(t&l&&(P(0!=(t&f)),0!==o.negative&&(0!==n.negative?a.iaddn(1):a.isubn(1))),t&f&&0!==o.negative&&(0!==n.negative?o.isub(n):o.iadd(n))),[a,o]}_wordDiv(e,t){let r,n=this.clone(),i=e,s=null;const a=0|i.words[i.length-1],o=26-j(a);0!==o?(i=i.clone(),n.iushln(o),i.iushln(o),r=0|i.words[i.length-1]):r=a;const c=n.length-i.length;if(P(c>=0),t&l){s=new m(0),s.length=c+1,s.words=new Array(s.length);for(let e=0;e<s.length;e++)s.words[e]=0}const u=n.clone();u._ishlnsubmul(i,1,c),0===u.negative&&(s&&(s.words[c]=1),n=u);for(let e=c-1;e>=0;e--){const t=(67108864*n.words[i.length+e]+n.words[i.length+e-1])/r|0;let a=Math.min(t,67108863);for(n._ishlnsubmul(i,a,e);0!==n.negative;)a-=1,n.negative=0,n._ishlnsubmul(i,1,e),n.ineg();s&&(s.words[e]=a)}return s&&s._strip(),t&f&&0!==o&&n.iushrn(o),[s,n]}_ishlnsubmul(e,t,r){let n=0,i=0;for(this._expand(e.length+r);i<e.length;i++){const s=(0|this.words[i+r])+n,a=e.words[i]*t,o=s-(67108863&a);n=(o>>26)-(a/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++){const e=(0|this.words[i+r])+n;n=e>>26,this.words[i+r]=67108863&e}if(0===n)return this._strip();P(-1===n),n=0;for(let e=0;e<this.length;e++){const t=-(0|this.words[e])+n;n=t>>26,this.words[e]=67108863&t}return this.negative=1,this._strip()}quorem(e){return this._div(e,d)}iquo(e){return this.quo(e)._move(this)}iquon(e){x(V(e),"num","smi"),O(0!==e);const t=e<0|0;t&&(e=-e);let r=0;for(let t=this.length-1;t>=0;t--){const n=(0|this.words[t])+67108864*r;this.words[t]=n/e|0,r=n%e}return this.negative^=t,this._strip()}quo(e){return this._div(e,l)[0]}quon(e){return this.clone().iquon(e)}irem(e){return this.rem(e)._move(this)}iremn(e){let t=this.remrn(e);return t<0&&(t=-t),this.words[0]=t,this.length=1,this._normalize()}rem(e){return this._div(e,f)[1]}remn(e){return this.clone().iremn(e)}remrn(e){x(V(e),"num","smi"),O(0!==e),e<0&&(e=-e);const t=(1<<26)%e;let r=0;for(let n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return 0!==this.negative?0|-r:r}divmod(e){return this._div(e,d|h)}idiv(e){return this.div(e)._move(this)}idivn(e){if(0===this.negative)return this.iquon(e);const t=this.remrn(e);return this.iquon(e),t<0&&(e<0?this.iaddn(1):this.isubn(1)),this}div(e){return this._div(e,d|h)[0]}divn(e){return this.clone().idivn(e)}imod(e){return this.ucmp(e)<0?(0!==this.negative&&(this._isub(e,this),this.negative=0),this):this.mod(e)._move(this)}imodn(e){return this.words[0]=this.modrn(e),this.length=1,this.negative=0,this}mod(e){return this._div(e,f|h)[1]}modn(e){return this.clone().imodn(e)}modrn(e){x(V(e),"num","smi");let t=this.remrn(e);return t<0&&(e<0?t-=e:t+=e),t}divRound(e){const[t,r]=this.quorem(e);if(r.isZero())return t;const n=1&e.words[0];e.iushrn(1);const i=r.ucmp(e);return e.iushln(1),e.words[0]|=n,i<0||e.isOdd()&&0===i?t:this.negative^e.negative?t.isubn(1):t.iaddn(1)}ipow(e){return this.pow(e)._move(this)}ipown(e){return this.pown(e)._move(this)}pow(e){x(m.isBN(e),"num","bignum");let t=j(e.words[e.length-1]),r=new m(1);for(let n=e.length-1;n>=0;n--){const i=e.words[n];for(let e=t-1;e>=0;e--)r=r.sqr(),i>>e&1&&(r=r.mul(this));t=26}return r}pown(e){if(x(V(e),"num","smi"),e<0&&(e=-e),0===e)return new m(1);if(1===e)return this.clone();let t=this;for(let r=j(e)-2;r>=0;r--)t=t.sqr(),e>>r&1&&(t=t.mul(this));return t}isqr(){return this.imul(this)}sqr(){return this.mul(this)}_rootrem(e,t){if(x(e>>>0===e,"num","uint32"),0===e)throw new RangeError("Zeroth root.");if(~e&this.negative)throw new RangeError("Negative with even root.");if(this.ucmpn(1)<=0)return[this.clone(),new m(0)];let r,n,i=new m(0),s=m.shift(1,this.bitLength()/e+1|0);if(0!==this.negative&&s.ineg(),2===e)do{i=s,s=this.quo(i),s.iadd(i),s.iushrn(1)}while(s.ucmp(i)<0);else do{i=s,s=i.pown(e-1),s=this.quo(s),r=i.muln(e-1),s.iadd(r),s=s.quon(e)}while(s.ucmp(i)<0);return t&&(s=i.pown(e),n=this.sub(s)),[i,n]}rootrem(e){return this._rootrem(e,1)}iroot(e){return this.root(e)._move(this)}root(e){return this._rootrem(e,0)[0]}isPower(e){if(x(e>>>0===e,"num","uint32"),0===e||~e&this.negative)return!1;const[,t]=this.rootrem(e);return 0===t.sign()}sqrtrem(){return this.rootrem(2)}isqrt(){return this.sqrt()._move(this)}sqrt(){return this.root(2)}isSquare(){return this.isPower(2)}iand(e){x(m.isBN(e),"num","bignum");let t=this,r=e;if(t===r)return t;if(0==(t.negative|r.negative))return t.iuand(r);if(1==(t.negative&r.negative))return t.iaddn(1),r.iaddn(1),t.iuor(r),t.isubn(1),r.isubn(1),t;0!==t.negative&&([t,r]=[r.clone(),t]);const n=t.bitLength();return r.iaddn(1),r.inotn(n),t.iuand(r),r.inotn(n),r.isubn(1),t._move(this)}iandn(e){return x(V(e),"num","smi"),0!=(this.negative|e<0)?this.iand(new m(e)):(this.words[0]&=e,this.length=1,this)}and(e){return this.clone().iand(e)}andn(e){return this.clone().iandn(e)}andrn(e){if(x(V(e),"num","smi"),0!=(this.negative|e<0)){const t=this.iand(new m(e));if(t.length>1)throw new RangeError("Number exceeds 26 bits.");return 0!==t.negative?-t.words[0]:t.words[0]}return this.words[0]&e}iuand(e){x(m.isBN(e),"num","bignum"),this.length=Math.min(this.length,e.length);for(let t=0;t<this.length;t++)this.words[t]&=e.words[t];return this._strip()}iuandn(e){return x(V(e),"num","smi"),this.words[0]&=Math.abs(e),this.length=1,this._normalize()}uand(e){return this.clone().iuand(e)}uandn(e){return this.clone().iuandn(e)}uandrn(e){x(V(e),"num","smi");const t=this.words[0]&Math.abs(e);return 0!==this.negative?0|-t:t}ior(e){x(m.isBN(e),"num","bignum");let t=this,r=e;return t===r?t:0==(t.negative|r.negative)?t.iuor(r):1==(t.negative&r.negative)?(t.iaddn(1),r.iaddn(1),t.iuand(r),t.isubn(1),r.isubn(1),t):(r=r.clone(),0!==t.negative&&([t,r]=[r,t]),r.iaddn(1),t.inotn(r.bitLength()),r.iuand(t),r.isubn(1),r._move(this))}iorn(e){return x(V(e),"num","smi"),0!=(this.negative|e<0)?this.ior(new m(e)):(this.words[0]|=e,this)}or(e){return this.clone().ior(e)}orn(e){return this.clone().iorn(e)}iuor(e){x(m.isBN(e),"num","bignum"),this._expand(e.length);for(let t=0;t<e.length;t++)this.words[t]|=e.words[t];return this}iuorn(e){return x(V(e),"num","smi"),this.words[0]|=Math.abs(e),this}uor(e){return this.clone().iuor(e)}uorn(e){return this.clone().iuorn(e)}ixor(e){x(m.isBN(e),"num","bignum");let t=this,r=e;return t===r?(t.words[0]=0,t.length=1,t.negative=0,t):0==(t.negative|r.negative)?t.iuxor(r):1==(t.negative&r.negative)?(t.iaddn(1),r.iaddn(1),t.iuxor(r),t.ineg(),r.isubn(1),t):(0!==t.negative&&([t,r]=[r.clone(),t]),r.iaddn(1),t.iuxor(r),t.iaddn(1),t.ineg(),r.isubn(1),t._move(this))}ixorn(e){return x(V(e),"num","smi"),0!=(this.negative|e<0)?this.ixor(new m(e)):(this.words[0]^=e,this)}xor(e){return this.clone().ixor(e)}xorn(e){return this.clone().ixorn(e)}iuxor(e){x(m.isBN(e),"num","bignum");let t=this,r=e;t.length<r.length&&([t,r]=[r,t]);let n=0;for(;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(t!==this)for(this._alloc(t.length);n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()}iuxorn(e){return x(V(e),"num","smi"),this.words[0]^=Math.abs(e),this._normalize()}uxor(e){return this.clone().iuxor(e)}uxorn(e){return this.clone().iuxorn(e)}inot(){return 0!==this.negative?this.ineg().isubn(1):this.iaddn(1).ineg(),this}not(){return this.clone().inot()}inotn(e){x(e>>>0===e,"width","uint32");const t=e%26;let r=Math.ceil(e/26),n=0;for(this._expand(r),t>0&&(r-=1);n<r;n++)this.words[n]^=67108863;return t>0&&(this.words[n]^=(1<<t)-1),this._strip()}notn(e){return this.clone().inotn(e)}ishl(e){return x(m.isBN(e),"bits","bignum"),x(e.bitLength()<=32,"bits","uint32"),this.ishln(e.toNumber())}ishln(e){return this.iushln(e)}shl(e){return this.clone().ishl(e)}shln(e){return this.clone().ishln(e)}iushl(e){return x(m.isBN(e),"bits","bignum"),x(e.bitLength()<=32,"bits","uint32"),this.iushln(e.toNumber())}iushln(e){x(e>>>0===e,"bits","uint32");const t=e%26,r=(e-t)/26,n=(1<<t)-1<<26-t;if(0!==t){let e=0;for(let r=0;r<this.length;r++){const i=this.words[r]&n,s=(0|this.words[r])-i<<t;this.words[r]=s|e,e=i>>>26-t}0!==e&&(this._alloc(this.length+1),this.words[this.length++]=e)}if(0!==r){this._alloc(this.length+r);for(let e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(let e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()}ushl(e){return this.clone().iushl(e)}ushln(e){return this.clone().iushln(e)}_split(e,t){const r=e%26,n=Math.min((e-r)/26,this.length),i=(1<<r)-1;if(t){t._alloc(n);for(let e=0;e<n;e++)t.words[e]=this.words[e];t.length=n}if(0===n);else if(this.length>n){this.length-=n;for(let e=0;e<this.length;e++)this.words[e]=this.words[e+n]}else this.words[0]=0,this.length=1;let s=0;if(0!==r)for(let e=this.length-1;e>=0;e--){const t=0|this.words[e];this.words[e]=s<<26-r|t>>>r,s=t&i}return t&&(0!==s?(t._alloc(t.length+1),t.words[t.length++]=s):(0===t.length&&(t.words[t.length++]=0),t._strip())),this._strip()}ishr(e){return x(m.isBN(e),"bits","bignum"),x(e.bitLength()<=32,"bits","uint32"),this.ishrn(e.toNumber())}ishrn(e){return x(e>>>0===e,"bits","uint32"),0!==this.negative?(this.iaddn(1),this.iushrn(e),this.isubn(1),this):this.iushrn(e)}shr(e){return this.clone().ishr(e)}shrn(e){return this.clone().ishrn(e)}iushr(e){return x(m.isBN(e),"bits","bignum"),x(e.bitLength()<=32,"bits","uint32"),this.iushrn(e.toNumber())}iushrn(e){return x(e>>>0===e,"bits","uint32"),this._split(e,null)}ushr(e){return this.clone().iushr(e)}ushrn(e){return this.clone().iushrn(e)}setn(e,t){return x(e>>>0===e,"bit","uint32"),0!==this.negative?(this.iaddn(1),this.usetn(e,!t),this.isubn(1),this):this.usetn(e,t)}usetn(e,t){x(e>>>0===e,"bit","uint32");const r=e%26,n=(e-r)/26;return this._expand(n+1),t?this.words[n]|=1<<r:this.words[n]&=~(1<<r),this._strip()}testn(e){x(e>>>0===e,"bit","uint32");const t=e%26,r=(e-t)/26;if(this.length<=r)return this.negative;const n=this.words[r],i=n>>t&1;if(0!==this.negative){if(t>0&&n&(1<<t)-1)return 1^i;let e=r;for(;e--;)if(this.words[e]>0)return 1^i}return i}utestn(e){x(e>>>0===e,"bit","uint32");const t=e%26,r=(e-t)/26;return this.length<=r?0:this.words[r]>>t&1}imaskn(e){return x(e>>>0===e,"bits","uint32"),0!==this.negative&&(this.iaddn(1),this.inotn(e+1),this.ineg()),this.iumaskn(e)}maskn(e){return this.clone().imaskn(e)}iumaskn(e){x(e>>>0===e,"bits","uint32");const t=e%26;let r=(e-t)/26;return this.length<=r?this:(0!==t&&(r+=1),this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=(1<<t)-1),0===this.length&&(this.words[this.length++]=0),this._strip())}umaskn(e){return this.clone().iumaskn(e)}andln(e){return this.words[0]&e}bit(e){return this.utestn(e)}bits(e,t){x(e>>>0===e,"pos","uint32"),x(t>>>0===t,"width","uint32"),x(t<=26,"width","width");const r=e%26,n=(e-r)/26;if(n>=this.length)return 0;let i=this.words[n]>>r&(1<<t)-1;if(r+t>26&&n+1<this.length){const e=r+t-26;i|=(this.words[n+1]&(1<<e)-1)<<26-r}return i}ineg(){return this.isZero()||(this.negative^=1),this}neg(){return this.clone().ineg()}iabs(){return this.negative=0,this}abs(){return this.clone().iabs()}cmp(e){if(x(m.isBN(e),"num","bignum"),this.negative!==e.negative)return e.negative-this.negative;const t=this.ucmp(e);return 0!==this.negative?0|-t:t}cmpn(e){x(V(e),"num","smi");const t=e<0|0;if(this.negative!==t)return t-this.negative;const r=this.ucmpn(e);return 0!==this.negative?0|-r:r}eq(e){return 0===this.cmp(e)}eqn(e){return 0===this.cmpn(e)}gt(e){return this.cmp(e)>0}gtn(e){return this.cmpn(e)>0}gte(e){return this.cmp(e)>=0}gten(e){return this.cmpn(e)>=0}lt(e){return this.cmp(e)<0}ltn(e){return this.cmpn(e)<0}lte(e){return this.cmp(e)<=0}lten(e){return this.cmpn(e)<=0}sign(){return 0!==this.negative?-1:1===this.length&&0===this.words[0]?0:1}isZero(){return 1===this.length&&0===this.words[0]}isNeg(){return 0!==this.negative}isPos(){return 0===this.negative}isOdd(){return 1==(1&this.words[0])}isEven(){return 0==(1&this.words[0])}ucmp(e){if(x(m.isBN(e),"num","bignum"),this.length<e.length)return-1;if(this.length>e.length)return 1;for(let t=this.length-1;t>=0;t--){const r=0|this.words[t],n=0|e.words[t];if(r!==n)return(r>n)-(r<n)}return 0}ucmpn(e){if(x(V(e),"num","smi"),this.length>1)return 1;const t=0|this.words[0];return e<0&&(e=-e),(t>e)-(t<e)}legendre(e){const t=g?m.red(e):m.mont(e);return this.toRed(t).redLegendre()}jacobi(e){if(x(m.isBN(e),"num","bignum"),e.isZero()||e.isEven())throw new Error("jacobi: `num` must be odd.");let t=this._cloneNormal(),r=e.clone(),n=1;for(r.isNeg()&&(t.isNeg()&&(n=-1),r.ineg()),(t.isNeg()||t.ucmp(r)>=0)&&t.imod(r);!t.isZero();){if(1&t._makeOdd()){const e=r.andln(7);3!==e&&5!==e||(n=-n)}t.ucmp(r)<0&&([t,r]=[r,t],3===t.andln(3)&&3===r.andln(3)&&(n=-n)),t._isub(t,r).iushrn(1);const e=r.andln(7);3!==e&&5!==e||(n=-n)}return 0!==r.cmpn(1)?0:n}kronecker(e){x(m.isBN(e),"num","bignum");const t=[0,1,0,-1,0,-1,0,1];let r=this._cloneNormal(),n=e.clone(),i=1;if(n.isZero())return 0===r.ucmpn(1)?i:0;if(!r.isOdd()&&!n.isOdd())return 0;for(1&n._makeOdd()&&(i=t[r.andln(7)]),n.isNeg()&&(r.isNeg()&&(i=-i),n.ineg());!r.isZero();){1&r._makeOdd()&&(i*=t[n.andln(7)]);(r.words[0]^67108863*r.negative)&n.words[0]&2&&(i=-i),n.imod(r),[r,n]=[n,r],n.negative=0}return 0!==n.cmpn(1)?0:i}igcd(e){return this.gcd(e)._move(this)}gcd(e){if(x(m.isBN(e),"num","bignum"),this.isZero())return e.abs();if(e.isZero())return this.abs();let t=this.clone(),r=e.clone();t.negative=0,r.negative=0;const n=t._factor2(r);for(0!==n&&(t.iushrn(n),r.iushrn(n));;){t._makeOdd(),r._makeOdd();const e=t.ucmp(r);if(e<0)[t,r]=[r,t];else if(0===e||0===r.ucmpn(1))break;t._isub(t,r)}return r.iushln(n)}ilcm(e){return this.lcm(e)._move(this)}lcm(e){return x(m.isBN(e),"num","bignum"),this.isZero()||e.isZero()?new m(0):this.quo(this.gcd(e)).mul(e).iabs()}egcd(e){if(x(m.isBN(e),"num","bignum"),this.isZero())return[new m(0),new m(e.sign()),e.abs()];if(e.isZero())return[new m(this.sign()),new m(0),this.abs()];const t=this.clone(),r=e.clone();t.negative=0,r.negative=0;const n=new m(1),i=new m(0),s=new m(0),a=new m(1),o=t._factor2(r);o>0&&(t.iushrn(o),r.iushrn(o));const c=t.clone(),u=r.clone();for(;!t.isZero();){let e=t._makeOdd(),o=r._makeOdd();for(;e--;)(n.isOdd()||i.isOdd())&&(n.iadd(u),i.isub(c)),n.iushrn(1),i.iushrn(1);for(;o--;)(s.isOdd()||a.isOdd())&&(s.iadd(u),a.isub(c)),s.iushrn(1),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(s),i.isub(a)):(r.isub(t),s.isub(n),a.isub(i))}return 0!==this.negative&&s.ineg(),0!==e.negative&&a.ineg(),[s,a,r.iushln(o)]}iinvert(e){return this.invert(e)._move(this)}invert(e){if(x(m.isBN(e),"num","bignum"),L(e.sign()>0,"invert"),e.isOdd())return this._invertp(e);if(0===e.cmpn(1))throw new RangeError("Not invertible.");const[t,,r]=this.egcd(e);if(0!==r.cmpn(1))throw new RangeError("Not invertible.");return t.imod(e)}ifermat(e){return this.fermat(e)._move(this)}fermat(e){const t=g?m.red(e):m.mont(e);return this.toRed(t).redFermat().fromRed()}ipowm(e,t,r){return this.powm(e,t,r)._move(this)}powm(e,t,r){const n=!g&&r?m.mont(t):m.red(t);return this.toRed(n).redPow(e).fromRed()}ipowmn(e,t,r){return this.powmn(e,t,r)._move(this)}powmn(e,t,r){const n=r?m.mont(t):m.red(t);return this.toRed(n).redPown(e).fromRed()}isqrtm(e){return this.sqrtm(e)._move(this)}sqrtm(e){let t;return x(m.isBN(e),"p","bignum"),t=3===e.andln(3)||5===e.andln(7)?m.red(e):m.mont(e),this.toRed(t).redSqrt().fromRed()}isqrtpq(e,t){return this.sqrtpq(e,t)._move(this)}sqrtpq(e,t){const r=this.sqrtm(e),n=this.sqrtm(t),[i,s]=e.egcd(t),a=n.mul(i).mul(e),o=r.mul(s).mul(t),c=e.mul(t);return a.iadd(o).imod(c)}isPrime(e,t,r){return x(t>>>0===t,"reps","uint32"),!!this.isPrimeMR(e,t+1,!0)&&!!this.isPrimeLucas(r)}isPrimeMR(e,t,r=!1){x(t>>>0===t,"reps","uint32"),x(t>0,"reps","integer"),x("boolean"==typeof r,"force2","boolean");const n=this;if(n.cmpn(7)<0)return 0===n.cmpn(2)||0===n.cmpn(3)||0===n.cmpn(5);if(n.isEven())return!1;const i=n.subn(1),s=i.subn(2),a=i.zeroBits(),o=i.ushrn(a),c=m.red(n),u=i.toRed(c),l=new m(1).toRed(c);e:for(let n=0;n<t;n++){let i;n===t-1&&r?i=new m(2):(i=m.random(e,0,s),i.iaddn(2));let f=i.toRed(c).redPow(o);if(0!==f.cmp(l)&&0!==f.cmp(u)){for(let e=1;e<a;e++){if(f=f.redSqr(),0===f.cmp(u))continue e;if(0===f.cmp(l))return!1}return!1}}return!0}isPrimeLucas(e=0){x(e>>>0===e,"limit","uint32");const t=this;if(t.cmpn(1)<=0)return!1;if(t.isEven())return 0===t.cmpn(2);let r=3;for(;;){if(r>1e4)throw new Error(`Cannot find (D/n) = -1 for ${t.toString(10)}.`);if(0!==e&&r>e)return!1;const n=new m(r*r-4).jacobi(t);if(-1===n)break;if(0===n)return 0===t.cmpn(r+2);if(40===r&&t.isSquare())return!1;r+=1}const n=t.addn(1),i=n._makeOdd();let s=new m(2),a=new m(r);for(let e=n.bitLength();e>=0;e--)n.utestn(e)?(s=s.mul(a).isubn(r).imod(t),a=a.sqr().isubn(2).imod(t)):(a=a.mul(s).isubn(r).imod(t),s=s.sqr().isubn(2).imod(t));if(0===s.cmpn(2)||0===s.cmp(t.subn(2))){const e=s.muln(r).imod(t),n=a.ushln(1).imod(t);if(0===e.cmp(n))return!0}for(let e=0;e<i-1;e++){if(s.isZero())return!0;if(0===s.cmpn(2))return!1;s=s.sqr().isubn(2).imod(t)}return!1}toTwos(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()}fromTwos(e){return x(e>>>0===e,"width","uint32"),L(e>0,"width"),this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()}toRed(e){if(x(e instanceof _,"ctx","reduction context"),this.red)throw new Error("Already in reduction context.");return e.convertTo(this)}fromRed(){return M(this.red,"fromRed"),this.red.convertFrom(this)}forceRed(e){if(x(e instanceof _,"ctx","reduction context"),this.red){if(!e.m.eq(this.red.m)||e.mont!==this.red.mont)throw new Error("Already in reduction context.")}else L(0===this.negative,"red"),L(this.ucmp(e.m)<0,"red");return this.clone()._forceRed(e)}redIAdd(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redIAdd"),this.red.iadd(this,e)}redAdd(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redAdd"),this.red.add(this,e)}redIAddn(e){return x(V(e),"num","smi"),M(this.red,"redIAddn"),this.red.iaddn(this,e)}redAddn(e){return x(V(e),"num","smi"),M(this.red,"redAddn"),this.red.addn(this,e)}redISub(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redISub"),this.red.isub(this,e)}redSub(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redSub"),this.red.sub(this,e)}redISubn(e){return x(V(e),"num","smi"),M(this.red,"redISubn"),this.red.isubn(this,e)}redSubn(e){return x(V(e),"num","smi"),M(this.red,"redSubn"),this.red.subn(this,e)}redIMul(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redIMul"),this.red.imul(this,e)}redMul(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redMul"),this.red.mul(this,e)}redIMuln(e){return x(V(e),"num","smi"),M(this.red,"redIMuln"),this.red.imuln(this,e)}redMuln(e){return x(V(e),"num","smi"),M(this.red,"redMuln"),this.red.muln(this,e)}redIDiv(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redIDiv"),this.red.idiv(this,e)}redDiv(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redDiv"),this.red.div(this,e)}redIDivn(e){return x(V(e),"num","smi"),M(this.red,"redIDivn"),this.red.idivn(this,e)}redDivn(e){return x(V(e),"num","smi"),M(this.red,"redDivn"),this.red.divn(this,e)}redIPow(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redIPow"),D(!e.red,"redIPow"),this.red.ipow(this,e)}redPow(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redPow"),D(!e.red,"redPow"),this.red.pow(this,e)}redIPown(e){return x(V(e),"num","smi"),M(this.red,"redIPown"),this.red.ipown(this,e)}redPown(e){return x(V(e),"num","smi"),M(this.red,"redPown"),this.red.pown(this,e)}redISqr(){return M(this.red,"redISqr"),this.red.isqr(this)}redSqr(){return M(this.red,"redSqr"),this.red.sqr(this)}redISqrt(){return M(this.red,"redISqrt"),this.red.isqrt(this)}redSqrt(){return M(this.red,"redSqrt"),this.red.sqrt(this)}redIDivSqrt(e){return M(this.red,"redIDivSqrt"),this.red.idivsqrt(this,e)}redDivSqrt(e){return M(this.red,"redDivSqrt"),this.red.divsqrt(this,e)}redIsSquare(){return M(this.red,"redIsSquare"),this.red.isSquare(this)}redIShl(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redIShl"),D(!e.red,"redIShl"),this.red.ishl(this,e)}redShl(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redShl"),D(!e.red,"redShl"),this.red.shl(this,e)}redIShln(e){return x(e>>>0===e,"num","uint32"),M(this.red,"redIShln"),this.red.ishln(this,e)}redShln(e){return x(e>>>0===e,"num","uint32"),M(this.red,"redShln"),this.red.shln(this,e)}redINeg(){return M(this.red,"redINeg"),this.red.ineg(this)}redNeg(){return M(this.red,"redNeg"),this.red.neg(this)}redEq(e){return x(m.isBN(e),"num","bignum"),M(this.red,"redEq"),this.red.eq(this,e)}redEqn(e){return x(V(e),"num","smi"),M(this.red,"redEqn"),this.red.eqn(this,e)}redIsHigh(){return M(this.red,"redIsHigh"),this.red.isHigh(this)}redIsLow(){return M(this.red,"redIsLow"),this.red.isLow(this)}redIsOdd(){return M(this.red,"redIsOdd"),this.red.isOdd(this)}redIsEven(){return M(this.red,"redIsEven"),this.red.isEven(this)}redLegendre(){return M(this.red,"redLegendre"),this.red.legendre(this)}redJacobi(){return M(this.red,"redJacobi"),this.red.jacobi(this)}redKronecker(){return M(this.red,"redKronecker"),this.red.kronecker(this)}redIInvert(){return M(this.red,"redIInvert"),this.red.iinvert(this)}redInvert(){return M(this.red,"redInvert"),this.red.invert(this)}redIFermat(){return M(this.red,"redIFermat"),this.red.ifermat(this)}redFermat(){return M(this.red,"redFermat"),this.red.fermat(this)}_move(e){return e.words=this.words,e.length=this.length,e.negative=this.negative,e.red=this.red,e}_alloc(e){for(;this.words.length<e;)this.words.push(0);return this}_expand(e){for(this._alloc(e);this.length<e;)this.words[this.length++]=0;return this}_strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length-=1;return this._normalize()}_normalize(){return P(this.length>0),1===this.length&&0===this.words[0]&&(this.negative=0),this}_check(){return P(this.length>0),P(this.length<=this.words.length),1===this.length?(0===this.words[0]&&P(0===this.negative),this):(P(0!==this.words[this.length-1]),this)}_invertp(e){if(x(m.isBN(e),"p","bignum"),L(e.sign()>0,"invert"),P(e.isOdd()),0===e.cmpn(1))throw new RangeError("Not invertible.");const t=this.clone(),r=e.clone(),n=new m(1),i=new m(0);for((t.isNeg()||t.ucmp(r)>=0)&&t.imod(r);!t.isZero();){let s=t._makeOdd(),a=r._makeOdd();for(;s--;)n.isOdd()&&n._iadd(n,e),n.iushrn(1);for(;a--;)i.isOdd()&&i._iadd(i,e),i.iushrn(1);t.ucmp(r)>=0?(t._isub(t,r),n.ucmp(i)<0?(n._isub(i,n),n._isub(e,n)):n._isub(n,i)):(r._isub(r,t),i.ucmp(n)<0?(i._isub(n,i),i._isub(e,i)):i._isub(i,n))}if(0!==r.cmpn(1))throw new RangeError("Not invertible.");return P(0===i.negative),P(i.ucmp(e)<0),i}_makeOdd(){const e=this.zeroBits();return e>0&&this.iushrn(e),e}_factor2(e){if(1&(this.words[0]|e.words[0]))return 0;const t=Math.min(this.length,e.length);let r=0;for(let n=0;n<t;n++){const t=F(this.words[n]|e.words[n]);if(r+=t,26!==t)break}return r}_cloneNormal(){return this.red?this.fromRed():this.clone()}_forceRed(e){return this.red=e,this}clone(){const e=new m;e.words=new Array(this.length);for(let t=0;t<this.length;t++)e.words[t]=this.words[t];return e.length=this.length,e.negative=this.negative,e.red=this.red,e}inject(e){x(m.isBN(e),"num","bignum"),this._alloc(e.length);for(let t=0;t<e.length;t++)this.words[t]=e.words[t];return this.length=e.length,this.negative=e.negative,this.red=e.red,this}set(e,t){return this.fromNumber(e,t)}swap(e){x(m.isBN(e),"num","bignum");const t=this,r=e;return[t.words,r.words]=[r.words,t.words],[t.length,r.length]=[r.length,t.length],[t.negative,r.negative]=[r.negative,t.negative],[t.red,r.red]=[r.red,t.red],t}reverse(){const e=this.negative;return this.fromBuffer(this.toBuffer("be"),"le"),this.negative=e,this}byteLength(){return Math.ceil(this.bitLength()/8)}bitLength(){const e=j(this.words[this.length-1]);return 26*(this.length-1)+e}zeroBits(){if(this.isZero())return 0;if(this.isOdd())return 0;let e=0;for(let t=0;t<this.length;t++){const r=F(this.words[t]);if(e+=r,26!==r)break}return e}isSafe(){return this.length<=2||3===this.length&&1===this.words[2]}word(e){return x(e>>>0===e,"pos","uint32"),e>=this.length?0:this.words[e]}[i](){let e="BN";return this.red&&(e="BN-R"),`<${e}: ${this.toString(10)}>`}toNumber(){let e=this.words[0];if(2===this.length)e+=67108864*this.words[1];else if(3===this.length&&1===this.words[2])e+=4503599627370496+67108864*this.words[1];else if(this.length>2)throw new RangeError("Number can only safely store up to 53 bits.");return 0!==this.negative?-e:e}toDouble(){let e=0;for(let t=this.length-1;t>=0;t--)e=67108864*e+this.words[t];return 0!==this.negative?-e:e}valueOf(){return this.toDouble()}toBigInt(){if(!g)throw new Error("BigInt is not supported!");const e=BigInt(52),t=BigInt(26);let r=this.length-1,n=BigInt(0);for(;r>=1;r-=2){const t=67108864*this.words[r],i=this.words[r-1];n=n<<e|BigInt(t+i)}return r>=0&&(n=n<<t|BigInt(this.words[0])),0!==this.negative?-n:n}toBool(){return!this.isZero()}toString(e,t){if(null==t&&(t=0),0===t&&(t=1),x((e=q(e))>>>0===e,"base","uint32"),x(t>>>0===t,"padding","uint32"),e<2||e>36)throw new RangeError("Base ranges between 2 and 36.");if(this._check(),16===e){let e="",r=0,n=0;for(let t=0;t<this.length;t++){const i=this.words[t],a=(16777215&(i<<r|n)).toString(16);n=i>>>24-r&16777215,e=0!==n||t!==this.length-1?s[6-a.length]+a+e:a+e,r+=2,r>=26&&(r-=26,t-=1)}for(0!==n&&(e=n.toString(16)+e);e.length%t!=0;)e="0"+e;return 0!==this.negative&&(e="-"+e),e}const r=a[e-1],n=o[e-1],i=this.clone();let c="";for(i.negative=0;!i.isZero();){const t=i.remrn(n).toString(e);i.iquon(n),c=i.isZero()?t+c:s[r-t.length]+t+c}for(this.isZero()&&(c="0");c.length%t!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}toJSON(){return this.toString(16,2)}toArray(e,t){return this.toArrayLike(Array,e,t)}toBuffer(e,t){return this.toArrayLike(n,e,t)}toArrayLike(e,t,r){null==t&&(t="be"),null==r&&(r=0),x("function"==typeof e,"ArrayType","function"),x("be"===t||"le"===t,"endian","endianness"),x(r>>>0===r,"length","uint32"),this._check();const n=this.byteLength(),i=r||Math.max(1,n);if(n>i)throw new RangeError("Byte array longer than desired length.");const s=function(e,t){return e.allocUnsafeSlow?e.allocUnsafeSlow(t):new e(t)}(e,i);if("be"===t){let e=s.length-1,t=0;for(let r=0;r<this.length;r++){const n=(3&r)<<1,i=this.words[r]<<n|t;s[e--]=255&i,e>=0&&(s[e--]=i>>>8&255),e>=0&&(s[e--]=i>>>16&255),6===n?(e>=0&&(s[e--]=i>>>24&255),t=0):t=i>>>24}if(e>=0){for(s[e--]=t;e>=0;)s[e--]=0;t=0}P(0===t)}else{let e=0,t=0;for(let r=0;r<this.length;r++){const n=(3&r)<<1,i=this.words[r]<<n|t;s[e++]=255&i,e<s.length&&(s[e++]=i>>>8&255),e<s.length&&(s[e++]=i>>>16&255),6===n?(e<s.length&&(s[e++]=i>>>24&255),t=0):t=i>>>24}if(e<s.length){for(s[e++]=t;e<s.length;)s[e++]=0;t=0}P(0===t)}return s}encode(e,t){return this.toBuffer(e,t)}of(e,t){return this.fromNumber(e,t)}fromNumber(e,t){null==t&&(t="be"),x(K(e),"num","integer"),x("be"===t||"le"===t,"endian","endianness");const r=e<0|0;return r&&(e=-e),e<67108864?(this.words[0]=67108863&e,this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(this.words=[67108863&e,e/67108864&67108863,1],this.length=3),this.negative=r,"le"===t&&this.reverse(),this}fromDouble(e,t){null==t&&(t="be"),x("number"==typeof e,"num","double"),x("be"===t||"le"===t,"endian","endianness"),isFinite(e)||(e=0);const r=e<=-1|0;for(e<0&&(e=-e),e=Math.floor(e),this.words=[];e>0;){const t=e%67108864,r=(e-t)/67108864;this.words.push(t),e=r}return 0===this.words.length&&this.words.push(0),this.length=this.words.length,this.negative=r,"le"===t&&this.reverse(),this}fromBigInt(e,t){if(null==t&&(t="be"),x("bigint"==typeof e,"num","bigint"),x("be"===t||"le"===t,"endian","endianness"),!g)throw new Error("BigInt is not supported!");const r=e<BigInt(0)|0;return this._fromHex(e.toString(16),r),this.negative=r,"le"===t&&this.reverse(),this}fromBool(e){return x("boolean"==typeof e,"value","boolean"),this.words[0]=0|e,this.length=1,this.negative=0,this}fromString(e,t,r){if("le"!==t&&"be"!==t||([t,r]=[r,t]),t=q(t),null==r&&(r="be"),x("string"==typeof e,"string","string"),x(t>>>0===t,"base","uint32"),x("be"===r||"le"===r,"endian","endianness"),t<2||t>36)throw new Error("Base ranges between 2 and 36.");let n=0;return(e=e.replace(/\s+/g,"")).length>0&&45===e.charCodeAt(0)&&(n=1),16===t?this._fromHex(e,n):this._fromBase(e,t,n),this.negative=n,this._normalize(),"le"===r&&this.reverse(),this}_fromHex(e,t){this.length=Math.max(2,Math.ceil((e.length-t)/6)),this.words=new Array(this.length);for(let e=0;e<this.length;e++)this.words[e]=0;let r=0,n=e.length-6,i=0;for(;n>=t;n-=6){const t=z(e,n,n+6);this.words[i]|=t<<r&67108863,this.words[i+1]|=t>>>26-r&4194303,r+=24,r>=26&&(r-=26,i+=1)}if(n+6!==t){const s=z(e,t,n+6);this.words[i]|=s<<r&67108863,this.words[i+1]|=s>>>26-r&4194303}return this._strip()}_fromBase(e,t,r){this.words[0]=0,this.length=1,this.negative=0;let n=0,i=1;for(;i<=67108863;i*=t)n+=1;n-=1,i=i/t|0;const s=e.length-r,a=s%n,o=Math.min(s,s-a)+r;let c=r;for(;c<o;c+=n){const r=J(e,c,c+n,t);this.imuln(i),this._iaddn(r)}if(0!==a){const r=Math.pow(t,a),n=J(e,c,e.length,t);this.imuln(r),this._iaddn(n)}return this}fromJSON(e){if(m.isBN(e))return e.red?e.fromRed():e.clone();if(Array.isArray(e)){for(const t of e)x("string"==typeof t,"chunk","string");e=e.join("")}return this.fromString(e,16)}fromBN(e){return this.inject(e)}fromArray(e,t){return x(Array.isArray(e),"data","array"),this.fromArrayLike(e,t)}fromBuffer(e,t){return x(n.isBuffer(e),"data","buffer"),this.fromArrayLike(e,t)}fromArrayLike(e,t){if(null==t&&(t="be"),x(e&&e.length>>>0===e.length,"data","array-like"),x("be"===t||"le"===t,"endian","endianness"),0===e.length)return this.words[0]=0,this.length=1,this.negative=0,this;this.length=Math.max(2,Math.ceil(e.length/3)),this.words=new Array(this.length),this.negative=0;for(let e=0;e<this.length;e++)this.words[e]=0;const r=e.length%3;let n=0,i=0,s=0;if("be"===t){for(let t=e.length-1;t>=2;t-=3){const r=e[t]|e[t-1]<<8|e[t-2]<<16;this.words[i]|=r<<n&67108863,this.words[i+1]=r>>>26-n&67108863,n+=24,n>=26&&(n-=26,i+=1)}switch(r){case 2:s=e[1]|e[0]<<8;break;case 1:s=e[0]}}else{const t=e.length-r;for(let r=0;r<t;r+=3){const t=e[r]|e[r+1]<<8|e[r+2]<<16;this.words[i]|=t<<n&67108863,this.words[i+1]=t>>>26-n&67108863,n+=24,n>=26&&(n-=26,i+=1)}switch(r){case 2:s=e[t]|e[t+1]<<8;break;case 1:s=e[t]}}return r>0&&(this.words[i]|=s<<n&67108863,this.words[i+1]=s>>>26-n&67108863),this._strip()}decode(e,t){return this.fromBuffer(e,t)}from(e,t,r){if(null==e)return this;if("le"!==t&&"be"!==t||([t,r]=[r,t]),"number"==typeof e)return this.fromNumber(e,r);if("bigint"==typeof e)return this.fromBigInt(e,r);if("string"==typeof e)return this.fromString(e,t,r);if("object"==typeof e){if(m.isBN(e))return this.fromBN(e,r);if(e.length>>>0===e.length)return this.fromArrayLike(e,r)}if("boolean"==typeof e)return this.fromBool(e);throw new TypeError("Non-numeric object passed to BN.")}static min(...e){let t=null;for(const r of e)x(m.isBN(r),"num","bignum"),(!t||r.cmp(t)<0)&&(t=r);return t||new m(0)}static max(...e){let t=null;for(const r of e)x(m.isBN(r),"num","bignum"),(!t||r.cmp(t)>0)&&(t=r);return t||new m(0)}static cmp(e,t){return x(m.isBN(e),"a","bignum"),e.cmp(t)}static ucmp(e,t){return x(m.isBN(e),"a","bignum"),e.ucmp(t)}static red(e){return new _(e)}static barrett(e){return new B(e)}static mont(e){return new N(e)}static _prime(e){if(c[e])return c[e];let t;if("p192"===e)t=new S;else if("p224"===e)t=new E;else if("p521"===e)t=new w;else if("k256"===e)t=new C;else if("p251"===e)t=new A;else if("p25519"===e)t=new I;else{if("p448"!==e)throw new Error(`Unknown prime: "${e}".`);t=new T}return c[e]=t,t}static prime(e){return m._prime(e).p.clone()}static pow(e,t){return 2===e?m.shift(1,t):(new m).fromNumber(e).pown(t)}static shift(e,t){return 1===e?new m(0).usetn(t,1):(new m).fromNumber(e).ishln(t)}static mask(e){return m.shift(1,e).isubn(1)}static randomBits(e,t){if(x(null!=e,"rng","rng"),x(t>>>0===t,"bits","uint32"),"object"==typeof e){x("function"==typeof e.randomBytes,"rng","rng");const r=t+7>>>3,i=8*r,s=e.randomBytes(r);if(x(n.isBuffer(s),"bytes","buffer"),s.length!==r)throw new RangeError("Invalid number of bytes returned from RNG.");const a=m.fromBuffer(s);return i>t&&a.iushrn(i-t),a}x("function"==typeof e,"rng","rng");const r=e(t);if(x(m.isBN(r),"num","bignum"),L(0===r.negative,"RNG"),D(!r.red,"RNG"),r.bitLength()>t)throw new RangeError("Invalid number of bits returned from RNG.");return r}static random(e,t,r){if(t=m.cast(t,16),r=m.cast(r,16),t.cmp(r)>0)throw new RangeError("Minimum cannot be greater than maximum.");const n=r.sub(t).iabs(),i=n.bitLength();if(0===i)return t.clone();for(;;){const r=m.randomBits(e,i);if(!(r.cmp(n)>=0))return r.iadd(t),r}}static of(e,t){return(new m).of(e,t)}static fromNumber(e,t){return(new m).fromNumber(e,t)}static fromDouble(e,t){return(new m).fromDouble(e,t)}static fromBigInt(e,t){return(new m).fromBigInt(e,t)}static fromBool(e){return(new m).fromBool(e)}static fromString(e,t,r){return(new m).fromString(e,t,r)}static fromJSON(e){return(new m).fromJSON(e)}static fromBN(e){return(new m).fromBN(e)}static fromArray(e,t){return(new m).fromArray(e,t)}static fromBuffer(e,t){return(new m).fromBuffer(e,t)}static fromArrayLike(e,t){return(new m).fromArrayLike(e,t)}static decode(e,t){return(new m).decode(e,t)}static from(e,t,r){return(new m).from(e,t,r)}static cast(e,t,r){return m.isBN(e)?e:new m(e,t,r)}static isBN(e){return e instanceof m}}m.BN=m,m.wordSize=26,m.native=0;class b{constructor(e,t){this.name=e,this.p=new m(t,16),this.n=this.p.bitLength(),this.k=m.shift(1,this.n).isub(this.p),this.lo=this.p.clone(),this.one=this.p.clone()}ireduce(e){const t=0!==e.negative;let r=e.bitLength();for(P(r<=2*this.n),e.negative=0;r>this.n;)this.split(e,this.lo),this.imulK(e),e._iadd(e,this.lo),r=e.bitLength();const n=r<this.n?-1:e.ucmp(this.p);return 0===n?(e.words[0]=0,e.length=1):n>0&&e._isub(e,this.p),t&&!e.isZero()&&e._isub(this.p,e),e}split(e,t){e._split(this.n,t)}imulK(e){return e.imul(this.k)}pm2(e){throw new Error("Not implemented.")}fermat(e){return this.pm2(e)}}class y extends b{constructor(e,t){super(e,t)}pm3d4(e){throw new Error("Not implemented.")}pp1d4(e){throw new Error("Not implemented.")}sqrt(e){const{red:t}=e,r=this.pp1d4(e);if(!t.sqr(r).eq(e))throw new U(r);return r}divsqrt(e,t){const{red:r}=e,n=r.sqr(e),i=r.mul(n,e),s=r.mul(i,n),a=r.mul(r.sqr(t),t),o=this.pm3d4(r.mul(s,a)),c=r.mul(r.mul(i,t),o);if(r.mul(t,r.sqr(c)).eq(e))return c;throw new U(c)}}class v extends b{constructor(e,t,r){super(e,t),this.sm1=new m(r,16)}pm5d8(e){throw new Error("Not implemented.")}pp3d8(e){throw new Error("Not implemented.")}sqrt(e){const{red:t}=e,r=this.sm1._forceRed(t),n=this.pp3d8(e);if(t.sqr(n).eq(e))return n;const i=t.mul(n,r);if(t.sqr(i).eq(e))return i;throw new U(n)}divsqrt(e,t){const{red:r}=e,n=this.sm1._forceRed(r),i=r.mul(r.sqr(t),t),s=r.mul(r.sqr(i),t),a=this.pm5d8(r.mul(e,s)),o=r.mul(r.mul(e,i),a),c=r.mul(t,r.sqr(o));if(c.eq(e))return o;const u=r.ineg(c);if(u.eq(e))return r.mul(o,n);if(u.eq(r.mul(e,n)))throw new U(r.mul(o,n));throw new U(o)}}class k extends b{constructor(e,t,r){super(e,t),this.g=new m(r,16),this.z=this.p.subn(1).zeroBits()}powS(e){throw new Error("Not implemented.")}powE(e){throw new Error("Not implemented.")}sqrt(e){const{red:t}=e;switch(t.jacobi(e)){case-1:throw new U(e);case 0:return e.clone()}let r=this.g._forceRed(t),n=this.powE(e),i=this.powS(e),s=this.z;for(;;){let e=i,a=0;for(;0!==e.cmpn(1)&&a<s;)e=t.sqr(e),a+=1;if(0===a)break;P(a<s),e=t.sqrn(r,s-a-1),r=t.sqr(e),n=t.mul(n,e),i=t.mul(i,r),s=a}return n}divsqrt(e,t){const{red:r}=e;if(t.isZero())throw new U(t);return this.sqrt(r.div(e,t))}}class S extends y{constructor(){super("p192","ffffffff ffffffff ffffffff fffffffeffffffff ffffffff")}imulK(e){const t=this.one.inject(e);return e.iushln(64)._iadd(e,t)}core(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=t.sqrnmul(r,1,e),i=t.sqrnmul(n,3,n),s=t.sqrnmul(i,6,i),a=t.sqrnmul(s,12,s),o=t.sqrnmul(a,6,i),c=t.sqrnmul(o,1,e),u=t.sqrnmul(c,31,c),l=t.sqrnmul(u,62,u),f=t.sqrnmul(l,3,n),d=t.sqrn(f,1);return t.sqrnmul(d,62,u)}pm3d4(e){return this.core(e)}pm2(e){const{red:t}=e,r=this.core(e),n=t.sqrn(r,1);return t.sqrnmul(n,1,e)}pp1d4(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=t.sqrnmul(r,2,r),i=t.sqrnmul(n,4,n),s=t.sqrnmul(i,8,i),a=t.sqrnmul(s,16,s),o=t.sqrnmul(a,32,a),c=t.sqrnmul(o,64,o);return t.sqrn(c,62)}}class E extends k{constructor(){super("p224","ffffffff ffffffff ffffffff ffffffff00000000 00000000 00000001","6a0fec67 8598a792 0c55b2d4 0b2d6ffbbea3d8ce f3fb3632 dc691b74")}imulK(e){const t=this.one.inject(e);return e.iushln(96)._isub(e,t)}powS(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=t.sqrnmul(r,2,r),i=t.sqrnmul(n,4,n),s=t.sqrnmul(i,8,i),a=t.sqrnmul(s,16,s),o=t.sqrnmul(a,32,a);return t.sqrnmul(o,64,o)}powE(e){const{red:t}=e;return t.sqrn(e,127)}pm2(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=t.sqrnmul(r,1,e),i=t.sqrnmul(n,3,n),s=t.sqrnmul(i,6,i),a=t.sqrnmul(s,12,s),o=t.sqrnmul(a,24,a),c=t.sqrnmul(o,48,o),u=t.sqrnmul(c,24,a),l=t.sqrnmul(u,6,i),f=t.sqrnmul(l,1,e),d=t.sqrn(f,1);return t.sqrnmul(d,96,c)}}class w extends y{constructor(){super("p521","000001ff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff")}imulK(e){return e}core(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=t.sqrnmul(r,1,e),i=t.sqrnmul(n,3,n),s=t.sqrnmul(i,1,e),a=t.sqrnmul(s,1,e),o=t.sqrnmul(a,8,a),c=t.sqrnmul(o,16,o),u=t.sqrnmul(c,32,c),l=t.sqrnmul(u,64,u),f=t.sqrnmul(l,128,l),d=t.sqrnmul(f,256,f);return t.sqrnmul(d,7,s)}pm3d4(e){return this.core(e)}pm2(e){const{red:t}=e,r=this.core(e),n=t.sqrn(r,1);return t.sqrnmul(n,1,e)}pp1d4(e){const{red:t}=e;return t.sqrn(e,519)}}class C extends y{constructor(){super("k256","ffffffff ffffffff ffffffff ffffffffffffffff ffffffff fffffffe fffffc2f")}split(e,t){const r=4194303,n=Math.min(e.length,9);t._alloc(n+1);for(let r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return t._strip(),e.words[0]=0,void(e.length=1);let i=e.words[9],s=10;for(t.words[t.length++]=i&r,t._strip();s<e.length;s++){const t=0|e.words[s];e.words[s-10]=(t&r)<<4|i>>>22,i=t}i>>>=22,e.words[s-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9,e._strip()}imulK(e){e._expand(e.length+2);let t=0;for(let r=0;r<e.length;r++){const n=e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+Math.floor(t/67108864)}return 0===e.words[e.length-1]&&(e.length-=1,0===e.words[e.length-1]&&(e.length-=1)),e}core(e,t){const{red:r}=e,n=r.sqrnmul(t,1,e),i=r.sqrnmul(n,3,n),s=r.sqrnmul(i,3,n),a=r.sqrnmul(s,2,t),o=r.sqrnmul(a,11,a),c=r.sqrnmul(o,22,o),u=r.sqrnmul(c,44,c),l=r.sqrnmul(u,88,u),f=r.sqrnmul(l,44,c),d=r.sqrnmul(f,3,n),h=r.sqrn(d,1),p=r.sqrnmul(h,22,o);return r.sqrn(p,4)}pm3d4(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=this.core(e,r),i=t.sqrnmul(n,1,e),s=t.sqrn(i,1);return t.sqrnmul(s,2,r)}pm2(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=this.core(e,r),i=t.sqrnmul(n,1,e),s=t.sqrn(i,1),a=t.sqrnmul(s,2,r),o=t.sqrn(a,1);return t.sqrnmul(o,1,e)}pp1d4(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=this.core(e,r),i=t.sqrnmul(n,2,r);return t.sqrn(i,2)}}class A extends y{constructor(){super("p251","07ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffff7")}imulK(e){if(e.isZero())return e;let t=0;for(let r=0;r<e.length;r++){const n=9*e.words[r]+t;t=n>>>26,e.words[r]=67108863&n}return 0!==t&&(e._alloc(e.length+1),e.words[e.length++]=t),e}core(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=t.sqrnmul(r,1,e),i=t.sqrnmul(n,3,n),s=t.sqrnmul(i,6,i),a=t.sqrnmul(s,12,s),o=t.sqrnmul(a,24,a),c=t.sqrnmul(o,48,o),u=t.sqrnmul(c,96,c),l=t.sqrnmul(u,48,o),f=t.sqrnmul(l,6,i);return t.sqrnmul(f,1,e)}pm3d4(e){const{red:t}=e,r=this.core(e),n=t.sqrn(r,1);return t.sqrnmul(n,1,e)}pm2(e){const{red:t}=e,r=this.core(e),n=t.sqrn(r,1),i=t.sqrnmul(n,1,e),s=t.sqrn(i,1);return t.sqrnmul(s,1,e)}pp1d4(e){const{red:t}=e,r=this.core(e),n=t.sqrnmul(r,1,e);return t.sqrn(n,1)}}class I extends v{constructor(){super("p25519","7fffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffed","2b832480 4fc1df0b 2b4d0099 3dfbd7a72f431806 ad2fe478 c4ee1b27 4a0ea0b0")}imulK(e){let t=0;for(let r=0;r<e.length;r++){const n=19*e.words[r]+t;t=n>>>26,e.words[r]=67108863&n}return 0!==t&&(e._alloc(e.length+1),e.words[e.length++]=t),e}core(e,t){const{red:r}=e,n=r.sqrnmul(t,2,t),i=r.sqrnmul(n,1,e),s=r.sqrnmul(i,5,i),a=r.sqrnmul(s,10,s),o=r.sqrnmul(a,20,a),c=r.sqrnmul(o,10,s),u=r.sqrnmul(c,50,c),l=r.sqrnmul(u,100,u);return r.sqrnmul(l,50,c)}pm5d8(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=this.core(e,r),i=t.sqrn(n,1);return t.sqrnmul(i,1,e)}pm2(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=this.core(e,r),i=t.sqrn(n,1),s=t.sqrnmul(i,1,e),a=t.sqrn(s,1);return t.sqrnmul(a,2,r)}pp3d8(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=this.core(e,r),i=t.sqrnmul(n,1,e);return t.sqrn(i,1)}}class T extends y{constructor(){super("p448","ffffffff ffffffff ffffffff ffffffffffffffff ffffffff fffffffe ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff")}imulK(e){const t=this.one.inject(e);return e.iushln(224)._iadd(e,t)}core(e,t){const{red:r}=e,n=r.sqrnmul(t,1,e),i=r.sqrnmul(n,3,n),s=r.sqrnmul(i,3,n),a=r.sqrnmul(s,2,t),o=r.sqrnmul(a,11,a),c=r.sqrnmul(o,22,o),u=r.sqrnmul(c,44,c),l=r.sqrnmul(u,88,u),f=r.sqrnmul(l,44,c);return r.sqrnmul(f,2,t)}pm3d4(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=this.core(e,r),i=t.sqrnmul(n,1,e),s=t.sqrn(i,1);return t.sqrnmul(s,222,n)}pm2(e){const{red:t}=e,r=this.pm3d4(e),n=t.sqrn(r,1);return t.sqrnmul(n,1,e)}pp1d4(e){const{red:t}=e,r=t.sqrnmul(e,1,e),n=this.core(e,r),i=t.sqrnmul(n,2,r);return t.sqrn(i,222)}}class _{constructor(e){let t=null;"string"==typeof e&&(t=m._prime(e),e=t.p),x(m.isBN(e),"m","bignum"),D(!e.red,"reduction"),L(e.sign()>0,"reduction"),this.m=e,this.prime=t,this.mb=null,this.sm1=null}_verify1(e){L(0===e.negative,"red"),M(null!=e.red,"red")}_verify2(e,t){L(0==(e.negative|t.negative),"red"),M(null!=e.red&&e.red===t.red,"red")}get mont(){return!1}precompute(){if(null===this.sm1&&5===this.m.andln(7))if(this.prime)this.sm1=this.prime.sm1.clone()._forceRed(this);else{const e=new m(2).toRed(this),t=this.m.subn(1).iushrn(2);this.sm1=this.pow(e,t)}return this}convertTo(e){const t=e.mod(this.m);return t.red=this,t}convertFrom(e){const t=e.clone();return t.red=null,t}intTo(e){return e}intFrom(e){return e}imod(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.imod(this.m)._forceRed(this)}iadd(e,t){return this._verify2(e,t),e._iadd(e,t),e.ucmp(this.m)>=0&&e._isub(e,this.m),e}add(e,t){return e.length<t.length?this.iadd(t.clone(),e):this.iadd(e.clone(),t)}iaddn(e,t){return this._verify1(e),t<0?this.isubn(e,-t):(1===this.m.length&&(t%=this.m.words[0]),e._iaddn(t),e.ucmp(this.m)>=0&&e._isub(e,this.m),e)}addn(e,t){return this.iaddn(e.clone(),t)}isub(e,t){this._verify2(e,t);const r=e.ucmp(t);return 0===r?(e.words[0]=0,e.length=1,e):(r<0?(e._isub(t,e),e._isub(this.m,e)):e._isub(e,t),e)}sub(e,t){return this.isub(e.clone(),t)}isubn(e,t){return this._verify1(e),t<0?this.iaddn(e,-t):(1===this.m.length&&(t%=this.m.words[0]),1===e.length&&e.words[0]<t?(e.words[0]=t-e.words[0],e._isub(this.m,e)):e._isubn(t),e)}subn(e,t){return this.isubn(e.clone(),t)}imul(e,t){return this._verify2(e,t),this.imod(e.imul(t))}mul(e,t){return this._verify2(e,t),this.imod(e.mul(t))}imuln(e,t){if(this._verify1(e),e.isZero())return e;if(0===t)return e.words[0]=0,e.length=1,e;const r=t<0;if(r&&(t=-t),1===this.m.length&&(t%=this.m.words[0]),e.imuln(t),t<=16)for(;e.ucmp(this.m)>=0;)e._isub(e,this.m);else this.imod(e);return r&&this.ineg(e),e}muln(e,t){return this.imuln(e.clone(),t)}idiv(e,t){return this.div(e,t)._move(e)}div(e,t){return this.mul(e,this.invert(t))}idivn(e,t){return this.divn(e,t)._move(e)}divn(e,t){return this.div(e,this.convertTo(new m(t)))}ipow(e,t){return this.pow(e,t)._move(e)}pow(e,t){return this._verify1(e),t.isNeg()&&(e=this.invert(e)),1===t.length?this.pown(e,t.words[0]):g&&!this.prime?this.powInt(e,t):this.powNum(e,t)}powNum(e,t){const r=new m(1).toRed(this),n=new Array(8),i=this.sqr(e);n[0]=e;for(let e=1;e<8;e++)n[e]=this.mul(n[e-1],i);let s=t.bitLength(),a=r;for(;s>=4;){let e=4,i=t.bits(s-e,e);if(i<8)a=this.sqr(a),s-=1;else{for(;0==(1&i);)e-=1,i>>=1;a===r?a=n[i>>1].clone():(a=this.sqrn(a,e),a=this.mul(a,n[i>>1])),s-=e}}if(s>0){const r=t.bits(0,s);for(;s--;)a=this.sqr(a),r>>s&1&&(a=this.mul(a,e))}return a}powInt(e,t){null===this.mb&&(this.mb=this.m.toBigInt());const r=function(e,t,r){const n=BigInt(1),i=new Array(8),s=e*e%r;i[0]=e;for(let e=1;e<8;e++)i[e]=i[e-1]*s%r;let a=t.bitLength(),o=n;for(;a>=4;){let e=4,s=t.bits(a-e,e);if(s<8)o=o*o%r,a-=1;else{for(;0==(1&s);)e-=1,s>>=1;o===n?o=i[s>>1]:(o=H(o,e,r),o=o*i[s>>1]%r),a-=e}}if(a>0){const n=t.bits(0,a);for(;a--;)o=o*o%r,n>>a&1&&(o=o*e%r)}return o}(this.intFrom(e.toBigInt()),t,this.mb),n=this.intTo(r);return m.fromBigInt(n)._forceRed(this)}sqrn(e,t){for(;t--;)e=this.sqr(e);return e}sqrnmul(e,t,r){return this.mul(this.sqrn(e,t),r)}ipown(e,t){return this.pown(e,t)._move(e)}pown(e,t){if(this._verify1(e),t<0&&(e=this.invert(e),t=-t),0===t)return new m(1).toRed(this);if(1===t)return e.clone();let r=e;for(let n=j(t)-2;n>=0;n--)r=this.sqr(r),t>>n&1&&(r=this.mul(r,e));return r}isqr(e){return this.imul(e,e)}sqr(e){return this.mul(e,e)}isqrt(e){return this.sqrt(e)._move(e)}sqrt(e){return this._verify1(e),this.prime?this.prime.sqrt(e):3===this.m.andln(3)?this.sqrt3mod4(e):5===this.m.andln(7)?null!=this.sm1?this.sqrt5mod8sm1(e):this.sqrt5mod8(e):this.sqrt0(e)}sqrt3mod4(e){const t=this.m.addn(1).iushrn(2),r=this.pow(e,t);if(!this.sqr(r).eq(e))throw new U(r);return r}sqrt5mod8(e){const t=new m(1).toRed(this),r=this.m.ushrn(3),n=this.add(e,e),i=this.pow(n,r),s=this.mul(n,this.sqr(i)),a=this.mul(this.mul(i,e),this.isub(s,t));if(!this.sqr(a).eq(e))throw new U(a);return a}sqrt5mod8sm1(e){const t=this.m.addn(3).iushrn(3),r=this.pow(e,t);if(this.sqr(r).eq(e))return r;const n=this.mul(r,this.sm1);if(this.sqr(n).eq(e))return n;throw new U(r)}sqrt0(e){if(0===this.m.cmpn(1)||!this.m.isOdd())throw new Error("Invalid prime.");switch(this.jacobi(e)){case-1:throw new U(e);case 0:return e.clone()}const t=new m(1).toRed(this),r=this.m.subn(1),n=r._makeOdd(),i=new m(2).toRed(this);for(;-1!==this.jacobi(i);)this.iadd(i,t);let s=this.pow(i,r),a=this.pow(e,r),o=this.pow(e,r.iaddn(1).iushrn(1)),c=n;for(;;){let e=a,r=0;for(;!e.eq(t)&&r<c;)e=this.sqr(e),r+=1;if(0===r)break;P(r<c),e=this.sqrn(s,c-r-1),s=this.sqr(e),o=this.mul(o,e),a=this.mul(a,s),c=r}return o}idivsqrt(e,t){return this.divsqrt(e,t)._move(e)}divsqrt(e,t){if(this._verify2(e,t),e.isZero()&&t.isZero())throw new U(t);if(this.prime)return this.prime.divsqrt(e,t);if(3===this.m.andln(3))return this.divsqrt3mod4(e,t);if(null!=this.sm1&&5===this.m.andln(7))return this.divsqrt5mod8(e,t);if(t.isZero())throw new U(t);return this.sqrt(this.div(e,t))}divsqrt3mod4(e,t){const r=this.m.subn(3).iushrn(2),n=this.sqr(e),i=this.mul(n,e),s=this.mul(i,n),a=this.mul(this.sqr(t),t),o=this.pow(this.mul(s,a),r),c=this.mul(this.mul(i,t),o);if(this.mul(t,this.sqr(c)).eq(e))return c;throw new U(c)}divsqrt5mod8(e,t){const r=this.m.subn(5).iushrn(3),n=this.mul(this.sqr(t),t),i=this.mul(this.sqr(n),t),s=this.pow(this.mul(e,i),r),a=this.mul(this.mul(e,n),s),o=this.mul(t,this.sqr(a));if(o.eq(e))return a;const c=this.ineg(o);if(c.eq(e))return this.mul(a,this.sm1);if(c.eq(this.mul(e,this.sm1)))throw new U(this.mul(a,this.sm1));throw new U(a)}isSquare(e){return this.m.isOdd()?this.jacobi(e)>=0:this.kronecker(e)>=0}ishl(e,t){return this._verify1(e),this.imod(e.iushl(t))}shl(e,t){return this.ishl(e.clone(),t)}ishln(e,t){if(this._verify1(e),e.iushln(t),t<=4)for(;e.ucmp(this.m)>=0;)e._isub(e,this.m);else this.imod(e);return e}shln(e,t){return this.ishln(e.clone(),t)}ineg(e){return this._verify1(e),e.isZero()||e._isub(this.m,e),e}neg(e){return this.ineg(e.clone())}eq(e,t){return this._verify2(e,t),0===e.ucmp(t)}eqn(e,t){if(this._verify1(e),1===this.m.length)return(t%=this.m.words[0])<0&&(t+=this.m.words[0]),0===e.ucmpn(t);if(t<0){this.m._isubn(-t);const r=e.ucmp(this.m);return this.m._iaddn(-t),0===r}return 0===e.ucmpn(t)}isHigh(e){return!this.isLow(e)}isLow(e){return this._verify1(e),e.ucmp(this.m.ushrn(1))<=0}isOdd(e){return this._verify1(e),e.isOdd()}isEven(e){return this._verify1(e),e.isEven()}legendre(e){if(this._verify1(e),this.m.isEven())throw new Error("legendre: `num` must be odd.");const t=this.m.subn(1).iushrn(1),r=this.pow(e,t);if(r.isZero())return 0;const n=new m(1).toRed(this);if(r.eq(n))return 1;if(r.eq(this.ineg(n)))return-1;throw new Error("Invalid prime.")}jacobi(e){return this._verify1(e),e.jacobi(this.m)}kronecker(e){return this._verify1(e),e.kronecker(this.m)}iinvert(e){return this.invert(e)._move(e)}invert(e){return this._verify1(e),e.invert(this.m)._forceRed(this)}ifermat(e){return this.fermat(e)._move(e)}fermat(e){if(this._verify1(e),e.isZero()||0===this.m.cmpn(1))throw new RangeError("Not invertible.");return this.prime?this.prime.fermat(e):this.pow(e,this.m.subn(2))}invertAll(e){x(Array.isArray(e),"elems","array");for(const t of e)x(m.isBN(t),"elem","bignum"),this._verify1(t);if(0===this.m.cmpn(1)||this.m.isEven())throw new RangeError("Not invertible.");const t=e.length,r=new Array(t);if(0===t)return r;let n=new m(1).toRed(this);for(let i=0;i<t;i++)e[i].isZero()?r[i]=e[i].clone():(r[i]=n,n=this.mul(n,e[i]));n=this.invert(n);for(let i=t-1;i>=0;i--)e[i].isZero()||(r[i]=this.mul(n,r[i]),n=this.mul(n,e[i]));return r}[i](){return this.prime?`<Red: ${this.prime.name}>`:`<Red: ${this.m.toString(10)}>`}}class B extends _{constructor(e){super(e),this.prime=null,this.n=this.m.bitLength(),this.n%26!=0&&(this.n+=26-this.n%26),this.k=2*this.n,this.w=this.k/26,this.b=m.shift(1,this.k).div(this.m)}convertTo(e){return e.length>this.w?super.convertTo(e):this.imod(e.clone())}_shift(e){let t=0,r=this.w;for(;r<e.length;)e.words[t++]=e.words[r++];0===t&&(e.words[t++]=0),e.length=t}imod(e){const t=e.negative;P(e.length<=this.w),e.negative=0;const r=e.mul(this.b);return this._shift(r),e._isub(e,r.mul(this.m)),e.ucmp(this.m)>=0&&e._isub(e,this.m),t&&!e.isZero()&&e._isub(this.m,e),e.red=this,e}}class N extends _{constructor(e){super(e),this.prime=null,this.n=26*this.m.length,this.r=m.shift(1,this.n),this.r2=m.shift(1,2*this.n).imod(this.m),this.ri=this.r.invert(this.m),this.mi=this.r.mul(this.ri).isubn(1).div(this.m),this.rib=null}get mont(){return!0}convertTo(e){return e.isNeg()||e.ucmp(this.m)>=0?this.imod(e.ushln(this.n)):this.mul(e,this.r2)}convertFrom(e){const t=this.mul(e,new m(1));return t.red=null,t}intTo(e){return(e<<BigInt(this.n))%this.mb}intFrom(e){return null===this.rib&&(this.rib=this.ri.toBigInt()),e*this.rib%this.mb}iaddn(e,t){return this.iadd(e,this.convertTo(new m(t)))}isubn(e,t){return this.isub(e,this.convertTo(new m(t)))}imul(e,t){return this.mul(e,t)._move(e)}mul(e,t){if(e.isZero()||t.isZero())return new m(0)._forceRed(this);const r=e.mul(t),n=r.umaskn(this.n).mul(this.mi).iumaskn(this.n),i=r.iadd(n.mul(this.m)).iushrn(this.n);return i.ucmp(this.m)>=0&&i._isub(i,this.m),i._forceRed(this)}imuln(e,t){if(this._verify1(e),e.isZero())return e;if(0===t)return e.words[0]=0,e.length=1,e;const r=t<0;r&&(t=-t),1===this.m.length&&(t%=this.m.words[0]);const n=j(t);if(n>5)this.imul(e,this.convertTo(new m(t)));else if(0==(t&t-1))for(let t=0;t<n-1;t++)this.iadd(e,e);else{const r=e.clone();for(let i=n-2;i>=0;i--)this.iadd(e,e),t>>i&1&&this.iadd(e,r)}return r&&this.ineg(e),e}eqn(e,t){return this._verify1(e),0===t?e.isZero():0===e.ucmp(this.convertTo(new m(t)))}isLow(e){return this._verify1(e),this.convertFrom(e).ucmp(this.m.ushrn(1))<=0}isOdd(e){return this._verify1(e),this.convertFrom(e).isOdd()}isEven(e){return this._verify1(e),this.convertFrom(e).isEven()}invert(e){return this._verify1(e),this.imod(e.invert(this.m).mul(this.r2))}}function R(e,t,r){const n=new e(t);return e.captureStackTrace&&e.captureStackTrace(n,r),n}function P(e,t){if(!e){throw R(Error,t||"Assertion failed.",P)}}function x(e,t,r){if(!e){throw R(TypeError,`"${t}" must be a(n) ${r}.`,x)}}function L(e,t){if(!e){throw R(RangeError,`"${t}" only works with positive numbers.`,L)}}function M(e,t){if(!e){throw R(TypeError,`"${t}" only works with red numbers.`,M)}}function D(e,t){if(!e){throw R(TypeError,`"${t}" only works with normal numbers.`,D)}}function O(e){if(!e){throw R(RangeError,"Cannot divide by zero.",O)}}class U extends Error{constructor(e){super(),this.name="SquareRootError",this.message="X is not a square mod P.",this.result=e.fromRed(),Error.captureStackTrace&&Error.captureStackTrace(this,U)}}function K(e){return Number.isSafeInteger(e)}function V(e){return K(e)&&e>=-67108863&&e<=67108863}function q(e){if(null==e)return 10;if("number"==typeof e)return e;switch(e){case"bin":return 2;case"oct":return 8;case"dec":return 10;case"hex":return 16}return 0}function j(e){if(Math.clz32)return 32-Math.clz32(e);let t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t}function F(e){if(0===e)return 26;let t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&(r+=1),r}function z(e,t,r){const n=Math.min(e.length,r);let i=0,s=0;for(let r=t;r<n;r++){const t=e.charCodeAt(r)-48;let n;i<<=4,n=t>=49&&t<=54?t-49+10:t>=17&&t<=22?t-17+10:t,i|=n,s|=n}if(-16&s)throw new Error("Invalid string.");return i}function J(e,t,r,n){const i=Math.min(e.length,r);let s=0;for(let r=t;r<i;r++){const t=e.charCodeAt(r)-48;let i;if(s*=n,i=t>=49?t-49+10:t>=17?t-17+10:t,t<0||t>207||i>=n)throw new Error("Invalid string.");s+=i}return s}function H(e,t,r){for(let n=0;n<t;n++)e=e*e%r;return e}function G(e,t,r){const n=e.length+t.length;r.negative=e.negative^t.negative,r._alloc(n),r.length=n;const i=e.words[0]*t.words[0],s=67108863&i;let a=i/67108864|0,o=1;for(r.words[0]=s;o<r.length-1;o++){let n=a>>>26,i=67108863&a;const s=Math.max(0,o-e.length+1),c=Math.min(o,t.length-1);for(let r=s;r<=c;r++){const s=o-r,a=e.words[s]*t.words[r]+i;n+=a/67108864|0,i=67108863&a}r.words[o]=0|i,a=0|n}return 0!==a?r.words[o]=0|a:r.length-=1,r._strip()}function Y(e,t,r){const n=e.length+t.length;r.negative=e.negative^t.negative,r._alloc(n),r.length=n;let i=0,s=0,a=0;for(;a<r.length-1;a++){let n=s;s=0;let o=67108863&i;const c=Math.max(0,a-e.length+1),u=Math.min(a,t.length-1);for(let r=c;r<=u;r++){const i=a-r,c=e.words[i]*t.words[r];let u=67108863&c;n=n+(c/67108864|0)|0,u=u+o|0,o=67108863&u,n=n+(u>>>26)|0,s+=n>>>26,n&=67108863}r.words[a]=o,i=n,n=s}return 0!==i?r.words[a]=i:r.length-=1,r._strip()}function Q(e,t,r){const n=e.words,i=t.words,s=r.words,a=0|n[0],o=8191&a,c=a>>>13,u=0|n[1],l=8191&u,f=u>>>13,d=0|n[2],h=8191&d,p=d>>>13,g=0|n[3],m=8191&g,b=g>>>13,y=0|n[4],v=8191&y,k=y>>>13,S=0|n[5],E=8191&S,w=S>>>13,C=0|n[6],A=8191&C,I=C>>>13,T=0|n[7],_=8191&T,B=T>>>13,N=0|n[8],R=8191&N,P=N>>>13,x=0|n[9],L=8191&x,M=x>>>13,D=0|i[0],O=8191&D,U=D>>>13,K=0|i[1],V=8191&K,q=K>>>13,j=0|i[2],F=8191&j,z=j>>>13,J=0|i[3],H=8191&J,G=J>>>13,Y=0|i[4],Q=8191&Y,X=Y>>>13,Z=0|i[5],W=8191&Z,$=Z>>>13,ee=0|i[6],te=8191&ee,re=ee>>>13,ne=0|i[7],ie=8191&ne,se=ne>>>13,ae=0|i[8],oe=8191&ae,ce=ae>>>13,ue=0|i[9],le=8191&ue,fe=ue>>>13;let de,he,pe,ge=0;r.negative=e.negative^t.negative,r._alloc(20),r.length=19,de=Math.imul(o,O),he=Math.imul(o,U),he=he+Math.imul(c,O)|0,pe=Math.imul(c,U);let me=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(me>>>26)|0,me&=67108863,de=Math.imul(l,O),he=Math.imul(l,U),he=he+Math.imul(f,O)|0,pe=Math.imul(f,U),de=de+Math.imul(o,V)|0,he=he+Math.imul(o,q)|0,he=he+Math.imul(c,V)|0,pe=pe+Math.imul(c,q)|0;let be=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(be>>>26)|0,be&=67108863,de=Math.imul(h,O),he=Math.imul(h,U),he=he+Math.imul(p,O)|0,pe=Math.imul(p,U),de=de+Math.imul(l,V)|0,he=he+Math.imul(l,q)|0,he=he+Math.imul(f,V)|0,pe=pe+Math.imul(f,q)|0,de=de+Math.imul(o,F)|0,he=he+Math.imul(o,z)|0,he=he+Math.imul(c,F)|0,pe=pe+Math.imul(c,z)|0;let ye=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(ye>>>26)|0,ye&=67108863,de=Math.imul(m,O),he=Math.imul(m,U),he=he+Math.imul(b,O)|0,pe=Math.imul(b,U),de=de+Math.imul(h,V)|0,he=he+Math.imul(h,q)|0,he=he+Math.imul(p,V)|0,pe=pe+Math.imul(p,q)|0,de=de+Math.imul(l,F)|0,he=he+Math.imul(l,z)|0,he=he+Math.imul(f,F)|0,pe=pe+Math.imul(f,z)|0,de=de+Math.imul(o,H)|0,he=he+Math.imul(o,G)|0,he=he+Math.imul(c,H)|0,pe=pe+Math.imul(c,G)|0;let ve=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(ve>>>26)|0,ve&=67108863,de=Math.imul(v,O),he=Math.imul(v,U),he=he+Math.imul(k,O)|0,pe=Math.imul(k,U),de=de+Math.imul(m,V)|0,he=he+Math.imul(m,q)|0,he=he+Math.imul(b,V)|0,pe=pe+Math.imul(b,q)|0,de=de+Math.imul(h,F)|0,he=he+Math.imul(h,z)|0,he=he+Math.imul(p,F)|0,pe=pe+Math.imul(p,z)|0,de=de+Math.imul(l,H)|0,he=he+Math.imul(l,G)|0,he=he+Math.imul(f,H)|0,pe=pe+Math.imul(f,G)|0,de=de+Math.imul(o,Q)|0,he=he+Math.imul(o,X)|0,he=he+Math.imul(c,Q)|0,pe=pe+Math.imul(c,X)|0;let ke=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(ke>>>26)|0,ke&=67108863,de=Math.imul(E,O),he=Math.imul(E,U),he=he+Math.imul(w,O)|0,pe=Math.imul(w,U),de=de+Math.imul(v,V)|0,he=he+Math.imul(v,q)|0,he=he+Math.imul(k,V)|0,pe=pe+Math.imul(k,q)|0,de=de+Math.imul(m,F)|0,he=he+Math.imul(m,z)|0,he=he+Math.imul(b,F)|0,pe=pe+Math.imul(b,z)|0,de=de+Math.imul(h,H)|0,he=he+Math.imul(h,G)|0,he=he+Math.imul(p,H)|0,pe=pe+Math.imul(p,G)|0,de=de+Math.imul(l,Q)|0,he=he+Math.imul(l,X)|0,he=he+Math.imul(f,Q)|0,pe=pe+Math.imul(f,X)|0,de=de+Math.imul(o,W)|0,he=he+Math.imul(o,$)|0,he=he+Math.imul(c,W)|0,pe=pe+Math.imul(c,$)|0;let Se=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Se>>>26)|0,Se&=67108863,de=Math.imul(A,O),he=Math.imul(A,U),he=he+Math.imul(I,O)|0,pe=Math.imul(I,U),de=de+Math.imul(E,V)|0,he=he+Math.imul(E,q)|0,he=he+Math.imul(w,V)|0,pe=pe+Math.imul(w,q)|0,de=de+Math.imul(v,F)|0,he=he+Math.imul(v,z)|0,he=he+Math.imul(k,F)|0,pe=pe+Math.imul(k,z)|0,de=de+Math.imul(m,H)|0,he=he+Math.imul(m,G)|0,he=he+Math.imul(b,H)|0,pe=pe+Math.imul(b,G)|0,de=de+Math.imul(h,Q)|0,he=he+Math.imul(h,X)|0,he=he+Math.imul(p,Q)|0,pe=pe+Math.imul(p,X)|0,de=de+Math.imul(l,W)|0,he=he+Math.imul(l,$)|0,he=he+Math.imul(f,W)|0,pe=pe+Math.imul(f,$)|0,de=de+Math.imul(o,te)|0,he=he+Math.imul(o,re)|0,he=he+Math.imul(c,te)|0,pe=pe+Math.imul(c,re)|0;let Ee=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,de=Math.imul(_,O),he=Math.imul(_,U),he=he+Math.imul(B,O)|0,pe=Math.imul(B,U),de=de+Math.imul(A,V)|0,he=he+Math.imul(A,q)|0,he=he+Math.imul(I,V)|0,pe=pe+Math.imul(I,q)|0,de=de+Math.imul(E,F)|0,he=he+Math.imul(E,z)|0,he=he+Math.imul(w,F)|0,pe=pe+Math.imul(w,z)|0,de=de+Math.imul(v,H)|0,he=he+Math.imul(v,G)|0,he=he+Math.imul(k,H)|0,pe=pe+Math.imul(k,G)|0,de=de+Math.imul(m,Q)|0,he=he+Math.imul(m,X)|0,he=he+Math.imul(b,Q)|0,pe=pe+Math.imul(b,X)|0,de=de+Math.imul(h,W)|0,he=he+Math.imul(h,$)|0,he=he+Math.imul(p,W)|0,pe=pe+Math.imul(p,$)|0,de=de+Math.imul(l,te)|0,he=he+Math.imul(l,re)|0,he=he+Math.imul(f,te)|0,pe=pe+Math.imul(f,re)|0,de=de+Math.imul(o,ie)|0,he=he+Math.imul(o,se)|0,he=he+Math.imul(c,ie)|0,pe=pe+Math.imul(c,se)|0;let we=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(we>>>26)|0,we&=67108863,de=Math.imul(R,O),he=Math.imul(R,U),he=he+Math.imul(P,O)|0,pe=Math.imul(P,U),de=de+Math.imul(_,V)|0,he=he+Math.imul(_,q)|0,he=he+Math.imul(B,V)|0,pe=pe+Math.imul(B,q)|0,de=de+Math.imul(A,F)|0,he=he+Math.imul(A,z)|0,he=he+Math.imul(I,F)|0,pe=pe+Math.imul(I,z)|0,de=de+Math.imul(E,H)|0,he=he+Math.imul(E,G)|0,he=he+Math.imul(w,H)|0,pe=pe+Math.imul(w,G)|0,de=de+Math.imul(v,Q)|0,he=he+Math.imul(v,X)|0,he=he+Math.imul(k,Q)|0,pe=pe+Math.imul(k,X)|0,de=de+Math.imul(m,W)|0,he=he+Math.imul(m,$)|0,he=he+Math.imul(b,W)|0,pe=pe+Math.imul(b,$)|0,de=de+Math.imul(h,te)|0,he=he+Math.imul(h,re)|0,he=he+Math.imul(p,te)|0,pe=pe+Math.imul(p,re)|0,de=de+Math.imul(l,ie)|0,he=he+Math.imul(l,se)|0,he=he+Math.imul(f,ie)|0,pe=pe+Math.imul(f,se)|0,de=de+Math.imul(o,oe)|0,he=he+Math.imul(o,ce)|0,he=he+Math.imul(c,oe)|0,pe=pe+Math.imul(c,ce)|0;let Ce=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,de=Math.imul(L,O),he=Math.imul(L,U),he=he+Math.imul(M,O)|0,pe=Math.imul(M,U),de=de+Math.imul(R,V)|0,he=he+Math.imul(R,q)|0,he=he+Math.imul(P,V)|0,pe=pe+Math.imul(P,q)|0,de=de+Math.imul(_,F)|0,he=he+Math.imul(_,z)|0,he=he+Math.imul(B,F)|0,pe=pe+Math.imul(B,z)|0,de=de+Math.imul(A,H)|0,he=he+Math.imul(A,G)|0,he=he+Math.imul(I,H)|0,pe=pe+Math.imul(I,G)|0,de=de+Math.imul(E,Q)|0,he=he+Math.imul(E,X)|0,he=he+Math.imul(w,Q)|0,pe=pe+Math.imul(w,X)|0,de=de+Math.imul(v,W)|0,he=he+Math.imul(v,$)|0,he=he+Math.imul(k,W)|0,pe=pe+Math.imul(k,$)|0,de=de+Math.imul(m,te)|0,he=he+Math.imul(m,re)|0,he=he+Math.imul(b,te)|0,pe=pe+Math.imul(b,re)|0,de=de+Math.imul(h,ie)|0,he=he+Math.imul(h,se)|0,he=he+Math.imul(p,ie)|0,pe=pe+Math.imul(p,se)|0,de=de+Math.imul(l,oe)|0,he=he+Math.imul(l,ce)|0,he=he+Math.imul(f,oe)|0,pe=pe+Math.imul(f,ce)|0,de=de+Math.imul(o,le)|0,he=he+Math.imul(o,fe)|0,he=he+Math.imul(c,le)|0,pe=pe+Math.imul(c,fe)|0;let Ae=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,de=Math.imul(L,V),he=Math.imul(L,q),he=he+Math.imul(M,V)|0,pe=Math.imul(M,q),de=de+Math.imul(R,F)|0,he=he+Math.imul(R,z)|0,he=he+Math.imul(P,F)|0,pe=pe+Math.imul(P,z)|0,de=de+Math.imul(_,H)|0,he=he+Math.imul(_,G)|0,he=he+Math.imul(B,H)|0,pe=pe+Math.imul(B,G)|0,de=de+Math.imul(A,Q)|0,he=he+Math.imul(A,X)|0,he=he+Math.imul(I,Q)|0,pe=pe+Math.imul(I,X)|0,de=de+Math.imul(E,W)|0,he=he+Math.imul(E,$)|0,he=he+Math.imul(w,W)|0,pe=pe+Math.imul(w,$)|0,de=de+Math.imul(v,te)|0,he=he+Math.imul(v,re)|0,he=he+Math.imul(k,te)|0,pe=pe+Math.imul(k,re)|0,de=de+Math.imul(m,ie)|0,he=he+Math.imul(m,se)|0,he=he+Math.imul(b,ie)|0,pe=pe+Math.imul(b,se)|0,de=de+Math.imul(h,oe)|0,he=he+Math.imul(h,ce)|0,he=he+Math.imul(p,oe)|0,pe=pe+Math.imul(p,ce)|0,de=de+Math.imul(l,le)|0,he=he+Math.imul(l,fe)|0,he=he+Math.imul(f,le)|0,pe=pe+Math.imul(f,fe)|0;let Ie=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,de=Math.imul(L,F),he=Math.imul(L,z),he=he+Math.imul(M,F)|0,pe=Math.imul(M,z),de=de+Math.imul(R,H)|0,he=he+Math.imul(R,G)|0,he=he+Math.imul(P,H)|0,pe=pe+Math.imul(P,G)|0,de=de+Math.imul(_,Q)|0,he=he+Math.imul(_,X)|0,he=he+Math.imul(B,Q)|0,pe=pe+Math.imul(B,X)|0,de=de+Math.imul(A,W)|0,he=he+Math.imul(A,$)|0,he=he+Math.imul(I,W)|0,pe=pe+Math.imul(I,$)|0,de=de+Math.imul(E,te)|0,he=he+Math.imul(E,re)|0,he=he+Math.imul(w,te)|0,pe=pe+Math.imul(w,re)|0,de=de+Math.imul(v,ie)|0,he=he+Math.imul(v,se)|0,he=he+Math.imul(k,ie)|0,pe=pe+Math.imul(k,se)|0,de=de+Math.imul(m,oe)|0,he=he+Math.imul(m,ce)|0,he=he+Math.imul(b,oe)|0,pe=pe+Math.imul(b,ce)|0,de=de+Math.imul(h,le)|0,he=he+Math.imul(h,fe)|0,he=he+Math.imul(p,le)|0,pe=pe+Math.imul(p,fe)|0;let Te=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Te>>>26)|0,Te&=67108863,de=Math.imul(L,H),he=Math.imul(L,G),he=he+Math.imul(M,H)|0,pe=Math.imul(M,G),de=de+Math.imul(R,Q)|0,he=he+Math.imul(R,X)|0,he=he+Math.imul(P,Q)|0,pe=pe+Math.imul(P,X)|0,de=de+Math.imul(_,W)|0,he=he+Math.imul(_,$)|0,he=he+Math.imul(B,W)|0,pe=pe+Math.imul(B,$)|0,de=de+Math.imul(A,te)|0,he=he+Math.imul(A,re)|0,he=he+Math.imul(I,te)|0,pe=pe+Math.imul(I,re)|0,de=de+Math.imul(E,ie)|0,he=he+Math.imul(E,se)|0,he=he+Math.imul(w,ie)|0,pe=pe+Math.imul(w,se)|0,de=de+Math.imul(v,oe)|0,he=he+Math.imul(v,ce)|0,he=he+Math.imul(k,oe)|0,pe=pe+Math.imul(k,ce)|0,de=de+Math.imul(m,le)|0,he=he+Math.imul(m,fe)|0,he=he+Math.imul(b,le)|0,pe=pe+Math.imul(b,fe)|0;let _e=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(_e>>>26)|0,_e&=67108863,de=Math.imul(L,Q),he=Math.imul(L,X),he=he+Math.imul(M,Q)|0,pe=Math.imul(M,X),de=de+Math.imul(R,W)|0,he=he+Math.imul(R,$)|0,he=he+Math.imul(P,W)|0,pe=pe+Math.imul(P,$)|0,de=de+Math.imul(_,te)|0,he=he+Math.imul(_,re)|0,he=he+Math.imul(B,te)|0,pe=pe+Math.imul(B,re)|0,de=de+Math.imul(A,ie)|0,he=he+Math.imul(A,se)|0,he=he+Math.imul(I,ie)|0,pe=pe+Math.imul(I,se)|0,de=de+Math.imul(E,oe)|0,he=he+Math.imul(E,ce)|0,he=he+Math.imul(w,oe)|0,pe=pe+Math.imul(w,ce)|0,de=de+Math.imul(v,le)|0,he=he+Math.imul(v,fe)|0,he=he+Math.imul(k,le)|0,pe=pe+Math.imul(k,fe)|0;let Be=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Be>>>26)|0,Be&=67108863,de=Math.imul(L,W),he=Math.imul(L,$),he=he+Math.imul(M,W)|0,pe=Math.imul(M,$),de=de+Math.imul(R,te)|0,he=he+Math.imul(R,re)|0,he=he+Math.imul(P,te)|0,pe=pe+Math.imul(P,re)|0,de=de+Math.imul(_,ie)|0,he=he+Math.imul(_,se)|0,he=he+Math.imul(B,ie)|0,pe=pe+Math.imul(B,se)|0,de=de+Math.imul(A,oe)|0,he=he+Math.imul(A,ce)|0,he=he+Math.imul(I,oe)|0,pe=pe+Math.imul(I,ce)|0,de=de+Math.imul(E,le)|0,he=he+Math.imul(E,fe)|0,he=he+Math.imul(w,le)|0,pe=pe+Math.imul(w,fe)|0;let Ne=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,de=Math.imul(L,te),he=Math.imul(L,re),he=he+Math.imul(M,te)|0,pe=Math.imul(M,re),de=de+Math.imul(R,ie)|0,he=he+Math.imul(R,se)|0,he=he+Math.imul(P,ie)|0,pe=pe+Math.imul(P,se)|0,de=de+Math.imul(_,oe)|0,he=he+Math.imul(_,ce)|0,he=he+Math.imul(B,oe)|0,pe=pe+Math.imul(B,ce)|0,de=de+Math.imul(A,le)|0,he=he+Math.imul(A,fe)|0,he=he+Math.imul(I,le)|0,pe=pe+Math.imul(I,fe)|0;let Re=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Re>>>26)|0,Re&=67108863,de=Math.imul(L,ie),he=Math.imul(L,se),he=he+Math.imul(M,ie)|0,pe=Math.imul(M,se),de=de+Math.imul(R,oe)|0,he=he+Math.imul(R,ce)|0,he=he+Math.imul(P,oe)|0,pe=pe+Math.imul(P,ce)|0,de=de+Math.imul(_,le)|0,he=he+Math.imul(_,fe)|0,he=he+Math.imul(B,le)|0,pe=pe+Math.imul(B,fe)|0;let Pe=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,de=Math.imul(L,oe),he=Math.imul(L,ce),he=he+Math.imul(M,oe)|0,pe=Math.imul(M,ce),de=de+Math.imul(R,le)|0,he=he+Math.imul(R,fe)|0,he=he+Math.imul(P,le)|0,pe=pe+Math.imul(P,fe)|0;let xe=(ge+de|0)+((8191&he)<<13)|0;ge=(pe+(he>>>13)|0)+(xe>>>26)|0,xe&=67108863,de=Math.imul(L,le),he=Math.imul(L,fe),he=he+Math.imul(M,le)|0,pe=Math.imul(M,fe);let Le=(ge+de|0)+((8191&he)<<13)|0;return ge=(pe+(he>>>13)|0)+(Le>>>26)|0,Le&=67108863,s[0]=me,s[1]=be,s[2]=ye,s[3]=ve,s[4]=ke,s[5]=Se,s[6]=Ee,s[7]=we,s[8]=Ce,s[9]=Ae,s[10]=Ie,s[11]=Te,s[12]=_e,s[13]=Be,s[14]=Ne,s[15]=Re,s[16]=Pe,s[17]=xe,s[18]=Le,0!==ge&&(s[19]=ge,r.length+=1),r}Math.imul||(Q=G),m.Red=_,e.exports=m},30587:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(7494),s=0===new Int8Array(new Int16Array([1]).buffer)[0];class a{constructor(){this.state=new Uint32Array(16),this.stream=new Uint32Array(16),this.bytes=new Uint8Array(this.stream.buffer),this.pos=-1,s&&(this.bytes=n.alloc(64))}init(e,t,r){if(null==r&&(r=0),i(n.isBuffer(e)),i(n.isBuffer(t)),i(Number.isSafeInteger(r)),16!==e.length&&32!==e.length)throw new RangeError("Invalid key size.");if(t.length>=24&&(e=a.derive(e,t.slice(0,16)),t=t.slice(16)),this.state[0]=1634760805,this.state[1]=e.length<32?824206446:857760878,this.state[2]=e.length<32?2036477238:2036477234,this.state[3]=1797285236,this.state[4]=u(e,0),this.state[5]=u(e,4),this.state[6]=u(e,8),this.state[7]=u(e,12),this.state[8]=u(e,16%e.length),this.state[9]=u(e,20%e.length),this.state[10]=u(e,24%e.length),this.state[11]=u(e,28%e.length),this.state[12]=r>>>0,8===t.length)this.state[13]=r/4294967296>>>0,this.state[14]=u(t,0),this.state[15]=u(t,4);else if(12===t.length)this.state[13]=u(t,0),this.state[14]=u(t,4),this.state[15]=u(t,8);else{if(16!==t.length)throw new RangeError("Invalid nonce size.");this.state[12]=u(t,0),this.state[13]=u(t,4),this.state[14]=u(t,8),this.state[15]=u(t,12)}return this.pos=0,this}encrypt(e){if(i(n.isBuffer(e)),-1===this.pos)throw new Error("Context is not initialized.");for(let t=0;t<e.length;t++)0==(63&this.pos)&&(this._block(),this.pos=0),e[t]^=this.bytes[this.pos++];return e}_block(){for(let e=0;e<16;e++)this.stream[e]=this.state[e];for(let e=0;e<10;e++)o(this.stream,0,4,8,12),o(this.stream,1,5,9,13),o(this.stream,2,6,10,14),o(this.stream,3,7,11,15),o(this.stream,0,5,10,15),o(this.stream,1,6,11,12),o(this.stream,2,7,8,13),o(this.stream,3,4,9,14);for(let e=0;e<16;e++)this.stream[e]+=this.state[e];if(s)for(let e=0;e<16;e++)l(this.bytes,this.stream[e],4*e);this.state[12]+=1,0===this.state[12]&&(this.state[13]+=1)}destroy(){for(let e=0;e<16;e++)this.state[e]=0,this.stream[e]=0;if(s)for(let e=0;e<64;e++)this.bytes[e]=0;return this.pos=-1,this}static derive(e,t){if(i(n.isBuffer(e)),i(n.isBuffer(t)),16!==e.length&&32!==e.length)throw new RangeError("Invalid key size.");if(16!==t.length)throw new RangeError("Invalid nonce size.");const r=new Uint32Array(16);r[0]=1634760805,r[1]=e.length<32?824206446:857760878,r[2]=e.length<32?2036477238:2036477234,r[3]=1797285236,r[4]=u(e,0),r[5]=u(e,4),r[6]=u(e,8),r[7]=u(e,12),r[8]=u(e,16%e.length),r[9]=u(e,20%e.length),r[10]=u(e,24%e.length),r[11]=u(e,28%e.length),r[12]=u(t,0),r[13]=u(t,4),r[14]=u(t,8),r[15]=u(t,12);for(let e=0;e<10;e++)o(r,0,4,8,12),o(r,1,5,9,13),o(r,2,6,10,14),o(r,3,7,11,15),o(r,0,5,10,15),o(r,1,6,11,12),o(r,2,7,8,13),o(r,3,4,9,14);const s=n.alloc(32);return l(s,r[0],0),l(s,r[1],4),l(s,r[2],8),l(s,r[3],12),l(s,r[12],16),l(s,r[13],20),l(s,r[14],24),l(s,r[15],28),s}}function o(e,t,r,n,i){e[t]+=e[r],e[i]=c(e[i]^e[t],16),e[n]+=e[i],e[r]=c(e[r]^e[n],12),e[t]+=e[r],e[i]=c(e[i]^e[t],8),e[n]+=e[i],e[r]=c(e[r]^e[n],7)}function c(e,t){return e<<t|e>>>32-t}function u(e,t){return e[t++]+256*e[t++]+65536*e[t++]+16777216*e[t]}function l(e,t,r){return e[r++]=t,t>>>=8,e[r++]=t,t>>>=8,e[r++]=t,t>>>=8,e[r++]=t,r}a.native=0,e.exports=a},476:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(7494),s=r(8756),a=r(85582),o=r(48632);e.exports=class{constructor(e,t,r){i("string"==typeof e),i(!t||"string"==typeof t),this.id=e,this.type="ecdh",this.eid=t||null,this._pre=r||null,this._curve=null,this._edwards=null,this.native=0}get curve(){return this._curve||(this._curve=a.curve(this.id)),this._curve}get edwards(){return this.eid&&!this._edwards&&(this._edwards=a.curve(this.eid,this._pre),this._edwards.precompute(o),this._pre=null),this._edwards}get size(){return this.curve.fieldSize}get bits(){return this.curve.fieldBits}privateKeyGenerate(){const e=o.randomBytes(this.curve.scalarSize);return this.curve.clamp(e)}privateKeyVerify(e){return i(n.isBuffer(e)),e.length===this.curve.scalarSize}privateKeyExport(e,t){const r=this.publicKeyCreate(e),{x:i,y:s}=this.publicKeyExport(r,t);return{d:n.from(e),x:i,y:s}}privateKeyImport(e){i(e&&"object"==typeof e);const t=s.decode(e.d,this.curve.endian);if(t.byteLength()>this.curve.scalarSize)throw new Error("Invalid private key.");return this.curve.encodeScalar(t)}publicKeyCreate(e){const t=this.curve.decodeClamped(e);if(this.edwards&&this.edwards.g.pre){const e=this.edwards.g.mulBlind(t);return this.curve.pointFromEdwards(e).encode()}return this.curve.g.toX().mulBlind(t,o).encode()}publicKeyConvert(e,t){if(i(null==t||"boolean"==typeof t),!this.edwards)throw new Error("No equivalent edwards curve.");const r=this.curve.decodePoint(e),n=this.edwards.pointFromMont(r);return null!=t&&n.isOdd()!==t?n.neg().encode():n.encode()}publicKeyFromUniform(e){const t=this.curve.decodeUniform(e);return this.curve.pointFromUniform(t).encode()}publicKeyToUniform(e,t=o.randomInt()){const r=this.curve.decodePoint(e),n=this.curve.pointToUniform(r,t);return this.curve.encodeUniform(n,t>>>8)}publicKeyFromHash(e,t=!1){return this.curve.pointFromHash(e,t).encode()}publicKeyToHash(e,t=o.randomInt()){const r=this.curve.decodePoint(e);return this.curve.pointToHash(r,t,o)}publicKeyVerify(e){let t;i(n.isBuffer(e));try{t=this.curve.decodeX(e)}catch(e){return!1}return t.validate()}publicKeyIsSmall(e){let t;i(n.isBuffer(e));try{t=this.curve.decodeX(e)}catch(e){return!1}return!!t.validate()&&t.isSmall()}publicKeyHasTorsion(e){let t;i(n.isBuffer(e));try{t=this.curve.decodeX(e)}catch(e){return!1}return!!t.validate()&&t.hasTorsion()}publicKeyExport(e,t){const{x:r,y:n}=this.curve.decodePoint(e,t);return{x:this.curve.encodeField(r.fromRed()),y:this.curve.encodeField(n.fromRed())}}publicKeyImport(e){i(e&&"object"==typeof e);const t=s.decode(e.x,this.curve.endian);if(t.cmp(this.curve.p)>=0)throw new Error("Invalid point.");if(null!=e.y){const r=s.decode(e.y,this.curve.endian);if(r.cmp(this.curve.p)>=0)throw new Error("Invalid point.");const n=this.curve.point(t,r);if(!n.validate())throw new Error("Invalid point.");return n.encode()}return this.curve.pointFromX(t).encode()}derive(e,t){const r=this.curve.decodeX(e),n=this.curve.decodeClamped(t);return r.mulBlind(n,o).encode()}}},85582:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const{custom:i}=r(51154),s=r(8756),a=0,o=1,c=2,u=3,l=[-3,-1,-5,-7,0,7,5,1,3];let f=0;class d{constructor(e,t,r){this.Point=null,this.id=null,this.uid=f++,this.ossl=null,this.type="base",this.endian="be",this.hash=null,this.prefix=null,this.context=!1,this.prime=null,this.p=null,this.red=null,this.fieldSize=0,this.fieldBits=0,this.adjustedSize=0,this.signBit=0,this.mask=0,this.n=null,this.h=null,this.q=null,this.z=null,this.g=null,this.nh=null,this.scalarSize=0,this.scalarBits=0,this.zero=null,this.one=null,this.two=null,this.three=null,this.four=null,this.i2=null,this.i3=null,this.i4=null,this.i6=null,this.torsion=null,this.endo=null,this.hi=null,this._init(e,t,r)}_init(e,t,r){x("function"==typeof e),x("string"==typeof t),x(r&&"object"==typeof r),x(null==r.red||r.red instanceof s.Red),x(null!=r.p,"Must pass a prime."),x(null==r.id||"string"==typeof r.id),x(null==r.ossl||"string"==typeof r.ossl),x(null==r.endian||"string"==typeof r.endian),x(null==r.hash||"string"==typeof r.hash),x(null==r.prefix||"string"==typeof r.prefix),x(null==r.context||"boolean"==typeof r.context),x(null==r.prime||"string"==typeof r.prime),x(null==r.torsion||Array.isArray(r.torsion)),this.Point=e,this.id=r.id||null,this.ossl=r.ossl||null,this.type=t,this.endian=r.endian||("short"===t?"be":"le"),this.hash=r.hash||null,this.prefix=r.prefix?n.from(r.prefix,"binary"):null,this.context=r.context||!1,this.prime=r.prime||null,this.p=s.fromJSON(r.p),r.red?this.red=r.red:(this.red=r.prime?s.red(r.prime):s.mont(this.p),this.red.precompute()),this.fieldSize=this.p.byteLength(),this.fieldBits=this.p.bitLength(),this.adjustedSize=this.fieldSize+(0==(7&this.fieldBits)),this.signBit=8*this.adjustedSize-1,this.mask=255,0!=(7&this.fieldBits)&&(this.mask=(1<<(7&this.fieldBits))-1),this.n=s.fromJSON(r.n||"0"),this.h=s.fromJSON(r.h||"1"),this.q=this.n.mul(this.h),this.z=s.fromJSON(r.z||"0").toRed(this.red),this.g=null,this.nh=this.n.ushrn(1),this.scalarSize=this.n.byteLength(),this.scalarBits=this.n.bitLength(),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.three=new s(3).toRed(this.red),this.four=new s(4).toRed(this.red),this.i2=this.two.redInvert(),this.i3=this.three.redInvert(),this.i4=this.i2.redSqr(),this.i6=this.i2.redMul(this.i3),this.torsion=new Array(this.h.word(0));for(let e=0;e<this.torsion.length;e++)this.torsion[e]=this.point();return this.endo=null,this.hi=null,this._scale=U(this._scale,this),this.isIsomorphic=U(this.isIsomorphic,this),this.isIsogenous=U(this.isIsogenous,this),x(this.p.sign()>0&&this.p.isOdd()),x(this.n.sign()>=0),x(this.h.sign()>0&&this.h.cmpn(255)<=0),x("be"===this.endian||"le"===this.endian),this}_finalize(e){if(x(e&&"object"==typeof e),this.g=e.g?this.pointFromJSON(e.g):this.point(),e.torsion){x(e.torsion.length===this.torsion.length);for(let t=0;t<this.torsion.length;t++)this.torsion[t]=this.pointFromJSON(e.torsion[t])}return this}_findTorsion(){x(!this.n.isZero());const e=this.h.word(0),t=this.one.redNeg(),r=[this.point()],n=new Set;let i=e;for(;r.length<i;){let e;t.redIAdd(this.one);try{e=this.pointFromX(t.clone())}catch(e){continue}try{e=e.mul(this.n)}catch(e){i=2;continue}if(!e.isInfinity()){e.normalize();for(const t of[e,e.neg()]){const e=t.key();n.has(e)||(r.push(t),n.add(e))}}}for(r.sort(((e,t)=>e.cmp(t)));r.length<e;)r.push(this.point());return r}_fixedMul(e,t){x(e instanceof h),x(t instanceof s),x(e.pre&&e.pre.windows);const{width:r,points:n}=e._getWindows(0,0),i=1<<r,a=(t.bitLength()+r-1)/r>>>0;let o=this.jpoint();for(let e=0;e<a;e++){const s=t.bits(e*r,r);o=o.add(n[e*i+s])}return t.isNeg()&&(o=o.neg()),o}_fixedNafMul(e,t){x(e instanceof h),x(t instanceof s),x(e.pre&&e.pre.doubles);const{step:r,points:n}=e._getDoubles(0,0),i=function(e,t,r,n){x(n>>>0===n);const i=R(e,t,r),s=Math.ceil(i.length/n),a=new Array(s);let o=0;for(let e=0;e<i.length;e+=n){let t=0;for(let r=e+n-1;r>=e;r--)t=(t<<1)+i[r];a[o++]=t}return x(o===s),a}(t,2,t.bitLength()+1,r),a=((1<<r+1)-(r%2==0?2:1))/3;let o=this.jpoint(),c=this.jpoint();for(let e=a;e>0;e--){for(let t=0;t<i.length;t++){const r=i[t];r===e?c=c.add(n[t]):r===-e&&(c=c.sub(n[t]))}o=o.add(c)}return o}_wnafMul(e,t,r){x(t instanceof h),x(r instanceof s);const{width:n,points:i}=t._safeNAF(e),a=R(r,n,r.bitLength()+1);let o=this.jpoint();for(let e=a.length-1;e>=0;e--){const t=a[e];e!==a.length-1&&(o=o.dbl()),t>0?o=o.add(i[t-1>>1]):t<0&&(o=o.sub(i[-t-1>>1]))}return o}_wnafMulAdd(e,t,r){x(e>>>0===e),x(Array.isArray(t)),x(Array.isArray(r)),x(t.length===r.length);const n=t.length,i=new Array(n),a=new Array(n);let o=0;for(let e=0;e<n;e++){const n=t[e],c=r[e];if(x(n instanceof h),x(c instanceof s),e>0&&n.type!==t[e-1].type)throw new Error("Cannot mix points.");i[e]=null,a[e]=null,o=Math.max(o,c.bitLength()+1)}let c=null,u=null,l=0;for(let e=0;e<n;e++){const n=t[e],s=r[e],f=n._getNAF(0);f?(i[l]=f.points,a[l]=R(s,f.width,o),l+=1):c?(i[l]=c._getJNAF(n),a[l]=P(u,s,o),c=null,u=null,l+=1):(c=n,u=s)}if(c){const t=c._safeNAF(e);i[l]=t.points,a[l]=R(u,t.width,o),l+=1}let f=this.jpoint();for(let e=o-1;e>=0;e--){e!==o-1&&(f=f.dbl());for(let t=0;t<l;t++){const r=a[t][e];r>0?f=f.add(i[t][r-1>>1]):r<0&&(f=f.sub(i[t][-r-1>>1]))}}return f}_endoWnafMulAdd(e,t){throw new Error("Not implemented.")}_scale(e,t){switch(x(e instanceof d),x(e.p.eq(this.p)),e.type){case"short":return this._scaleShort(e,t);case"mont":return this._scaleMont(e,t);case"edwards":return this._scaleEdwards(e,t);default:throw new Error("Not implemented.")}}_scaleShort(e,t){throw new Error("Not implemented.")}_scaleMont(e,t){throw new Error("Not implemented.")}_scaleEdwards(e,t){throw new Error("Not implemented.")}isElliptic(){throw new Error("Not implemented.")}jinv(){throw new Error("Not implemented.")}isComplete(){return!1}precompute(e){return x(!this.g.isInfinity(),"Must have base point."),x(!this.n.isZero(),"Must have order."),this.g.precompute(this.n.bitLength(),e),this}scalar(e,t,r){const n=new s(e,t,r);return x(!n.red),this.n.isZero()?n:n.imod(this.n)}field(e,t,r){const n=s.cast(e,t,r);return n.red?n.forceRed(this.red):n.toRed(this.red)}point(e,t){throw new Error("Not implemented.")}jpoint(e,t,r){throw new Error("Not implemented.")}xpoint(e,t){throw new Error("Not implemented.")}cpoint(e,t,r,n){if(x(e instanceof s),x(t instanceof s),x(r instanceof s),x(n instanceof s),t.isZero()||n.isZero())return this.point();const i=t.redMul(n).redInvert(),a=e.redMul(n).redMul(i),o=r.redMul(t).redMul(i);return this.point(a,o)}solveX2(e){throw new Error("Not implemented.")}solveX(e){return this.solveX2(e).redSqrt()}solveY2(e){throw new Error("Not implemented.")}solveY(e){return this.solveY2(e).redSqrt()}validate(e){throw new Error("Not implemented.")}pointFromX(e,t){throw new Error("Not implemented.")}pointFromY(e,t){throw new Error("Not implemented.")}isIsomorphic(e){throw new Error("Not implemented.")}isIsogenous(e){throw new Error("Not implemented.")}pointFromShort(e){throw new Error("Not implemented.")}pointFromMont(e,t){throw new Error("Not implemented.")}pointFromEdwards(e){throw new Error("Not implemented.")}pointFromUniform(e){throw new Error("Not implemented.")}pointToUniform(e){throw new Error("Not implemented.")}pointFromHash(e,t=!1){if(x(n.isBuffer(e)),x("boolean"==typeof t),e.length!==2*this.fieldSize)throw new Error("Invalid hash size.");const r=e.slice(0,this.fieldSize),i=e.slice(this.fieldSize),s=this.decodeUniform(r),a=this.decodeUniform(i),o=this.pointFromUniform(s),c=this.pointFromUniform(a),u=o.add(c);return t?u.mulH():u}pointToHash(e,t,r){x(e instanceof this.Point),x(t>>>0===t);const i=t%this.torsion.length,s=e.add(this.torsion[i]);for(;;){const e=this.randomField(r),t=this.pointFromUniform(e);if(t.neg().eq(t))continue;const i=s.sub(t),a=O(r);let o;try{o=this.pointToUniform(i,15&a)}catch(e){if("Invalid point."===e.message)continue;throw e}const c=this.encodeUniform(e,a>>>8),u=this.encodeUniform(o,a>>>16);return n.concat([c,u])}}randomScalar(e){const t=this.n.isZero()?this.p:this.n;return s.random(e,1,t)}randomField(e){return s.random(e,1,this.p).toRed(this.red)}randomPoint(e){let t;for(;;){const r=this.randomField(e),n=0!=(1&O(e));try{t=this.pointFromX(r,n)}catch(e){continue}return x(t.validate()),t.mulH()}}mulAll(e,t){return this.jmulAll(e,t)}jmulAll(e,t){return x(Array.isArray(e)),x(0===e.length||e[0]instanceof h),this.endo&&e.length>0&&e[0].type===a?this._endoWnafMulAdd(e,t):this._wnafMulAdd(5,e,t)}mulH(e){return x(e instanceof s),this.imulH(e.clone())}imulH(e){x(e instanceof s),x(!e.red);const t=this.h.word(0);if(0==(t&t-1)){const t=this.h.bitLength();return e.iushln(t-1).imod(this.n)}return e.imuln(t).imod(this.n)}normalizeAll(e){x(Array.isArray(e));const t=e.length,r=new Array(t);for(let n=0;n<t;n++){const t=e[n];x(t instanceof h),x(t.curve===this),t.type!==a?r[n]=t.z:r[n]=this.one}const n=this.red.invertAll(r),i=new Array(t);for(let r=0;r<t;r++)i[r]=e[r].scale(n[r]);return i}affinizeAll(e){return this.normalizeAll(e)}clamp(e){x(n.isBuffer(e)),x(e.length===this.scalarSize),x(this.scalarSize<=this.fieldSize);let t=7&this.fieldBits||8,r=0,i=this.scalarSize-1;return"be"===this.endian&&([r,i]=[i,r]),this.scalarSize<this.fieldSize&&(t=8),e[r]&=255&-this.h.word(0),e[i]&=(1<<t)-1,e[i]|=1<<t-1,e}splitHash(e){x(n.isBuffer(e)),x(e.length===2*this.adjustedSize),x(this.scalarSize<=this.adjustedSize);let t=0;"be"===this.endian&&(t=this.adjustedSize-this.scalarSize);const r=e.slice(t,t+this.scalarSize),i=e.slice(this.adjustedSize);return this.clamp(r),[r,i]}encodeField(e){return x(e instanceof s),x(!e.red),e.encode(this.endian,this.fieldSize)}decodeField(e){if(x(n.isBuffer(e)),e.length!==this.fieldSize)throw new Error("Invalid field element size.");return s.decode(e,this.endian)}encodeAdjusted(e){return x(e instanceof s),x(!e.red),e.encode(this.endian,this.adjustedSize)}decodeAdjusted(e){if(x(n.isBuffer(e)),e.length!==this.adjustedSize)throw new Error("Invalid field element size.");return s.decode(e,this.endian)}encodeScalar(e){return x(e instanceof s),x(!e.red),e.encode(this.endian,this.scalarSize)}decodeScalar(e){if(x(n.isBuffer(e)),e.length!==this.scalarSize)throw new Error("Invalid scalar size.");return s.decode(e,this.endian)}encodeClamped(e){return this.clamp(this.encodeScalar(e))}decodeClamped(e){if(x(n.isBuffer(e)),e.length!==this.scalarSize)throw new Error("Invalid scalar size.");const t=this.clamp(n.from(e));return s.decode(t,this.endian)}encodeUniform(e,t){x(e instanceof s),x(t>>>0===t);const r="le"===this.endian?this.fieldSize-1:0,n=e.fromRed().encode(this.endian,this.fieldSize);return n[r]|=t&~this.mask&255,n}decodeUniform(e){if(x(n.isBuffer(e)),e.length!==this.fieldSize)throw new Error("Invalid field size.");const t=s.decode(e,this.endian);return t.iumaskn(this.fieldBits),t.toRed(this.red)}encodePoint(e,t){return x(e instanceof h),e.encode(t)}decodePoint(e){throw new Error("Not implemented.")}encodeX(e){throw new Error("Not implemented.")}decodeX(e){throw new Error("Not implemented.")}decodeEven(e){throw new Error("Not implemented.")}decodeSquare(e){throw new Error("Not implemented.")}toShort(){throw new Error("Not implemented.")}toMont(e){throw new Error("Not implemented.")}toEdwards(e){throw new Error("Not implemented.")}pointToJSON(e,t){return x(e instanceof h),e.toJSON(t)}pointFromJSON(e){throw new Error("Not implemented.")}toJSON(e){let t,r,n,i,s;return"edwards"===this.type&&(t=this.prefix?this.prefix.toString():null,r=this.context),this.n.isZero()||(n=this.n.toJSON()),this.z.isZero()||(i=this.z.fromRed(),this.z.redIsHigh()&&i.isub(this.p),i=i.toString(16)),this.endo&&(s=this.endo.toJSON()),{id:this.id,ossl:this.ossl,type:this.type,endian:this.endian,hash:this.hash,prefix:t,context:r,prime:this.prime,p:this.p.toJSON(),a:void 0,b:void 0,d:void 0,n,h:this.h.toString(16),s:void 0,z:i,c:void 0,g:this.g.toJSON(e),endo:s}}static fromJSON(e){return new this(e)}}class h{constructor(e,t){x(e instanceof d),x(t>>>0===t),this.curve=e,this.type=t,this.pre=null}_init(){throw new Error("Not implemented.")}_safeNAF(e){if(x(e>>>0===e),this.pre&&this.pre.naf)return this.pre.naf;if(0===e)return null;const t=1<<e-2,r=new Array(t),n=this.toJ(),i=1===t?null:n.dbl();r[0]=n;for(let e=1;e<t;e++)r[e]=r[e-1].add(i);return new w(e,r)}_getNAF(e){if(x(e>>>0===e),this.pre&&this.pre.naf)return this.pre.naf;if(0===e)return null;const t=this._safeNAF(e).points,r=this.curve.affinizeAll(t);return new w(e,r)}_getWindows(e,t){if(x(e>>>0===e),x(t>>>0===t),this.pre&&this.pre.windows)return this.pre.windows;if(0===e)return null;const r=1<<e,n=(t+e-1)/e>>>0,i=new Array(n*r);let s=this.toJ();for(let t=0;t<n;t++){i[t*r]=this.curve.jpoint();for(let e=1;e<r;e++)i[t*r+e]=i[t*r+e-1].add(s);s=s.dblp(e)}const a=this.curve.affinizeAll(i);return new C(e,t,a)}_getDoubles(e,t){if(x(e>>>0===e),x(t>>>0===t),this.pre&&this.pre.doubles)return this.pre.doubles;if(0===e)return null;const r=Math.ceil(t/e)+1,n=new Array(r);let i=this.toJ(),s=0;n[s++]=i;for(let r=0;r<t;r+=e){for(let t=0;t<e;t++)i=i.dbl();n[s++]=i}x(s===r);const a=this.curve.affinizeAll(n);return new A(e,a)}_getBeta(){return null}_getBlinding(e){if(this.pre&&this.pre.blinding)return this.pre.blinding;if(!e)return null;if(this.curve.n.isZero())return null;const t=this.curve.randomScalar(e),r=this.mul(t);return new I(t,r)}_hasWindows(e){if(x(e instanceof s),!this.pre||!this.pre.windows)return!1;const{width:t,bits:r}=this.pre.windows,n=(r+t-1)/t>>>0;return e.bitLength()<=n*t}_hasDoubles(e){if(x(e instanceof s),!this.pre||!this.pre.doubles)return!1;const{step:t,points:r}=this.pre.doubles,n=e.bitLength()+1;return r.length>=Math.ceil(n/t)+1}_getJNAF(e){return x(e instanceof h),x(e.type===this.type),[this,this.add(e),this.sub(e),e]}_blind(e,t){if(x(e instanceof s),x(!e.red),this.pre&&this.pre.blinding){const{blind:t,unblind:r}=this.pre.blinding;return[this,e.sub(t),r]}if(!t)return[this,e,null];if(this.pre){if(this.curve.n.isZero())return[this,e,null];return[this,this.curve.randomScalar(t).mul(this.curve.n).iadd(e),null]}return[this.randomize(t),e,null]}clone(){throw new Error("Not implemented.")}precompute(e,t){return x(e>>>0===e),this.pre||(this.pre=new E),this.pre.naf||(this.pre.naf=this._getNAF(9)),this.pre.doubles||(this.pre.doubles=this._getDoubles(4,e+1)),this.pre.beta||(this.pre.beta=this._getBeta()),this.pre.blinding||(this.pre.blinding=this._getBlinding(t)),this}validate(){return this.curve.validate(this)}normalize(){return this}scale(e){throw new Error("Not implemented.")}randomize(e){const t=this.curve.randomField(e);return this.scale(t)}neg(){throw new Error("Not implemented.")}add(e){throw new Error("Not implemented.")}sub(e){return x(e instanceof h),this.add(e.neg())}dbl(){throw new Error("Not implemented.")}dblp(e){x(e>>>0===e);let t=this;for(let r=0;r<e;r++)t=t.dbl();return t}diffAddDbl(e,t){throw new Error("Not implemented.")}getX(){throw new Error("Not implemented.")}getY(){throw new Error("Not implemented.")}eq(e){throw new Error("Not implemented.")}cmp(e){throw new Error("Not implemented.")}isInfinity(){throw new Error("Not implemented.")}isOrder2(){throw new Error("Not implemented.")}isOdd(){throw new Error("Not implemented.")}isEven(){throw new Error("Not implemented.")}isSquare(){throw new Error("Not implemented.")}eqX(e){throw new Error("Not implemented.")}eqR(e){throw new Error("Not implemented.")}isSmall(){return!this.isInfinity()&&this.jmulH().isInfinity()}hasTorsion(){return!this.isInfinity()&&!this.jmul(this.curve.n).isInfinity()}order(){const{h:e,n:t}=this.curve;let r=this.toJ(),n=new s(1);for(;!r.isInfinity();){if(n.iaddn(1),n.cmp(e)>0){n=t.clone();break}r=r.add(this)}return n}mul(e){return this.jmul(e)}muln(e){return this.jmuln(e)}mulBlind(e,t){return this.jmulBlind(e,t)}mulAdd(e,t,r){return this.jmulAdd(e,t,r)}mulH(){return this.jmulH()}div(e){return this.jdiv(e)}divn(e){return this.jdivn(e)}divH(){return this.jdivH()}jmul(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo&&this.type===a?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(5,this,e)}jmuln(e){return x((0|e)===e),this.jmul(new s(e))}jmulBlind(e,t=null){const[r,n,i]=this._blind(e,t),s=r.jmul(n);return i?s.add(i):s}jmulAdd(e,t,r){return this.curve.endo&&this.type===a?this.curve._endoWnafMulAdd([this,t],[e,r]):this.curve._wnafMulAdd(5,[this,t],[e,r])}jmulH(){const e=this.curve.h.word(0);if(0==(e&e-1)){const e=this.curve.h.bitLength();return this.toJ().dblp(e-1)}return this.jmul(this.curve.h)}jdiv(e){return x(e instanceof s),x(!e.red),this.jmul(e.invert(this.curve.n))}jdivn(e){return x(!this.curve.n.isZero()),0===this.curve.h.cmpn(e)?this.jdivH():this.jdiv(new s(e))}jdivH(){return this.curve.n.isZero()||0===this.curve.h.cmpn(1)?this.toJ():(null===this.curve.hi&&(this.curve.hi=this.curve.h.invert(this.curve.n)),this.jmul(this.curve.hi))}toP(){return this.normalize()}toJ(){return this}toX(){return this}key(){if(this.isInfinity())return`${this.curve.uid}:oo`;this.normalize();const e=this.getX().toString(16),t=this.getY().toString(16);return`${this.curve.uid}:${e},${t}`}encode(e){throw new Error("Not implemented.")}static decode(e,t){throw new Error("Not implemented.")}encodeX(){throw new Error("Not implemented.")}static decodeX(e,t){throw new Error("Not implemented.")}static decodeEven(e,t){throw new Error("Not implemented.")}static decodeSquare(e,t){throw new Error("Not implemented.")}toJSON(e){throw new Error("Not implemented.")}static fromJSON(e,t){throw new Error("Not implemented.")}[i](){return"<Point>"}}class p extends d{constructor(e){super(g,"short",e),this.a=s.fromJSON(e.a).toRed(this.red),this.b=s.fromJSON(e.b).toRed(this.red),this.c=s.fromJSON(e.c||"0").toRed(this.red),this.ai=this.a.isZero()?this.zero:this.a.redInvert(),this.zi=this.z.isZero()?this.zero:this.z.redInvert(),this.zeroA=this.a.isZero(),this.threeA=this.a.eq(this.three.redNeg()),this.redN=this.n.toRed(this.red),this.pmodn=this.p.clone(),this.highOrder=this.n.cmp(this.p)>=0,this.smallGap=!1,this._finalize(e)}_finalize(e){return super._finalize(e),null!=e.endo?this.endo=T.fromJSON(this,e.endo):this.endo=this._getEndomorphism(),this.n.isZero()||(this.pmodn=this.p.mod(this.n),this.smallGap=this.p.div(this.n).cmpn(1)<=0),this}static _isomorphism(e,t,r,n){if(x(e instanceof s),x(t instanceof s),x(r instanceof s),x(null==n||"boolean"==typeof n),x(!e.isZero()||!t.isZero()),r.isZero())throw new Error("Invalid coefficient.");if(e.isZero()){const n=r;return x(1===D(n.redDiv(t)).redJacobi()),[e.clone(),n.clone()]}if(t.isZero()){const n=r,i=n.redDiv(e).redSqrt();if(1!==i.redJacobi()&&i.redINeg(),1!==i.redJacobi())throw new Error("Invalid `a` coefficient.");return[n.clone(),t.clone()]}const i=r,a=i.redDiv(e),o=a.redSqrt();if(null!=n?o.redIsOdd()!==n&&o.redINeg():1!==o.redJacobi()&&o.redINeg(),1!==o.redJacobi())throw new Error("Invalid `a` coefficient.");const c=a.redMul(o),u=e.redMul(a),l=t.redMul(c);return x(u.eq(i)),[u,l]}_short(e,t){return p._isomorphism(this.a,this.b,e,t)}_mont(e,t){const[r,n]=this._findRS(t),i=n.redInvert(),s=r.redMuln(3).redMul(i);return null!=e?b._isomorphism(s,i,e):[s,i]}_edwards(e,t){const[r,n]=this._findRS(t),i=r.redMuln(3),s=n.redMuln(2),a=i.redAdd(s),o=i.redSub(s);return null!=e?k._isomorphism(a,o,e):[a,o]}_findRS(e){x(null==e||"boolean"==typeof e),x(this.h.word(0)>=4),x(!this.n.isZero());const t=this.one.redNeg();let r;for(;;){t.redIAdd(this.one);try{r=this.pointFromX(t.clone())}catch(e){continue}if(r=r.mul(this.n),!r.isInfinity()&&r.y.isZero())break}const n=r.x,i=n.redSqr().redMuln(3).redIAdd(this.a).redSqrt();return null!=e&&i.redIsOdd()!==e&&i.redINeg(),[n,i]}_scale0(e,t){if(x(this.a.isZero()===e.isZero()),x(this.b.isZero()===t.isZero()),this.a.isZero()){const e=this.b.redDiv(this.field(t)),r=D(e),n=r.redSqrt(),i=r.redMul(n);return x(i.redSqr().eq(e)),x(!n.isZero()),[r,i]}if(this.b.isZero()){const t=this.a.redDiv(this.field(e)),r=t.redSqrt();1!==r.redJacobi()&&r.redINeg();const n=r.redSqrt(),i=r.redMul(n);return x(i.redMul(n).eq(t)),x(!n.isZero()),[r,i]}const r=this.a.redDiv(this.field(e)),n=this.b.redDiv(this.field(t)),i=r.redSqrt();r.redMul(i).eq(n)||i.redINeg(),x(r.redMul(i).eq(n));const s=i.redSqrt(),a=i.redMul(s);return x(!s.isZero()),[i,a]}_scale1(e,t){const r=this.g.x.redDiv(this.field(e)),n=this.g.y.redDiv(this.field(t)),i=r.redSqrt();return r.redMul(i).eq(n)||i.redINeg(),x(r.redMul(i).eq(n)),x(!i.isZero()),[r,n]}_scaleShort(e){return x(e instanceof p),this.g.isInfinity()||e.g.isInfinity()?this._scale0(e.a,e.b):this._scale1(e.g.x,e.g.y)}_scaleMont(e){if(x(e instanceof b),this.g.isInfinity()||e.g.isInfinity()){const[t,r]=e._short();return this._scale0(t,r)}const{x:t,y:r}=e.g,n=t.redAdd(e.a3).redMul(e.bi),i=r.redMul(e.bi);return this._scale1(n,i)}_scaleEdwards(e){if(x(e instanceof k),this.g.isInfinity()||e.g.isInfinity()){const[t,r]=e._short();return this._scale0(t,r)}const{x:t,y:r,z:n}=e.g,i=e.a.redMuln(5),s=e.d.redMuln(5),a=e.d.redSub(e.a),o=s.redSub(e.a),c=e.d.redSub(i),u=r.redAdd(n),l=r.redSub(n),f=o.redMul(r).redIAdd(c.redMul(n)),d=l.redMuln(12),h=a.redMul(u).redMul(n),p=l.redMul(t).redIMuln(4),g=d.redMul(p).redInvert(),m=f.redMul(p).redMul(g),b=h.redMul(d).redMul(g);return this._scale1(m,b)}_getEndomorphism(e=0){if(this.n.isZero()||this.g.isInfinity())return null;if(!this.zeroA||1!==this.p.modrn(3)||1!==this.n.modrn(3))return null;const[t,r]=this._getEndoRoots(this.p),n=[t,r][1&e].toRed(this.red),[i,s]=this._getEndoRoots(this.n),a=this.point(this.g.x.redMul(n),this.g.y);let o;this.g.mul(i).eq(a)?o=i:(x(this.g.mul(s).eq(a)),o=s);const c=this._getEndoBasis(o),u=this._getEndoPrecomp(c);return new T(n,o,c,u)}_getEndoRoots(e){const t=e===this.p?this.red:s.mont(e),r=new s(2).toRed(t),n=new s(3).toRed(t),i=r.redInvert(),a=n.redNeg().redSqrt().redMul(i),o=a.redNeg();return[a.redSub(i).fromRed(),o.redSub(i).fromRed()].sort(s.cmp)}_getEndoBasis(e){const[t,r,n,i,s,a]=this._egcdSqrt(e),o=n,c=i.neg(),u=t.sqr().iadd(r.sqr()),l=s.sqr().iadd(a.sqr());let f,d;return u.cmp(l)<=0?(f=t,d=r.neg()):(f=s,d=a.neg()),[new _(o,c),new _(f,d)]}_egcdSqrt(e){x(e instanceof s),x(!e.red),x(e.sign()>0),x(this.n.sign()>0);const t=this.n.ushrn(this.n.bitLength()>>>1);let r,n,i,a,o,c=e,u=this.n.clone(),l=new s(1),f=new s(0),d=new s(0),h=new s(1),p=0,g=0;for(;!c.isZero()&&p<2;){const e=u.quo(c),s=u.sub(e.mul(c)),m=d.sub(e.mul(l)),b=h.sub(e.mul(f));0===g&&s.cmp(t)<0&&(r=o,n=l,i=s,a=m,g=1),o=s,u=c,c=s,d=l,l=m,h=f,f=b,p+=g}x(0!==g,"Could not find r < sqrt(n).");return[r,n,i,a,d,l]}_getEndoPrecomp(e){x(Array.isArray(e)),x(2===e.length),x(e[0]instanceof _),x(e[1]instanceof _);const[t,r]=e,n=t.a.mul(r.b).isub(t.b.mul(r.a)),i=n.bitLength(),s=i>=160;x(n.eq(this.n));let a,o,c=i+Math.ceil(i/2)+1;for(s&&(c-=63&c);c>i&&(a=r.b.ushln(c).divRound(n),o=t.b.ushln(c).divRound(n),!(a.ucmp(n)<0&&o.ucmp(n)<0));)c-=s?64:1;if(c<=i)throw new Error("Could not calculate g1 and g2.");return[c,a,o]}_endoSplit(e){x(e instanceof s),x(!e.red),x(!this.n.isZero());const[t,r]=this.endo.basis,n=r.b.mul(e).divRound(this.n),i=t.b.neg().mul(e).divRound(this.n),a=n.mul(t.a),o=i.mul(r.a),c=n.ineg().mul(t.b),u=i.mul(r.b);return[e.sub(a).isub(o),c.isub(u)]}_endoBeta(e){return x(e instanceof g),[e,e._getBeta()]}_endoWnafMulAdd(e,t){x(Array.isArray(e)),x(Array.isArray(t)),x(e.length===t.length),x(null!=this.endo);const r=e.length,n=new Array(2*r),i=new Array(2*r);for(let s=0;s<r;s++){const[r,a]=this._endoBeta(e[s]),[o,c]=this._endoSplit(t[s]);n[2*s+0]=r,i[2*s+0]=o,n[2*s+1]=a,i[2*s+1]=c}return this._wnafMulAdd(5,n,i)}_sswu(e){const{b:t,z:r,ai:n,zi:i,one:s}=this,a=r.redSqr(),o=t.redNeg().redMul(n),c=t.redMul(i).redMul(n),u=e.redSqr(),l=u.redSqr(),f=a.redMul(l).redIAdd(r.redMul(u)),d=f.isZero()?f:f.redInvert(),h=d.isZero()?c:o.redMul(s.redAdd(d)),p=r.redMul(u).redMul(h),g=this.solveY2(h),m=this.solveY2(p),b=0|g.redIsSquare(),y=[h,p][1^b],v=[g,m][1^b].redSqrt();return v.redIsOdd()!==e.redIsOdd()&&v.redINeg(),this.point(y,v)}_sswui(e,t){const{a:r,b:n,z:i}=this,{x:s,y:a}=e,o=3&t,c=r.redSqr().redMul(s.redSqr()),u=r.redMul(n).redMul(s).redIMuln(2),l=n.redSqr().redMuln(3),f=r.redMul(s).redIAdd(n),d=c.redISub(u).redISub(l).redSqrt(),h=f.redSub(d).redINeg(),p=f.redAdd(d).redINeg(),g=[f.redMul(i).redIMuln(2),n.redMul(i).redIMuln(2)][o>>>1],m=[h,p][1&o].redDivSqrt(g);return m.redIsOdd()!==a.redIsOdd()&&m.redINeg(),m}_svdwf(e){const{c:t,z:r,zi:n,i2:i,i3:s}=this,a=this.solveY2(r),o=s.redMul(n.redSqr()),c=e.redSqr(),u=c.redSqr(),l=c.redAdd(a),f=c.redMul(l),d=f.isZero()?f:f.redInvert(),h=u.redMul(d).redMul(t),p=l.redSqr().redMul(l),g=t.redSub(r).redMul(i).redISub(h),m=h.redSub(t.redAdd(r).redMul(i)),b=r.redSub(p.redMul(d).redMul(o)),y=this.solveY2(g),v=this.solveY2(m),k=this.solveY2(b),S=function(e,t){let r=e%t;r<0&&(t<0?r-=t:r+=t);return r}(((1|y.redJacobi())-1)*(1|v.redJacobi()),3);return[[g,m,b][S],[y,v,k][S]]}_svdw(e){const[t,r]=this._svdwf(e),n=r.redSqrt();return n.redIsOdd()!==e.redIsOdd()&&n.redINeg(),this.point(t,n)}_svdwi(e,t){const{b:r,c:n,z:i,zero:s,two:a}=this,{x:o,y:c}=e,u=3&t,l=i.redSqr(),f=l.redMul(i),d=l.redSqr(),h=f.redAdd(r),p=h.redMuln(2),g=o.redSqr(),m=o.redMuln(2).redIAdd(i),b=o.redMul(l),y=n.redSub(m),v=n.redAdd(m),k=g.redMul(l).redIAdd(d).redIMuln(9),S=o.redMul(f).redIMuln(18),E=h.redMul(o.redSub(i)).redIMuln(12),w=(u>=2?k.redISub(S).redIAdd(E).redSqrt():s).redMul(i),C=f.redISub(b).redIMuln(3).redISub(p),A=h.redMul(y),I=h.redMul(v),T=C.redAdd(w),_=C.redSub(w),B=[v,y,a,a][u],N=[A,I,T,_][u].redDivSqrt(B),[R]=this._svdwf(N);if(!R.eq(o))throw new Error("Invalid point.");return N.redIsOdd()!==c.redIsOdd()&&N.redINeg(),N}isElliptic(){const{a:e,b:t}=this,r=e.redSqr().redMul(e);return!t.redSqr().redMuln(27).redIAdd(r.redMuln(4)).isZero()}jinv(){const{a:e,b:t}=this,r=e.redSqr().redMul(e),n=t.redSqr(),i=r.redMuln(4),s=i.redMuln(1728),a=n.redMuln(27).redIAdd(i);if(a.isZero())throw new Error("Curve is not elliptic.");return s.redDiv(a).fromRed()}point(e,t){return new g(this,e,t)}jpoint(e,t,r){return new m(this,e,t,r)}solveX(e){if(x(e instanceof s),!this.a.isZero())throw new Error("Not implemented.");return M(e.redSqr().redSub(this.b))}solveY2(e){x(e instanceof s);const t=e.redSqr().redMul(e).redIAdd(this.b);return this.zeroA||(this.threeA?t.redIAdd(e.redMuln(-3)):t.redIAdd(this.a.redMul(e))),t}validate(e){if(x(e instanceof g),e.inf)return!0;const{x:t,y:r}=e,n=this.solveY2(t);return r.redSqr().eq(n)}pointFromX(e,t=null){x(e instanceof s),x(null==t||"boolean"==typeof t),e.red||(e=e.toRed(this.red));const r=this.solveY(e);if(null!=t){if(this.h.cmpn(1)>0&&r.isZero()&&t)throw new Error("Invalid point.");r.redIsOdd()!==t&&r.redINeg()}return this.point(e,r)}pointFromY(e,t=0){x(e instanceof s),x(t>>>0===t),e.red||(e=e.toRed(this.red));const r=this.solveX(e);if(t>=r.length)throw new Error("Invalid X coordinate index.");const n=r[t];return this.point(n,e)}isIsomorphic(e){if(x(e instanceof d),!e.p.eq(this.p))return!1;let t,r;try{[t,r]=this._scale(e)}catch(e){return!1}if("short"===e.type){const n=this.field(e.a).redMul(t.redSqr()),i=this.field(e.b).redMul(r.redSqr());return this.a.eq(n)&&this.b.eq(i)}if("mont"===e.type){const{a3:r,bi:n}=e,i=this.field(r.redMul(n)).redMul(t);return this.solveY2(i).isZero()}if("edwards"===e.type){const r=this.field(e.ad6).redMul(t);return this.solveY2(r).isZero()}return!1}isIsogenous(e){return x(e instanceof d),!1}pointFromShort(e){if(x(e instanceof g),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();const[t,r]=this._scale(e.curve),n=this.field(e.x),i=this.field(e.y),s=n.redMul(t),a=i.redMul(r);return this.point(s,a)}throw new Error("Not implemented.")}pointFromMont(e){if(x(e instanceof y),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();const{a3:t,bi:r}=e.curve,[n,i]=this._scale(e.curve),s=e.x.redAdd(t).redMul(r),a=e.y.redMul(r);return this.point(this.field(s).redMul(n),this.field(a).redMul(i))}throw new Error("Not implemented.")}pointFromEdwards(e){if(x(e instanceof S),this.isIsomorphic(e.curve)){const{a:t,d:r,ad6:n}=e.curve,[i,s]=this._scale(e.curve);if(e.isInfinity())return this.point();if(e.x.isZero()){const e=this.field(n).redMul(i);return this.point(e,this.zero)}const{x:a,y:o,z:c}=e,u=t.redMuln(5),l=r.redMuln(5),f=r.redSub(t),d=l.redSub(t),h=r.redSub(u),p=o.redAdd(c),g=o.redSub(c),m=d.redMul(o).redIAdd(h.redMul(c)),b=g.redMuln(12),y=f.redMul(p).redMul(c),v=g.redMul(a).redIMuln(4);return this.cpoint(this.field(m).redMul(i),this.field(b),this.field(y).redMul(s),this.field(v))}throw new Error("Not implemented.")}pointFromUniform(e){if(x(e instanceof s),this.z.isZero()||this.b.isZero())throw new Error("Not implemented.");if(!this.a.isZero())return this._sswu(e);if(!this.c.isZero())return this._svdw(e);throw new Error("Not implemented.")}pointToUniform(e,t){if(x(e instanceof g),x(t>>>0===t),this.z.isZero()||this.b.isZero())throw new Error("Not implemented.");if(e.isInfinity())throw new Error("Invalid point.");const r=(t>>>4&15)%this.torsion.length,n=e.add(this.torsion[r]);return L((()=>{if(!this.a.isZero())return this._sswui(n,t);if(!this.c.isZero())return this._svdwi(n,t);throw new Error("Not implemented.")}))}mulAll(e,t){return super.mulAll(e,t).toP()}affinizeAll(e){const t=this.normalizeAll(e);for(let e=0;e<t.length;e++)t[e]=t[e].toP();return t}decodePoint(e){return g.decode(this,e)}encodeX(e){return x(e instanceof h),e.encodeX()}decodeEven(e){return g.decodeEven(this,e)}decodeSquare(e){return g.decodeSquare(this,e)}toShort(e,t,r=null){const[n,i]=this._short(e,t),s=new p({red:this.red,prime:this.prime,p:this.p,a:n,b:i,n:this.n,h:this.h});if(null!=r){const[,e]=s._scale(this);e.redIsOdd()!==r&&e.redINeg()}this.g.isInfinity()||(s.g=s.pointFromShort(this.g));for(let e=0;e<this.h.word(0);e++)s.torsion[e]=s.pointFromShort(this.torsion[e]);return s}toMont(e,t,r=null){const[n,i]=this._mont(e,t),s=new b({red:this.red,prime:this.prime,p:this.p,a:n,b:i,n:this.n,h:this.h});if(null!=r){const[,e]=this._scale(s);e.redIsOdd()!==r&&e.redINeg()}this.g.isInfinity()||(s.g=s.pointFromShort(this.g));for(let e=0;e<this.h.word(0);e++)s.torsion[e]=s.pointFromShort(this.torsion[e]);return s}toEdwards(e,t,r=null){const[n,i]=this._edwards(e,t),s=new k({red:this.red,prime:this.prime,p:this.p,a:n,d:i,n:this.n,h:this.h});if(null!=r){const[,e]=this._scale(s);e.redIsOdd()!==r&&e.redINeg()}if(this.g.isInfinity()||(s.g=s.pointFromShort(this.g),s.g.normalize()),s.isComplete())for(let e=0;e<this.h.word(0);e++)s.torsion[e]=s.pointFromShort(this.torsion[e]),s.torsion[e].normalize();return s}pointFromJSON(e){return g.fromJSON(this,e)}toJSON(e){const t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.b=this.b.fromRed().toJSON(),this.c.isZero()||(t.c=this.c.fromRed().toJSON()),t}}class g extends h{constructor(e,t,r){x(e instanceof p),super(e,a),this.x=this.curve.zero,this.y=this.curve.zero,this.inf=!0,null!=t&&this._init(t,r)}_init(e,t){x(e instanceof s),x(t instanceof s),this.x=e,this.y=t,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1}_getBeta(){if(!this.curve.endo)return null;if(this.pre&&this.pre.beta)return this.pre.beta;const e=this.x.redMul(this.curve.endo.beta),t=this.curve.point(e,this.y);return this.pre&&(t.pre=this.pre.map((e=>{const t=e.x.redMul(this.curve.endo.beta);return this.curve.point(t,e.y)})),this.pre.beta=t),t}_getJNAF(e){if(x(e instanceof g),this.inf||e.inf)return super._getJNAF(e);const t=[this,null,null,e];return this.y.eq(e.y)?(t[1]=this.add(e),t[2]=this.toJ().sub(e)):this.y.eq(e.y.redNeg())?(t[1]=this.toJ().add(e),t[2]=this.sub(e)):(t[1]=this.toJ().add(e),t[2]=this.toJ().sub(e)),t}clone(){return this.inf?this.curve.point():this.curve.point(this.x,this.y)}scale(e){return this.toJ().scale(e)}neg(){return this.inf?this:this.curve.point(this.x,this.y.redNeg())}add(e){if(x(e instanceof g),this.inf)return e;if(e.inf)return this;if(this.x.eq(e.x))return this.y.eq(e.y)?this.dbl():this.curve.point();if(this.y.eq(e.y)){const t=this.x.redNeg().redISub(e.x),r=this.y.redNeg();return this.curve.point(t,r)}const t=this.x.redSub(e.x),r=this.y.redSub(e.y).redDiv(t),n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)}dbl(){if(this.inf)return this;if(this.y.isZero())return this.curve.point();const e=this.x.redSqr().redIMuln(3).redIAdd(this.curve.a),t=this.y.redMuln(2),r=e.redDiv(t),n=r.redSqr().redISub(this.x).redISub(this.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)}dblp(e){return this.toJ().dblp(e).toP()}getX(){if(this.inf)throw new Error("Invalid point.");return this.x.fromRed()}getY(){if(this.inf)throw new Error("Invalid point.");return this.y.fromRed()}eq(e){return x(e instanceof g),this===e||(this.inf?e.inf:!e.inf&&(this.x.eq(e.x)&&this.y.eq(e.y)))}cmp(e){return x(e instanceof g),this.inf&&!e.inf?-1:!this.inf&&e.inf?1:this.inf&&e.inf?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.inf}isOrder2(){return!this.inf&&this.y.isZero()}isOdd(){return!this.inf&&this.y.redIsOdd()}isEven(){return!this.inf&&this.y.redIsEven()}isSquare(){return!this.inf&&-1!==this.y.redJacobi()}eqX(e){return x(e instanceof s),x(!e.red),!this.inf&&this.getX().eq(e)}eqR(e){return x(e instanceof s),x(!e.red),x(!this.curve.n.isZero()),!this.inf&&this.getX().imod(this.curve.n).eq(e)}mul(e){return super.mul(e).toP()}muln(e){return super.muln(e).toP()}mulBlind(e,t){return super.mulBlind(e,t).toP()}mulAdd(e,t,r){return super.mulAdd(e,t,r).toP()}mulH(){return super.mulH().toP()}div(e){return super.div(e).toP()}divn(e){return super.divn(e).toP()}divH(){return super.divH().toP()}toP(){return this}toJ(){return this.inf?this.curve.jpoint():this.curve.jpoint(this.x,this.y,this.curve.one)}encode(e){null==e&&(e=!0),x("boolean"==typeof e);const{fieldSize:t}=this.curve;if(this.inf)throw new Error("Invalid point.");if(e){const e=n.alloc(1+t),r=this.curve.encodeField(this.getX());return e[0]=2|this.y.redIsOdd(),r.copy(e,1),e}const r=n.alloc(1+2*t),i=this.curve.encodeField(this.getX()),s=this.curve.encodeField(this.getY());return r[0]=4,i.copy(r,1),s.copy(r,1+t),r}static decode(e,t){x(e instanceof p),x(n.isBuffer(t));const r=e.fieldSize;if(t.length<1+r)throw new Error("Not a point.");const i=t[0];switch(i){case 2:case 3:{if(t.length!==1+r)throw new Error("Invalid point size for compressed.");const n=e.decodeField(t.slice(1,1+r));if(n.cmp(e.p)>=0)throw new Error("Invalid point.");const s=e.pointFromX(n,3===i);return x(!s.isInfinity()),s}case 4:case 6:case 7:{if(t.length!==1+2*r)throw new Error("Invalid point size for uncompressed.");const n=e.decodeField(t.slice(1,1+r)),s=e.decodeField(t.slice(1+r,1+2*r));if(n.cmp(e.p)>=0||s.cmp(e.p)>=0)throw new Error("Invalid point.");if(4!==i&&i!==(6|s.isOdd()))throw new Error("Invalid hybrid encoding.");const a=e.point(n,s);if(!a.validate())throw new Error("Invalid point.");return x(!a.isInfinity()),a}default:throw new Error("Unknown point format.")}}encodeX(){return this.curve.encodeField(this.getX())}static decodeEven(e,t){x(e instanceof p);const r=e.decodeField(t);if(r.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromX(r,!1)}static decodeSquare(e,t){x(e instanceof p);const r=e.decodeField(t);if(r.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromX(r)}toJSON(e){if(this.inf)return[];const t=this.getX().toJSON(),r=this.getY().toJSON();return!0===e&&this.pre?[t,r,this.pre.toJSON()]:[t,r]}toPretty(){if(this.inf)return[];const e=2*this.curve.fieldSize;return[K(this.getX(),e),K(this.getY(),e)]}static fromJSON(e,t){if(x(e instanceof p),x(Array.isArray(t)),x(0===t.length||2===t.length||3===t.length),0===t.length)return e.point();const r=s.fromJSON(t[0]),n=s.fromJSON(t[1]),i=e.point(r,n);return t.length>2&&null!=t[2]&&(i.pre=E.fromJSON(i,t[2])),i}[i](){return this.inf?"<ShortPoint: Infinity>":"<ShortPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+">"}}class m extends h{constructor(e,t,r,n){x(e instanceof p),super(e,o),this.x=this.curve.one,this.y=this.curve.one,this.z=this.curve.zero,this.zOne=!1,null!=t&&this._init(t,r,n)}_init(e,t,r){x(e instanceof s),x(t instanceof s),x(null==r||r instanceof s),this.x=e,this.y=t,this.z=r||this.curve.one,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z.eq(this.curve.one)}clone(){return this.curve.jpoint(this.x,this.y,this.z)}validate(){const{a:e,b:t}=this.curve;if(this.isInfinity())return!0;if(this.zOne)return this.curve.validate(this.toP());const r=this.y.redSqr(),n=this.x.redSqr().redMul(this.x),i=this.z.redSqr(),s=i.redSqr(),a=s.redMul(i),o=n.redIAdd(t.redMul(a));return this.curve.zeroA||(this.curve.threeA?o.redIAdd(s.redIMuln(-3).redMul(this.x)):o.redIAdd(e.redMul(s).redMul(this.x))),r.eq(o)}normalize(){if(this.zOne)return this;if(this.isInfinity())return this;const e=this.z.redInvert(),t=e.redSqr();return this.x=this.x.redMul(t),this.y=this.y.redMul(t).redMul(e),this.z=this.curve.one,this.zOne=!0,this}scale(e){if(x(e instanceof s),this.isInfinity())return this.curve.jpoint();const t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e),i=this.z.redMul(e);return this.curve.jpoint(r,n,i)}neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)}add(e){return x(e instanceof h),e.type===a?this._mixedAdd(e):this._add(e)}_add(e){return x(e instanceof m),this.isInfinity()?e:e.isInfinity()?this:this.zOne?e._addJA(this):e.zOne?this._addJA(e):this._addJJ(e)}_mixedAdd(e){return x(e instanceof g),this.isInfinity()?e.toJ():e.isInfinity()?this:this._addJA(e)}_addJJ(e){const t=this.z.redSqr(),r=e.z.redSqr(),n=this.x.redMul(r),i=e.x.redMul(t),s=this.y.redMul(e.z).redMul(r),a=e.y.redMul(this.z).redMul(t),o=i.redISub(n),c=a.redISub(s);if(o.isZero())return c.isZero()?this.dbl():this.curve.jpoint();const u=o.redSqr(),l=o.redMul(u),f=n.redMul(u),d=c.redSqr().redISub(l).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(l)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(d,h,p)}_addJA(e){const t=this.z.redSqr(),r=e.x.redMul(t),n=e.y.redMul(this.z).redMul(t),i=r.redISub(this.x),s=n.redISub(this.y).redIMuln(2);if(i.isZero())return s.isZero()?this.dbl():this.curve.jpoint();const a=i.redMuln(2).redSqr(),o=i.redMul(a),c=this.x.redMul(a),u=s.redSqr().redISub(o).redISub(c).redISub(c),l=s.redMul(c.redISub(u)).redISub(this.y.redMul(o).redIMuln(2)),f=this.z.redMul(i).redIMuln(2);return this.curve.jpoint(u,l,f)}dbl(){return this.isInfinity()?this:this.y.isZero()?this.curve.jpoint():this.curve.zeroA?this._dbl0():this.curve.threeA?this._dbl3():this._dblJ()}_dblJ(){const e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t).redIMuln(4),i=e.redIMuln(3).redIAdd(this.curve.a.redMul(r.redSqr())),s=i.redSqr().redISub(n).redISub(n),a=s,o=i.redMul(n.redISub(s)).redISub(t.redSqr().redIMuln(8)),c=this.y.redMul(this.z).redIMuln(2);return this.curve.jpoint(a,o,c)}_dbl0(){const e=this.x.redSqr(),t=this.y.redSqr(),r=t.redSqr(),n=t.redIAdd(this.x).redSqr().redISub(e).redISub(r).redIMuln(2),i=e.redIMuln(3),s=i.redSqr().redISub(n).redISub(n),a=i.redMul(n.redISub(s)).redISub(r.redIMuln(8)),o=this.y.redMul(this.z).redIMuln(2);return this.curve.jpoint(s,a,o)}_dbl3(){const e=this.z.redSqr(),t=this.y.redSqr(),r=this.x.redMul(t),n=this.x.redSub(e),i=this.x.redAdd(e),s=n.redMul(i).redIMuln(3),a=r.redIMuln(4),o=a.redMuln(2),c=t.redSqr().redIMuln(8),u=s.redSqr().redISub(o),l=this.y.redAdd(this.z).redSqr().redISub(t).redISub(e),f=s.redMul(a.redISub(u)).redISub(c);return this.curve.jpoint(u,f,l)}getX(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.x.fromRed()}getY(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.y.fromRed()}eq(e){if(x(e instanceof m),this===e)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return!1;if(this.z.eq(e.z))return this.x.eq(e.x)&&this.y.eq(e.y);const t=this.z.redSqr(),r=e.z.redSqr(),n=this.x.redMul(r),i=e.x.redMul(t);if(!n.eq(i))return!1;const s=t.redMul(this.z),a=r.redMul(e.z),o=this.y.redMul(a),c=e.y.redMul(s);return o.eq(c)}cmp(e){x(e instanceof m);const t=this.isInfinity(),r=e.isInfinity();return t&&!r?-1:!t&&r?1:t&&r?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.z.isZero()}isOrder2(){return!this.isInfinity()&&this.y.isZero()}isOdd(){return!this.isInfinity()&&(this.normalize(),this.y.redIsOdd())}isEven(){return!this.isInfinity()&&(this.normalize(),this.y.redIsEven())}isSquare(){return!this.isInfinity()&&-1!==this.y.redMul(this.z).redJacobi()}eqX(e){if(x(e instanceof s),x(!e.red),this.isInfinity())return!1;const t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);return this.x.eq(r)}eqR(e){if(x(e instanceof s),x(!e.red),!this.curve.smallGap)return this.toP().eqR(e);if(this.isInfinity())return!1;if(e.cmp(this.curve.p)>=0)return!1;const t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.eq(r))return!0;if(this.curve.highOrder)return!1;if(e.cmp(this.curve.pmodn)>=0)return!1;const n=this.curve.redN.redMul(t);return r.redIAdd(n),this.x.eq(r)}toP(){return this.isInfinity()?this.curve.point():(this.normalize(),this.curve.point(this.x,this.y))}toJ(){return this}encode(e){return this.toP().encode(e)}static decode(e,t){return g.decode(e,t).toJ()}encodeX(){return this.toP().encodeX()}static decodeEven(e,t){return g.decodeEven(e,t).toJ()}static decodeSquare(e,t){return g.decodeSquare(e,t).toJ()}toJSON(e){return this.toP().toJSON(e)}toPretty(){return this.toP().toPretty()}static fromJSON(e,t){return g.fromJSON(e,t).toJ()}[i](){return this.isInfinity()?"<JPoint: Infinity>":"<JPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}}class b extends d{constructor(e){super(y,"mont",e),this.a=s.fromJSON(e.a).toRed(this.red),this.b=s.fromJSON(e.b).toRed(this.red),this.bi=this.b.redInvert(),this.a2=this.a.redAdd(this.two),this.a24=this.a2.redMul(this.i4),this.a3=this.a.redMul(this.i3),this.a0=this.a.redMul(this.bi),this.b0=this.bi.redSqr(),this._finalize(e)}static _isomorphism(e,t,r){x(e instanceof s),x(t instanceof s),x(r instanceof s);const n=e.clone(),i=r.clone();if(1!==t.redDiv(r).redJacobi())throw new Error("Invalid `b` coefficient.");return[n,i]}_short(e,t){const{a:r,b:n,three:i}=this,s=r.redSqr(),a=s.redMul(r),o=n.redSqr(),c=o.redMul(n),u=i.redSub(s),l=o.redMuln(3),f=a.redMuln(2).redISub(r.redMuln(9)),d=c.redMuln(27),h=u.redDiv(l),g=f.redDiv(d);return null!=e?p._isomorphism(h,g,e,t):[h,g]}_mont(e){return b._isomorphism(this.a,this.b,e)}_edwards(e,t=!1){x("boolean"==typeof t);const{two:r,bi:n}=this,i=this.a.redAdd(r).redMul(n),s=this.a.redSub(r).redMul(n);return t&&i.swap(s),null!=e?k._isomorphism(i,s,e):[i,s]}_scaleShort(e){x(e instanceof p);const[t,r]=e._scale(this);return[this.field(t.redInvert()),this.field(r.redInvert())]}_scaleMont(e){return x(e instanceof b),this.g.isInfinity()||e.g.isInfinity()?this.field(e.b).redDivSqrt(this.b):this.g.y.redDiv(this.field(e.g.y))}_scaleEdwards(e,t){x(e instanceof k);const r=e._scale(this,t);return this.field(r)}_solveY0(e){x(e instanceof s);const t=this.a0,r=this.b0,n=e.redSqr();return n.redMul(e).redIAdd(t.redMul(n)).redIAdd(r.redMul(e))}_elligator2(e){const t=this.a0.redNeg(),r=this.one.redAdd(this.z.redMul(e.redSqr()));r.isZero()&&r.inject(this.one);const n=t.redMul(r.redInvert()),i=n.redNeg().redISub(this.a0),s=this._solveY0(n),a=this._solveY0(i),o=0|s.redIsSquare(),c=[n,i][1^o],u=[s,a][1^o].redSqrt();u.redIsOdd()!==e.redIsOdd()&&u.redINeg();const l=this.b.redMul(c),f=this.b.redMul(u);return this.point(l,f)}_invert2(e,t){const{x:r,y:n}=e,i=1&t,s=r.redMul(this.bi),a=n.redMul(this.bi),o=s.redAdd(this.a0),c=s,u=[o,c][i].redINeg(),l=[c,o][i].redMul(this.z),f=u.redDivSqrt(l);return f.redIsOdd()!==a.redIsOdd()&&f.redINeg(),f}isElliptic(){const e=this.a.redSqr();return!this.b.redMul(e.redSub(this.four)).isZero()}jinv(){const{a:e,three:t,four:r}=this,n=e.redSqr(),i=n.redSub(t).redPown(3).redIMuln(256),s=n.redSub(r);if(s.isZero())throw new Error("Curve is not elliptic.");return i.redDiv(s).fromRed()}point(e,t){return new y(this,e,t)}jpoint(e,t,r){return x(null==e&&null==t&&null==r),this.point()}xpoint(e,t){return new v(this,e,t)}solveY2(e){x(e instanceof s);const t=e.redSqr();return t.redMul(e).redIAdd(this.a.redMul(t)).redIAdd(e).redMul(this.bi)}validate(e){if(x(e instanceof y),e.isInfinity())return!0;const{x:t,y:r}=e,n=this.solveY2(t);return r.redSqr().eq(n)}pointFromX(e,t=null){x(e instanceof s),x(null==t||"boolean"==typeof t),e.red||(e=e.toRed(this.red));const r=this.solveY(e);if(null!=t){if(r.isZero()&&t)throw new Error("Invalid point.");r.redIsOdd()!==t&&r.redINeg()}return this.point(e,r)}isIsomorphic(e,t){if(x(e instanceof d),!e.p.eq(this.p))return!1;if("mont"===e.type){const t=this.field(e.a),r=this.field(e.b);if(!this.a.eq(t))return!1;if(this.b.isZero())return!1;return 1===r.redDiv(this.b).redJacobi()}return e.isIsomorphic(this,t)}isIsogenous(e){return x(e instanceof d),"mont"!==e.type&&e.isIsogenous(this)}pointFromShort(e){if(x(e instanceof g),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();const{a3:t,b:r}=this,[n,i]=this._scale(e.curve),s=this.field(e.x).redMul(n),a=this.field(e.y).redMul(i),o=r.redMul(s).redISub(t),c=r.redMul(a);return this.point(o,c)}throw new Error("Not implemented.")}pointFromMont(e){if(x(e instanceof y),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();const t=this._scale(e.curve),r=this.field(e.x),n=this.field(e.y),i=r,s=t.redMul(n);return this.point(i,s)}throw new Error("Not implemented.")}pointFromEdwards(e){x(e instanceof S),x(e.curve.p.eq(this.p));const t=this.field(e.x),r=this.field(e.y),n=this.field(e.z);if(this.isIsogenous(e.curve)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);const i=n.redSqr().redIMuln(2),s=r.redSqr(),a=t.redSqr(),o=i.redISub(a).redISub(s).redMul(r),c=a.redMul(t);return this.cpoint(s,a,o,c)}if(this.isIsomorphic(e.curve,!0)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);const i=this._scale(e.curve,!0),s=r.redAdd(n),a=r.redSub(n),o=i.redMul(n).redMul(s),c=t.redMul(a);return this.cpoint(s,a,o,c)}if(this.isIsomorphic(e.curve,!1)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);const i=this._scale(e.curve,!1),s=n.redAdd(r),a=n.redSub(r),o=i.redMul(n).redMul(s),c=t.redMul(a);return this.cpoint(s,a,o,c)}throw new Error("Not implemented.")}pointFromUniform(e){if(x(e instanceof s),this.z.isZero()||this.a.isZero())throw new Error("Not implemented.");return this._elligator2(e)}pointToUniform(e,t){if(x(e instanceof y),x(t>>>0===t),this.z.isZero()||this.a.isZero())throw new Error("Not implemented.");if(e.isInfinity())throw new Error("Invalid point.");const r=(t>>>4&15)%this.torsion.length,n=e.add(this.torsion[r]);return L((()=>this._invert2(n,t)))}decodePoint(e,t){return y.decode(this,e,t)}encodeX(e){return x(e instanceof v),e.encode()}decodeX(e){return v.decode(this,e)}toShort(e,t,r=null){const[n,i]=this._short(e,t),s=new p({red:this.red,prime:this.prime,p:this.p,a:n,b:i,n:this.n,h:this.h});if(null!=r){const[,e]=s._scale(this);e.redIsOdd()!==r&&e.redINeg()}this.g.isInfinity()||(s.g=s.pointFromMont(this.g));for(let e=0;e<this.h.word(0);e++)s.torsion[e]=s.pointFromMont(this.torsion[e]);return s}toMont(e,t=null){const[r,n]=this._mont(e),i=new b({red:this.red,prime:this.prime,p:this.p,a:r,b:n,n:this.n,h:this.h,z:this.z});if(null!=t){const e=i._scale(this);e.redIsOdd()!==t&&e.redINeg()}this.g.isInfinity()||(i.g=i.pointFromMont(this.g));for(let e=0;e<this.h.word(0);e++)i.torsion[e]=i.pointFromMont(this.torsion[e]);return i}toEdwards(e,t,r=null){const[n,i]=this._edwards(e,t),s=new k({red:this.red,prime:this.prime,p:this.p,a:n,d:i,n:this.n,h:this.h,z:this.z});if(null!=r){const e=s._scale(this,t);e.redIsOdd()!==r&&e.redINeg()}if(this.g.isInfinity()||(s.g=s.pointFromMont(this.g),s.g.normalize()),s.isComplete())for(let e=0;e<this.h.word(0);e++)s.torsion[e]=s.pointFromMont(this.torsion[e]),s.torsion[e].normalize();return s}pointFromJSON(e){return y.fromJSON(this,e)}toJSON(e){const t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.b=this.b.fromRed().toJSON(),t}}class y extends h{constructor(e,t,r){x(e instanceof b),super(e,a),this.x=this.curve.zero,this.y=this.curve.zero,this.inf=!0,null!=t&&this._init(t,r)}_init(e,t){x(e instanceof s),x(t instanceof s),this.x=e,this.y=t,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1}clone(){return this.inf?this.curve.point():this.curve.point(this.x,this.y)}scale(e){return this.clone()}randomize(e){return this.clone()}neg(){return this.inf?this:this.curve.point(this.x,this.y.redNeg())}add(e){if(x(e instanceof y),this.inf)return e;if(e.inf)return this;if(this.x.eq(e.x))return this.y.eq(e.y)?this.dbl():this.curve.point();const t=e.x.redSub(this.x),r=e.y.redSub(this.y).redDiv(t),n=this.curve.b.redMul(r.redSqr()).redISub(this.curve.a).redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)}dbl(){if(this.inf)return this;if(this.y.isZero())return this.curve.point();const e=this.x.redSqr().redIMuln(3),t=this.curve.a.redMul(this.x).redIMuln(2),r=e.redIAdd(t).redIAdd(this.curve.one),n=this.curve.b.redMul(this.y).redIMuln(2),i=r.redDiv(n),s=this.curve.b.redMul(i.redSqr()).redISub(this.curve.a).redISub(this.x).redISub(this.x),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)}getX(){if(this.inf)throw new Error("Invalid point.");return this.x.fromRed()}getY(){if(this.inf)throw new Error("Invalid point.");return this.y.fromRed()}eq(e){return x(e instanceof y),this===e||(this.inf?e.inf:!e.inf&&(this.x.eq(e.x)&&this.y.eq(e.y)))}cmp(e){return x(e instanceof y),this.inf&&!e.inf?-1:!this.inf&&e.inf?1:this.inf&&e.inf?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.inf}isOrder2(){return!this.inf&&this.y.isZero()}isOdd(){return!this.inf&&this.y.redIsOdd()}isEven(){return!this.inf&&this.y.redIsEven()}toP(){return this}toJ(){return this}toX(){return this.inf?this.curve.xpoint():this.curve.xpoint(this.x,this.curve.one)}encode(){return this.toX().encode()}static decode(e,t,r){return x(e instanceof b),e.decodeX(t).toP(r)}toJSON(e){if(this.inf)return[];return[this.getX().toJSON(),this.getY().toJSON()]}toPretty(){if(this.inf)return[];const e=2*this.curve.fieldSize;return[K(this.getX(),e),K(this.getY(),e)]}static fromJSON(e,t){if(x(e instanceof b),x(Array.isArray(t)),x(0===t.length||2===t.length||3===t.length),0===t.length)return e.point();const r=s.fromJSON(t[0]),n=s.fromJSON(t[1]);return e.point(r,n)}[i](){return this.inf?"<MontPoint: Infinity>":"<MontPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+">"}}class v extends h{constructor(e,t,r){x(e instanceof b),super(e,c),this.x=this.curve.one,this.z=this.curve.zero,null!=t&&this._init(t,r)}_init(e,t){x(e instanceof s),x(null==t||t instanceof s),this.x=e,this.z=t||this.curve.one,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red))}clone(){return this.curve.xpoint(this.x,this.z)}precompute(e,t){return this}validate(){if(this.isInfinity())return!0;const{x:e,z:t}=this,r=e.redSqr(),n=r.redMul(e),i=t.redSqr(),s=this.curve.a.redMul(r).redMul(t);return-1!==n.redIAdd(s).redIAdd(e.redMul(i)).redMul(this.curve.bi).redMul(t).redJacobi()}normalize(){return this.isInfinity()||this.z.eq(this.curve.one)||(this.x=this.x.redDiv(this.z),this.z=this.curve.one),this}scale(e){if(x(e instanceof s),this.isInfinity())return this.curve.xpoint();const t=this.x.redMul(e),r=this.z.redMul(e);return this.curve.xpoint(t,r)}neg(){return this}dbl(){const e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redIAdd(this.curve.a24.redMul(r)));return this.curve.xpoint(n,i)}diffAddDbl(e,t){x(e instanceof v),x(t instanceof v);const r=e.x.redAdd(e.z),n=r.redSqr(),i=e.x.redSub(e.z),s=i.redSqr(),a=n.redSub(s),o=t.x.redAdd(t.z),c=t.x.redSub(t.z).redMul(r),u=o.redMul(i),l=this.z.redMul(c.redAdd(u).redSqr()),f=this.x.redMul(c.redISub(u).redSqr()),d=n.redMul(s),h=a.redMul(s.redIAdd(this.curve.a24.redMul(a)));return[this.curve.xpoint(d,h),this.curve.xpoint(l,f)]}getX(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.x.fromRed()}getY(e){return this.toP(e).getY()}eq(e){if(x(e instanceof v),this===e)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return!1;if(this.z.eq(e.z))return this.x.eq(e.x);const t=this.x.redMul(e.z),r=e.x.redMul(this.z);return t.eq(r)}cmp(e){x(e instanceof v);const t=this.isInfinity(),r=e.isInfinity();return t&&!r?-1:!t&&r?1:t&&r?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())}isInfinity(){return this.z.isZero()}isOrder2(){return!this.isInfinity()&&this.x.isZero()}isOdd(){return!1}isEven(){return!1}hasTorsion(){return!this.isInfinity()&&(!!this.x.isZero()||super.hasTorsion())}order(){try{return this.toP().order()}catch(e){return new s(1)}}jmul(e){x(e instanceof s),x(!e.red);const t=e.bitLength();let r=this.curve.xpoint(),n=this;for(let i=t-1;i>=0;i--){0===e.bit(i)?[r,n]=this.diffAddDbl(r,n):[n,r]=this.diffAddDbl(n,r)}return r}jmulBlind(e,t){return t?this.randomize(t).jmul(e):this.jmul(e)}jmulAdd(e,t,r){throw new Error("Not implemented.")}toP(e=null){return x(null==e||"boolean"==typeof e),this.isInfinity()?this.curve.point():(this.normalize(),this.curve.pointFromX(this.x,e))}toJ(){return this}toX(){return this}key(){if(this.isInfinity())return`${this.curve.uid}:oo`;this.normalize();const e=this.getX().toString(16);return`${this.curve.uid}:${e}`}encode(){return this.curve.encodeField(this.getX())}static decode(e,t){x(e instanceof b);const r=e.decodeField(t);r.iumaskn(e.fieldBits);const n=e.xpoint(r,e.one);return x(!n.isInfinity()),n}toJSON(e){return this.toP().toJSON(e)}toPretty(){return this.toP().toPretty()}static fromJSON(e,t){return y.fromJSON(e,t).toX()}[i](){return this.isInfinity()?"<XPoint: Infinity>":"<XPoint: x="+this.x.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}}class k extends d{constructor(e){super(S,"edwards",e),this.a=s.fromJSON(e.a).toRed(this.red),this.d=s.fromJSON(e.d).toRed(this.red),this.s=s.fromJSON(e.s||"0").toRed(this.red),this.si=this.s.isZero()?this.zero:this.s.redInvert(),this.k=this.d.redMuln(2),this.smi=-this.d.redNeg().word(0),this.ad6=this.a.redAdd(this.d).redMul(this.i6),this.twisted=!this.a.eq(this.one),this.oneA=this.a.eq(this.one),this.mOneA=this.a.eq(this.one.redNeg()),this.smallD=null!=this.prime&&1===this.d.redNeg().length,this.alt=null,this._finalize(e)}static _isomorphism(e,t,r){x(e instanceof s),x(t instanceof s),x(r instanceof s);const n=r.clone(),i=r.redMul(t).redDiv(e);if(1!==e.redDiv(r).redJacobi())throw new Error("Invalid `a` coefficient.");return[n,i]}_short(e,t){const{a:r,d:n}=this,i=r.redSqr(),s=i.redMul(r),a=n.redSqr(),o=a.redMul(n),c=r.redMul(n).redIMuln(14),u=i.redMul(n),l=r.redMul(a),f=u.redIAdd(l).redIMuln(33),d=i.redAdd(c).redIAdd(a).redDivn(-48),h=f.redISub(s).redISub(o).redDivn(864);return null!=e?p._isomorphism(d,h,e,t):[d,h]}_mont(e,t=!1){let r,n;x("boolean"==typeof t),t?(r=this.d.redAdd(this.a),n=this.d.redSub(this.a)):(r=this.a.redAdd(this.d),n=this.a.redSub(this.d));const i=n.redInvert(),s=r.redMuln(2).redMul(i),a=i.redMuln(4);return null!=e?b._isomorphism(s,a,e):[s,a]}_edwards(e){return k._isomorphism(this.a,this.d,e)}_scaleShort(e){x(e instanceof p);const[t,r]=e._scale(this);return[this.field(t.redInvert()),this.field(r.redInvert())]}_scaleMont(e,t=!1){if(x(e instanceof b),x("boolean"==typeof t),this.g.isInfinity()||e.g.isInfinity()){const[r]=e._edwards(null,t);return this.field(r).redDivSqrt(this.a)}const r=e.g.x.redDiv(e.g.y);return this.g.x.redDiv(this.field(r))}_scaleEdwards(e){return x(e instanceof k),this.g.isInfinity()||e.g.isInfinity()?this.field(e.a).redDivSqrt(this.a):this.g.x.redDiv(this.field(e.g.x))}_mulA(e){return x(e instanceof s),this.oneA?e.clone():this.mOneA?e.redNeg():this.a.redMul(e)}_mulD(e){return x(e instanceof s),this.smallD?e.redMuln(this.smi):this.d.redMul(e)}_elligator1(e){const{s:t,si:r,i2:n,one:i,two:s}=this,a=r.redSqr().redIMuln(2),o=t.redSqr().redMul(n),c=o.redSqr(),u=a.redAdd(o),l=u.redSqr().redISub(s),f=a.redSub(i),d=i.redSub(e),h=i.redAdd(e),p=h.isZero()?h:d.redDiv(h),g=p.redSqr(),m=g.redMul(p),b=m.redMul(g).redAdd(l.redMul(m)).redIAdd(p),y=this.field(b.redJacobi()),v=this.field(g.redAdd(c).redJacobi()),k=y.redMul(v),S=y.redMul(p),E=y.redMul(b).redSqrt().redMul(k),w=i.redAdd(S),C=u.redMul(S),A=w.redSqr(),I=f.redMul(t).redMul(S).redMul(w),T=p.isZero()?this.one:E,_=C.redSub(A),B=C.redAdd(A);return this.cpoint(I,T,_,B)}_invert1(e,t){const{s:r,si:n,i2:i,one:s}=this,{x:a,y:o,z:c}=e,u=1&t,l=n.redSqr().redIMuln(2),f=r.redSqr().redMul(i),d=f.redSqr(),h=l.redAdd(f),p=l.redSub(s),g=o.redSub(c),m=o.redAdd(c).redIMuln(2),b=m.isZero()?m:g.redDiv(m),y=s.redAdd(b.redMul(h)),v=y.redSqr().redISub(s).redSqrt().redSub(y),k=s.redAdd(v),S=p.redMul(r).redMul(v).redMul(k).redMul(a.redMul(c)),E=v.redSqr().redIAdd(d),w=this.field(S.redMul(E).redJacobi()).redMul(v),C=s.redSub(w),A=s.redAdd(w),I=A.isZero()?A:C.redDiv(A);return I.redIsOdd()!==Boolean(u)&&I.redINeg(),I}_alt(){return this.alt||(this.alt=this.toMont()),this.alt}isElliptic(){const e=this.a.redMul(this.d),t=this.a.redSub(this.d);return!e.redMul(t).isZero()}jinv(){const{a:e,d:t}=this,r=e.redMul(t),n=e.redSub(t).redPown(4),i=e.redSqr(),s=t.redSqr(),a=i.redAdd(r.redMuln(14)).redIAdd(s).redPown(3).redIMuln(16),o=r.redMul(n);if(o.isZero())throw new Error("Curve is not elliptic.");return a.redDiv(o).fromRed()}isComplete(){return 1===this.a.redJacobi()&&-1===this.d.redJacobi()}point(e,t,r,n){return new S(this,e,t,r,n)}jpoint(e,t,r){return x(null==e&&null==t&&null==r),this.point()}cpoint(e,t,r,n){x(e instanceof s),x(t instanceof s),x(r instanceof s),x(n instanceof s);const i=e.redMul(n),a=r.redMul(t),o=t.redMul(n),c=e.redMul(r);return this.point(i,a,o,c)}solveX2(e){x(e instanceof s);const t=e.redSqr(),r=this._mulD(t).redISub(this.a);return t.redISub(this.one).redDiv(r)}solveX(e){const t=e.redSqr(),r=this._mulD(t).redISub(this.a);return t.redISub(this.one).redDivSqrt(r)}solveY2(e){x(e instanceof s);const t=e.redSqr(),r=this._mulA(t).redISub(this.one),n=this._mulD(t).redISub(this.one);return r.redDiv(n)}solveY(e){const t=e.redSqr(),r=this._mulA(t).redISub(this.one),n=this._mulD(t).redISub(this.one);return r.redDivSqrt(n)}validate(e){if(x(e instanceof S),e.zOne){const t=e.x.redSqr(),r=e.y.redSqr(),n=this._mulD(t).redMul(r),i=this._mulA(t).redIAdd(r),s=this.one.redAdd(n),a=e.t,o=e.x.redMul(e.y);return i.eq(s)&&a.eq(o)}const t=e.x.redSqr(),r=e.y.redSqr(),n=e.z.redSqr(),i=n.redSqr(),s=this._mulD(t).redMul(r),a=this._mulA(t).redIAdd(r).redMul(n),o=i.redIAdd(s),c=e.t.redMul(e.z),u=e.x.redMul(e.y);return a.eq(o)&&c.eq(u)}pointFromX(e,t=null){x(e instanceof s),x(null==t||"boolean"==typeof t),e.red||(e=e.toRed(this.red));const r=this.solveY(e);if(null!=t){if(r.isZero()&&t)throw new Error("Invalid point.");r.redIsOdd()!==t&&r.redINeg()}return this.point(e,r)}pointFromY(e,t=null){x(e instanceof s),x(null==t||"boolean"==typeof t),e.red||(e=e.toRed(this.red));const r=this.solveX(e);if(null!=t){if(r.isZero()&&t)throw new Error("Invalid point.");r.redIsOdd()!==t&&r.redINeg()}return this.point(r,e)}isIsomorphic(e,t=!1){if(x(e instanceof d),x("boolean"==typeof t),!e.p.eq(this.p))return!1;if("short"===e.type)return e.isIsomorphic(this);if("mont"===e.type){const r=this.field(e.a);let n,i;return t?(n=this.d.redAdd(this.a),i=this.d.redSub(this.a)):(n=this.a.redAdd(this.d),i=this.a.redSub(this.d)),r.redMul(i).eq(n.redIMuln(2))}if("edwards"===e.type){const t=this.field(e.a),r=this.field(e.d);return this.a.redMul(r).eq(t.redMul(this.d))}return!1}isIsogenous(e){if(x(e instanceof d),!e.p.eq(this.p))return!1;if("mont"===e.type){if(!this.a.eq(this.one))return!1;const t=this.field(e.a),r=this.field(e.b),n=this.two.redSub(this.d.redMuln(4));return t.eq(n)&&r.eq(this.one)}if("edwards"===e.type){const t=this.field(e.a),r=this.field(e.d);return t.eq(this.a.redNeg())&&r.eq(this.d.redSub(this.a))}return!1}pointFromShort(e){if(x(e instanceof g),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();if(e.y.isZero())return this.point(this.zero,this.one.redNeg());const{a:t,d:r}=this,[n,i]=this._scale(e.curve),s=t.redMuln(5),a=r.redMuln(5),o=this.field(e.x).redMul(n),c=this.field(e.y).redMul(i),u=o.redMuln(6),l=o.redMuln(12),f=u.redSub(t).redISub(r),d=c.redMuln(6),h=l.redSub(s).redIAdd(r),p=l.redAdd(t).redISub(a);return this.cpoint(f,d,h,p)}throw new Error("Not implemented.")}pointFromMont(e){x(e instanceof y),x(e.curve.p.eq(this.p));const t=this.field(e.x),r=this.field(e.y);if(this.isIsogenous(e.curve)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point();const n=t.redSqr(),i=n.redMul(t),s=i.redMul(t),a=s.redMul(t),o=r.redSqr(),c=r.redMuln(4),u=n.redSub(this.one),l=n.redMuln(2),f=o.redMuln(4),d=i.redIMuln(2),h=t.redMul(o).redIMuln(4),p=n.redMul(o).redIMuln(2),g=o.redIMuln(2),m=c.redMul(u),b=s.redISub(l).redIAdd(f).redIAdd(this.one),y=a.redSub(d).redISub(h).redIAdd(t).redINeg(),v=a.redISub(p).redISub(d).redISub(g).redIAdd(t);return this.cpoint(m,b,y,v).divn(4)}if(this.isIsomorphic(e.curve,!0)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.one.redNeg());const n=this._scale(e.curve,!0).redMul(t),i=r,s=t.redAdd(this.one),a=t.redSub(this.one);return this.cpoint(n,i,s,a)}if(this.isIsomorphic(e.curve,!1)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.one.redNeg());const n=this._scale(e.curve,!1).redMul(t),i=r,s=t.redSub(this.one),a=t.redAdd(this.one);return this.cpoint(n,i,s,a)}throw new Error("Not implemented.")}pointFromEdwards(e){x(e instanceof S),x(e.curve.p.eq(this.p));const t=this.field(e.curve.a),r=this.field(e.x),n=this.field(e.y),i=this.field(e.z),s=this.field(e.t);if(this.isIsogenous(e.curve)){const e=r.redMul(n),s=r.redSqr(),a=n.redSqr(),o=i.redSqr(),c=t.redMul(s),u=e.redIMuln(2),l=a.redSub(c),f=a.redAdd(c),d=o.redIMuln(2).redISub(f),h=this.cpoint(u,l,f,d);return this.twisted?h:h.divn(4)}if(this.isIsomorphic(e.curve)){const t=this._scale(e.curve),a=t.redMul(r),o=n,c=i,u=t.redMul(s);return this.point(a,o,c,u)}throw new Error("Not implemented.")}pointFromUniform(e,t=null){x(e instanceof s),x(e.red===this.red),x(null==t||t instanceof b),t||(t=this._alt());const r=t.field(e),n=t.pointFromUniform(r);return this.pointFromMont(n)}pointToUniform(e,t,r=null){x(e instanceof S),x(t>>>0===t),x(null==r||r instanceof b),r||(r=this._alt());const n=(t>>4&15)%this.torsion.length,i=e.add(this.torsion[n]),s=r.pointFromEdwards(i),a=r.pointToUniform(s,15&t);return this.field(a)}pointFromHash(e,t,r=null){x(null==r||r instanceof b),r||(r=this._alt());const n=r.pointFromHash(e,t);return this.pointFromMont(n)}pointToHash(e,t,r,n=null){x(e instanceof S),x(t>>>0===t),x(null==n||n instanceof b),n||(n=this._alt());const i=t%this.torsion.length,s=e.add(this.torsion[i]),a=n.pointFromEdwards(s);return n.pointToHash(a,0,r)}decodePoint(e){return S.decode(this,e)}toShort(e,t,r=null){const[n,i]=this._short(e,t),s=new p({red:this.red,prime:this.prime,p:this.p,a:n,b:i,n:this.n,h:this.h});if(null!=r){const[,e]=s._scale(this);e.redIsOdd()!==r&&e.redINeg()}this.g.isInfinity()||(s.g=s.pointFromEdwards(this.g));for(let e=0;e<this.h.word(0);e++)s.torsion[e]=s.pointFromEdwards(this.torsion[e]);return s}toMont(e,t,r=null){const[n,i]=this._mont(e,t),s=new b({red:this.red,prime:this.prime,p:this.p,a:n,b:i,n:this.n,h:this.h,z:this.z});if(null!=r){const e=this._scale(s,t);e.redIsOdd()!==r&&e.redINeg()}this.g.isInfinity()||(s.g=s.pointFromEdwards(this.g));for(let e=0;e<this.h.word(0);e++)s.torsion[e]=s.pointFromEdwards(this.torsion[e]);return s}toEdwards(e,t=null){const[r,n]=this._edwards(e),i=new k({red:this.red,prime:this.prime,p:this.p,a:r,d:n,n:this.n,h:this.h,z:this.z});if(null!=t){const e=i._scale(this);e.redIsOdd()!==t&&e.redINeg()}if(this.g.isInfinity()||(i.g=i.pointFromEdwards(this.g),i.g.normalize()),i.isComplete())for(let e=0;e<this.h.word(0);e++)i.torsion[e]=i.pointFromEdwards(this.torsion[e]),i.torsion[e].normalize();return i}pointFromJSON(e){return S.fromJSON(this,e)}toJSON(e){const t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.d=this.d.fromRed().toJSON(),this.s.isZero()||(t.s=this.s.fromRed().toJSON()),t}}class S extends h{constructor(e,t,r,n,i){x(e instanceof k),super(e,u),this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0,null!=t&&this._init(t,r,n,i)}_init(e,t,r,n){x(e instanceof s),x(t instanceof s),x(null==r||r instanceof s),x(null==n||n instanceof s),this.x=e,this.y=t,this.z=r||this.curve.one,this.t=n||null,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z.eq(this.curve.one),this._check(),this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redDiv(this.z)))}_check(){if(this.z.isZero())throw new Error("Invalid point.")}clone(){return this.curve.point(this.x,this.y,this.z,this.t)}normalize(){if(this.zOne)return this;const e=this.z.redInvert();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t=this.t.redMul(e),this.z=this.curve.one,this.zOne=!0,this}scale(e){x(e instanceof s);const t=this.x.redMul(e),r=this.y.redMul(e),n=this.z.redMul(e),i=this.t.redMul(e);return this.curve.point(t,r,n,i)}neg(){const e=this.x.redNeg(),t=this.y,r=this.z,n=this.t.redNeg();return this.curve.point(e,t,r,n)}add(e){return x(e instanceof S),this.isInfinity()?e:e.isInfinity()?this:this.zOne?e._add(this):this._add(e)}_add(e){return this.curve.mOneA?this._addM1(e):this._addA(e)}_addM1(e){const t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.k).redMul(e.t),i=e.zOne?this.z.redAdd(this.z):this.z.redMul(e.z).redIMuln(2),s=r.redSub(t),a=i.redSub(n),o=i.redIAdd(n),c=r.redIAdd(t),u=s.redMul(a),l=o.redMul(c),f=s.redMul(c),d=a.redMul(o);return this.curve.point(u,l,d,f)}_addA(e){const t=this.x.redMul(e.x),r=this.y.redMul(e.y),n=this.curve._mulD(this.t).redMul(e.t),i=e.zOne?this.z.clone():this.z.redMul(e.z),s=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(t).redISub(r),a=i.redSub(n),o=i.redIAdd(n),c=r.redISub(this.curve._mulA(t)),u=s.redMul(a),l=o.redMul(c),f=s.redMul(c),d=a.redMul(o);return this.curve.point(u,l,d,f)}dbl(){return this.isInfinity()?this:this._dbl()}_dbl(){const e=this.x.redSqr(),t=this.y.redSqr(),r=this.zOne?this.curve.two:this.z.redSqr().redIMuln(2),n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),a=s.redSub(r),o=n.redISub(t),c=i.redMul(a),u=s.redMul(o),l=i.redMul(o),f=a.redMul(s);return this.curve.point(c,u,f,l)}getX(){return this.normalize(),this.x.fromRed()}getY(){return this.normalize(),this.y.fromRed()}eq(e){if(x(e instanceof S),x(!this.z.isZero()),x(!e.z.isZero()),this===e)return!0;if(this.z.eq(e.z))return this.x.eq(e.x)&&this.y.eq(e.y);const t=this.x.redMul(e.z),r=e.x.redMul(this.z);if(!t.eq(r))return!1;const n=this.y.redMul(e.z),i=e.y.redMul(this.z);return n.eq(i)}cmp(e){return x(e instanceof S),this.order().cmp(e.order())||this.getY().cmp(e.getY())||this.getX().cmp(e.getX())}isInfinity(){return x(!this.z.isZero()),!!this.x.isZero()&&this.y.eq(this.z)}isOrder2(){return!this.isInfinity()&&this.x.isZero()}isOdd(){return this.normalize(),this.x.redIsOdd()}isEven(){return this.normalize(),this.x.redIsEven()}toP(){return this.normalize()}toJ(){return this}encode(){const e=this.getY();return e.setn(this.curve.signBit,this.x.redIsOdd()),this.curve.encodeAdjusted(e)}static decode(e,t){x(e instanceof k);const r=e.decodeAdjusted(t),n=0!==r.testn(e.signBit);if(r.setn(e.signBit,0),r.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromY(r,n)}toJSON(e){if(this.isInfinity())return[];const t=this.getX().toJSON(),r=this.getY().toJSON();return!0===e&&this.pre?[t,r,this.pre.toJSON()]:[t,r]}toPretty(){const e=2*this.curve.fieldSize;return[K(this.getX(),e),K(this.getY(),e)]}static fromJSON(e,t){if(x(e instanceof k),x(Array.isArray(t)),x(0===t.length||2===t.length||3===t.length),0===t.length)return e.point();const r=s.fromJSON(t[0]),n=s.fromJSON(t[1]),i=e.point(r,n);return t.length>2&&null!=t[2]&&(i.pre=E.fromJSON(i,t[2])),i}[i](){return this.isInfinity()?"<EdwardsPoint: Infinity>":"<EdwardsPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}}class E{constructor(){this.naf=null,this.windows=null,this.doubles=null,this.blinding=null,this.beta=null}map(e){x("function"==typeof e);const t=new this.constructor;return this.naf&&(t.naf=this.naf.map(e)),this.doubles&&(t.doubles=this.doubles.map(e)),t}toJSON(){return{naf:this.naf?this.naf.toJSON():null,windows:this.windows?this.windows.toJSON():null,doubles:this.doubles?this.doubles.toJSON():null,blinding:this.blinding?this.blinding.toJSON():void 0}}fromJSON(e,t){return x(e instanceof h),x(t&&"object"==typeof t),null!=t.naf&&(this.naf=w.fromJSON(e,t.naf)),null!=t.windows&&(this.windows=C.fromJSON(e,t.windows)),null!=t.doubles&&(this.doubles=A.fromJSON(e,t.doubles)),null!=t.blinding&&(this.blinding=I.fromJSON(e,t.blinding)),this}static fromJSON(e,t){return(new this).fromJSON(e,t)}}class w{constructor(e,t){this.width=e,this.points=t}map(e){x("function"==typeof e);const{width:t}=this,r=[];for(const t of this.points)r.push(e(t));return new this.constructor(t,r)}toJSON(){return{width:this.width,points:this.points.slice(1).map((e=>e.toJSON()))}}static fromJSON(e,t){x(e instanceof h),x(t&&"object"==typeof t),x(t.width>>>0===t.width),x(Array.isArray(t.points));const{curve:r}=e,{width:n}=t,i=[e];for(const e of t.points)i.push(r.pointFromJSON(e));return new this(n,i)}}class C{constructor(e,t,r){this.width=e,this.bits=t,this.points=r}toJSON(){return{width:this.width,bits:this.bits,points:this.points.slice(1).map((e=>e.toJSON()))}}static fromJSON(e,t){x(e instanceof h),x(t&&"object"==typeof t),x(t.width>>>0===t.width),x(t.bits>>>0===t.bits),x(Array.isArray(t.points));const{curve:r}=e,{width:n,bits:i}=t,s=[e];for(const e of t.points)s.push(r.pointFromJSON(e));return new this(n,i,s)}}class A{constructor(e,t){this.step=e,this.points=t}map(e){x("function"==typeof e);const{step:t}=this,r=[];for(const t of this.points)r.push(e(t));return new this.constructor(t,r)}toJSON(){return{step:this.step,points:this.points.slice(1).map((e=>e.toJSON()))}}static fromJSON(e,t){x(e instanceof h),x(t&&"object"==typeof t),x(t.step>>>0===t.step),x(Array.isArray(t.points));const{curve:r}=e,{step:n}=t,i=[e];for(const e of t.points)i.push(r.pointFromJSON(e));return new this(n,i)}}class I{constructor(e,t){this.blind=e,this.unblind=t}toJSON(){return{blind:this.blind.toJSON(),unblind:this.unblind.toJSON()}}static fromJSON(e,t){x(e instanceof h),x(t&&"object"==typeof t);const{curve:r}=e;return new this(s.fromJSON(t.blind),r.pointFromJSON(t.unblind))}}class T{constructor(e,t,r,n){this.beta=e,this.lambda=t,this.basis=r,this.pre=n}toJSON(){return{beta:this.beta.fromRed().toJSON(),lambda:this.lambda.toJSON(),basis:[this.basis[0].toJSON(),this.basis[1].toJSON()],pre:[this.pre[0],this.pre[1].toJSON(),this.pre[2].toJSON()]}}static fromJSON(e,t){x(e instanceof d),x(t&&"object"==typeof t),x(Array.isArray(t.basis)),x(Array.isArray(t.pre)),x(2===t.basis.length),x(3===t.pre.length),x(t.pre[0]>>>0===t.pre[0]);return new this(s.fromJSON(t.beta).toRed(e.red),s.fromJSON(t.lambda),[_.fromJSON(t.basis[0]),_.fromJSON(t.basis[1])],[t.pre[0],s.fromJSON(t.pre[1]),s.fromJSON(t.pre[2])])}}class _{constructor(e,t){this.a=e,this.b=t}toJSON(){return{a:this.a.toJSON(),b:this.b.toJSON()}}static fromJSON(e){x(e&&"object"==typeof e);return new this(s.fromJSON(e.a),s.fromJSON(e.b))}}const B={__proto__:null,P192:class extends p{constructor(e){super({id:"P192",ossl:"prime192v1",type:"short",endian:"be",hash:"SHA256",prime:"p192",p:["ffffffff ffffffff ffffffff fffffffe","ffffffff ffffffff"],a:["ffffffff ffffffff ffffffff fffffffe","ffffffff fffffffc"],b:["64210519 e59c80e7 0fa7e9ab 72243049","feb8deec c146b9b1"],n:["ffffffff ffffffff ffffffff 99def836","146bc9b1 b4d22831"],h:"1",z:"-5",g:[["188da80e b03090f6 7cbf20eb 43a18800","f4ff0afd 82ff1012"],["07192b95 ffc8da78 631011ed 6b24cdd5","73f977a1 1e794811"],e]})}},P224:class extends p{constructor(e){super({id:"P224",ossl:"secp224r1",type:"short",endian:"be",hash:"SHA256",prime:"p224",p:["ffffffff ffffffff ffffffff ffffffff","00000000 00000000 00000001"],a:["ffffffff ffffffff ffffffff fffffffe","ffffffff ffffffff fffffffe"],b:["b4050a85 0c04b3ab f5413256 5044b0b7","d7bfd8ba 270b3943 2355ffb4"],n:["ffffffff ffffffff ffffffff ffff16a2","e0b8f03e 13dd2945 5c5c2a3d"],h:"1",z:"1f",g:[["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3","56c21122 343280d6 115c1d21"],["bd376388 b5f723fb 4c22dfe6 cd4375a0","5a074764 44d58199 85007e34"],e]})}},P256:class extends p{constructor(e){super({id:"P256",ossl:"prime256v1",type:"short",endian:"be",hash:"SHA256",prime:null,p:["ffffffff 00000001 00000000 00000000","00000000 ffffffff ffffffff ffffffff"],a:["ffffffff 00000001 00000000 00000000","00000000 ffffffff ffffffff fffffffc"],b:["5ac635d8 aa3a93e7 b3ebbd55 769886bc","651d06b0 cc53b0f6 3bce3c3e 27d2604b"],n:["ffffffff 00000000 ffffffff ffffffff","bce6faad a7179e84 f3b9cac2 fc632551"],h:"1",z:"-a",g:[["6b17d1f2 e12c4247 f8bce6e5 63a440f2","77037d81 2deb33a0 f4a13945 d898c296"],["4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16","2bce3357 6b315ece cbb64068 37bf51f5"],e]})}},P384:class extends p{constructor(e){super({id:"P384",ossl:"secp384r1",type:"short",endian:"be",hash:"SHA384",prime:null,p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff fffffffe","ffffffff 00000000 00000000 ffffffff"],a:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff fffffffe","ffffffff 00000000 00000000 fffffffc"],b:["b3312fa7 e23ee7e4 988e056b e3f82d19","181d9c6e fe814112 0314088f 5013875a","c656398d 8a2ed19d 2a85c8ed d3ec2aef"],n:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff c7634d81 f4372ddf","581a0db2 48b0a77a ecec196a ccc52973"],h:"1",z:"-c",g:[["aa87ca22 be8b0537 8eb1c71e f320ad74","6e1d3b62 8ba79b98 59f741e0 82542a38","5502f25d bf55296c 3a545e38 72760ab7"],["3617de4a 96262c6f 5d9e98bf 9292dc29","f8f41dbd 289a147c e9da3113 b5f0b8c0","0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"],e]})}},P521:class extends p{constructor(e){super({id:"P521",ossl:"secp521r1",type:"short",endian:"be",hash:"SHA512",prime:"p521",p:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff"],a:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","fffffffc"],b:["00000051 953eb961 8e1c9a1f 929a21a0","b68540ee a2da725b 99b315f3 b8b48991","8ef109e1 56193951 ec7e937b 1652c0bd","3bb1bf07 3573df88 3d2c34f1 ef451fd4","6b503f00"],n:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","fffffffa 51868783 bf2f966b 7fcc0148","f709a5d0 3bb5c9b8 899c47ae bb6fb71e","91386409"],h:"1",z:"-4",g:[["000000c6 858e06b7 0404e9cd 9e3ecb66","2395b442 9c648139 053fb521 f828af60","6b4d3dba a14b5e77 efe75928 fe1dc127","a2ffa8de 3348b3c1 856a429b f97e7e31","c2e5bd66"],["00000118 39296a78 9a3bc004 5c8a5fb4","2c7d1bd9 98f54449 579b4468 17afbd17","273e662c 97ee7299 5ef42640 c550b901","3fad0761 353c7086 a272c240 88be9476","9fd16650"],e]})}},SECP256K1:class extends p{constructor(e){super({id:"SECP256K1",ossl:"secp256k1",type:"short",endian:"be",hash:"SHA256",prime:"k256",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe fffffc2f"],a:"0",b:"7",n:["ffffffff ffffffff ffffffff fffffffe","baaedce6 af48a03b bfd25e8c d0364141"],h:"1",z:"1",c:["0a2d2ba9 3507f1df 233770c2 a797962c","c61f6d15 da14ecd4 7d8d27ae 1cd5f852"],g:[["79be667e f9dcbbac 55a06295 ce870b07","029bfcdb 2dce28d9 59f2815b 16f81798"],["483ada77 26a3c465 5da4fbfc 0e1108a8","fd17b448 a6855419 9c47d08f fb10d4b8"],e],endo:{beta:["7ae96a2b 657c0710 6e64479e ac3434e9","9cf04975 12f58995 c1396c28 719501ee"],lambda:["5363ad4c c05c30e0 a5261c02 8812645a","122e22ea 20816678 df02967c 1b23bd72"],basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],pre:[384,["3086d221 a7d46bcd e86c90e4 9284eb15","3daa8a14 71e8ca7f e893209a 45dbb031"],["-","e4437ed6 010e8828 6f547fa9 0abfe4c4","221208ac 9df506c6 1571b4ae 8ac47f71"]]}})}},BRAINPOOLP256:class extends p{constructor(e){super({id:"BRAINPOOLP256",ossl:"brainpoolP256r1",type:"short",endian:"be",hash:"SHA256",prime:null,p:["a9fb57db a1eea9bc 3e660a90 9d838d72","6e3bf623 d5262028 2013481d 1f6e5377"],a:["7d5a0975 fc2c3057 eef67530 417affe7","fb8055c1 26dc5c6c e94a4b44 f330b5d9"],b:["26dc5c6c e94a4b44 f330b5d9 bbd77cbf","95841629 5cf7e1ce 6bccdc18 ff8c07b6"],n:["a9fb57db a1eea9bc 3e660a90 9d838d71","8c397aa3 b561a6f7 901e0e82 974856a7"],h:"1",z:"-2",g:[["8bd2aeb9 cb7e57cb 2c4b482f fc81b7af","b9de27e1 e3bd23c2 3a4453bd 9ace3262"],["547ef835 c3dac4fd 97f8461a 14611dc9","c2774513 2ded8e54 5c1d54c7 2f046997"],e]})}},BRAINPOOLP384:class extends p{constructor(e){super({id:"BRAINPOOLP384",ossl:"brainpoolP384r1",type:"short",endian:"be",hash:"SHA384",prime:null,p:["8cb91e82 a3386d28 0f5d6f7e 50e641df","152f7109 ed5456b4 12b1da19 7fb71123","acd3a729 901d1a71 87470013 3107ec53"],a:["7bc382c6 3d8c150c 3c72080a ce05afa0","c2bea28e 4fb22787 139165ef ba91f90f","8aa5814a 503ad4eb 04a8c7dd 22ce2826"],b:["04a8c7dd 22ce2826 8b39b554 16f0447c","2fb77de1 07dcd2a6 2e880ea5 3eeb62d5","7cb43902 95dbc994 3ab78696 fa504c11"],n:["8cb91e82 a3386d28 0f5d6f7e 50e641df","152f7109 ed5456b3 1f166e6c ac0425a7","cf3ab6af 6b7fc310 3b883202 e9046565"],h:"1",z:"-5",g:[["1d1c64f0 68cf45ff a2a63a81 b7c13f6b","8847a3e7 7ef14fe3 db7fcafe 0cbd10e8","e826e034 36d646aa ef87b2e2 47d4af1e"],["8abe1d75 20f9c2a4 5cb1eb8e 95cfd552","62b70b29 feec5864 e19c054f f9912928","0e464621 77918111 42820341 263c5315"],e]})}},BRAINPOOLP512:class extends p{constructor(e){super({id:"BRAINPOOLP512",ossl:"brainpoolP512r1",type:"short",endian:"be",hash:"SHA512",prime:null,p:["aadd9db8 dbe9c48b 3fd4e6ae 33c9fc07","cb308db3 b3c9d20e d6639cca 70330871","7d4d9b00 9bc66842 aecda12a e6a380e6","2881ff2f 2d82c685 28aa6056 583a48f3"],a:["7830a331 8b603b89 e2327145 ac234cc5","94cbdd8d 3df91610 a83441ca ea9863bc","2ded5d5a a8253aa1 0a2ef1c9 8b9ac8b5","7f1117a7 2bf2c7b9 e7c1ac4d 77fc94ca"],b:["3df91610 a83441ca ea9863bc 2ded5d5a","a8253aa1 0a2ef1c9 8b9ac8b5 7f1117a7","2bf2c7b9 e7c1ac4d 77fc94ca dc083e67","984050b7 5ebae5dd 2809bd63 8016f723"],n:["aadd9db8 dbe9c48b 3fd4e6ae 33c9fc07","cb308db3 b3c9d20e d6639cca 70330870","553e5c41 4ca92619 41866119 7fac1047","1db1d381 085ddadd b5879682 9ca90069"],h:"1",z:"7",g:[["81aee4bd d82ed964 5a21322e 9c4c6a93","85ed9f70 b5d916c1 b43b62ee f4d0098e","ff3b1f78 e2d0d48d 50d1687b 93b97d5f","7c6d5047 406a5e68 8b352209 bcb9f822"],["7dde385d 566332ec c0eabfa9 cf7822fd","f209f700 24a57b1a a000c55b 881f8111","b2dcde49 4a5f485e 5bca4bd8 8a2763ae","d1ca2b2f a8f05406 78cd1e0f 3ad80892"],e]})}},X25519:class extends b{constructor(){super({id:"X25519",ossl:"X25519",type:"mont",endian:"le",hash:"SHA512",prime:"p25519",p:["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffed"],a:"76d06",b:"1",n:["10000000 00000000 00000000 00000000","14def9de a2f79cd6 5812631a 5cf5d3ed"],h:"8",z:"2",g:[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000009"],["5f51e65e 475f794b 1fe122d3 88b72eb3","6dc2b281 92839e4d d6163a5d 81312c14"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"],["6be4f497 f9a9c2af c21fa77a d7f4a6ef","635a11c7 284a9363 e9a248ef 9c884415"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"],["141b0b68 06563d50 3de05885 280b5910","9ca5ee38 d7b56c9c 165db710 6377bbd8"]],[["57119fd0 dd4e22d8 868e1c58 c45c4404","5bef839c 55b1d0b1 248c50a3 bc959c5f"],["68c59389 3d458e64 31c6ca00 45fb5015","20a44346 8eaa68dd 0f103842 048065b7"]],[["57119fd0 dd4e22d8 868e1c58 c45c4404","5bef839c 55b1d0b1 248c50a3 bc959c5f"],["173a6c76 c2ba719b ce3935ff ba04afea","df5bbcb9 71559722 f0efc7bd fb7f9a36"]],[["00b8495f 16056286 fdb1329c eb8d09da","6ac49ff1 fae35616 aeb8413b 7c7aebe0"],["3931c129 569e83a5 29482c14 e628b457","933bfc29 ed801b4d 68871483 92507b1a"]],[["00b8495f 16056286 fdb1329c eb8d09da","6ac49ff1 fae35616 aeb8413b 7c7aebe0"],["46ce3ed6 a9617c5a d6b7d3eb 19d74ba8","6cc403d6 127fe4b2 9778eb7c 6daf84d3"]]]})}},X448:class extends b{constructor(){super({id:"X448",ossl:"X448",type:"mont",endian:"le",hash:"SHAKE256",prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"262a6",b:"1",n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000005"],["7d235d12 95f5b1f6 6c98ab6e 58326fce","cbae5d34 f55545d0 60f75dc2 8df3f6ed","b8027e23 46430d21 1312c4b1 50677af7","6fd7223d 457b5b1a"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["ba4d3a08 29b6112f 8812e51b a0bb2abe","bc1cb08e b48e5569 36ba50fd d2e7d68a","f8cb3216 0522425b 3f990812 abbe635a","d37a21e1 7551b193"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["45b2c5f7 d649eed0 77ed1ae4 5f44d541","43e34f71 4b71aa96 c945af01 2d182975","0734cde9 faddbda4 c066f7ed 54419ca5","2c85de1e 8aae4e6c"]]]})}},MONT448:class extends b{constructor(){super({id:"MONT448",ossl:null,type:"mont",endian:"le",hash:"SHAKE256",prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:["b2cf97d2 d43459a9 31ed36b1 fc4e3cb5","5d93f8d2 22746997 60ccffc6 49961ed6","c5b05fca c24864ed 6fb59697 931b78da","84ddecd8 ca2b5cfb"],b:"1",n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["ac0d24cc c6c75cb0 eb71f81e 7a6edf51","48e88aee 009a2a24 e795687e c28e125a","3e6730a6 0d46367b aa7fe99d 152128dc","41321bc7 7817f059"],["5a4437f6 80c0d0db 9b061276 d5d0ffcc","e786ff33 b6a53d30 98746425 82e66f09","4433dae7 7244a6e2 6b11e905 7228f483","556c41a5 913f55fe"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["bec92fd0 6da2acf2 b4e261e8 7cef0d34","22e75c18 3c589857 b71924e5 73c2f9ce","e18da5f2 466e2f39 3c2eedf0 f105a60a","b40c717d 4f1e1fd7"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["4136d02f 925d530d 4b1d9e17 8310f2cb","dd18a3e7 c3a767a8 48e6db19 8c3d0631","1e725a0d b991d0c6 c3d1120f 0efa59f5","4bf38e82 b0e1e028"]]]})}},ED25519:class extends k{constructor(e){super({id:"ED25519",ossl:"ED25519",type:"edwards",endian:"le",hash:"SHA512",prefix:"SigEd25519 no Ed25519 collisions",context:!1,prime:"p25519",p:["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffed"],a:"-1",d:["52036cee 2b6ffe73 8cc74079 7779e898","00700a4d 4141d8ab 75eb4dca 135978a3"],n:["10000000 00000000 00000000 00000000","14def9de a2f79cd6 5812631a 5cf5d3ed"],h:"8",z:"2",g:[["216936d3 cd6e53fe c0a4e231 fdd6dc5c","692cc760 9525a7b2 c9562d60 8f25d51a"],["66666666 66666666 66666666 66666666","66666666 66666666 66666666 66666658"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffec"]],[["2b832480 4fc1df0b 2b4d0099 3dfbd7a7","2f431806 ad2fe478 c4ee1b27 4a0ea0b0"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["547cdb7f b03e20f4 d4b2ff66 c2042858","d0bce7f9 52d01b87 3b11e4d8 b5f15f3d"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["1fd5b9a0 06394a28 e9339932 38de4abb","5c193c70 13e5e238 dea14646 c545d14a"],["05fc536d 880238b1 3933c6d3 05acdfd5","f098eff2 89f4c345 b027b2c2 8f95e826"]],[["602a465f f9c6b5d7 16cc66cd c721b544","a3e6c38f ec1a1dc7 215eb9b9 3aba2ea3"],["05fc536d 880238b1 3933c6d3 05acdfd5","f098eff2 89f4c345 b027b2c2 8f95e826"]],[["1fd5b9a0 06394a28 e9339932 38de4abb","5c193c70 13e5e238 dea14646 c545d14a"],["7a03ac92 77fdc74e c6cc392c fa53202a","0f67100d 760b3cba 4fd84d3d 706a17c7"]],[["602a465f f9c6b5d7 16cc66cd c721b544","a3e6c38f ec1a1dc7 215eb9b9 3aba2ea3"],["7a03ac92 77fdc74e c6cc392c fa53202a","0f67100d 760b3cba 4fd84d3d 706a17c7"]]]})}},ISO448:class extends k{constructor(e){super({id:"ISO448",ossl:null,type:"edwards",endian:"le",hash:"SHAKE256",prefix:"SigEd448",context:!0,prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"1",d:["d78b4bdc 7f0daf19 f24f38c2 9373a2cc","ad461572 42a50f37 809b1da3 412a12e7","9ccc9c81 264cfe9a d0809970 58fb61c4","243cc32d baa156b9"],n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["79a70b2b 70400553 ae7c9df4 16c792c6","1128751a c9296924 0c25a07d 728bdc93","e21f7787 ed697224 9de732f3 8496cd11","69871309 3e9c04fc"],["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 80000000","00000000 00000000 00000000 00000000","00000000 00000001"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]]]})}},ED448:class extends k{constructor(e){super({id:"ED448",ossl:"ED448",type:"edwards",endian:"le",hash:"SHAKE256",prefix:"SigEd448",context:!0,prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"1",d:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffff6756"],n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["4f1970c6 6bed0ded 221d15a6 22bf36da","9e146570 470f1767 ea6de324 a3d3a464","12ae1af7 2ab66511 433b80e1 8b00938e","2626a82b c70cc05e"],["693f4671 6eb6bc24 88762037 56c9c762","4bea7373 6ca39840 87789c1e 05a0c2d7","3ad3ff1c e67c39c4 fdbd132c 4ed7c8ad","9808795b f230fa14"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]]]})}}},N={__proto__:null,P192:null,P224:null,P256:null,P384:null,P521:null,SECP256K1:null,BRAINPOOLP256:null,BRAINPOOLP384:null,BRAINPOOLP512:null,X25519:null,X448:null,MONT448:null,ED25519:null,ISO448:null,ED448:null};function R(e,t,r){x(e instanceof s),x(!e.red),x(t>>>0===t),x(r>>>0===r);const n=new Array(r),i=e.bitLength()+1,a=1|e.sign();x(i<=r);for(let e=0;e<r;e++)n[e]=0;let o,c=0,u=0;for(;c<i;)e.bit(c)!==u?(o=e.bits(c,t)+u,u=o>>t-1&1,o-=u<<t,n[c]=a*o,c+=t):c+=1;return x(0===u),n}function P(e,t,r){const n=function(e,t,r){x(e instanceof s),x(t instanceof s),x(!e.red),x(!t.red),x(r>>>0===r);const n=[new Array(r),new Array(r)],i=Math.max(e.bitLength(),t.bitLength())+1,a=1|e.sign(),o=1|t.sign();x(i<=r);let c=0,u=0;for(let r=0;r<i;r++){const i=e.bits(r,3),s=t.bits(r,3);let l=(3&i)+c&3,f=(3&s)+u&3,d=0,h=0;if(3===l&&(l=-1),3===f&&(f=-1),1&l){const e=(7&i)+c&7;d=3!==e&&5!==e||2!==f?l:-l}if(1&f){const e=(7&s)+u&7;h=3!==e&&5!==e||2!==l?f:-f}n[0][r]=d*a,n[1][r]=h*o,2*c===1+d&&(c=1-c),2*u===1+h&&(u=1-u)}for(let e=i;e<r;e++)n[0][e]=0,n[1][e]=0;return n}(e,t,r),i=new Array(r);for(let e=0;e<r;e++){const t=n[0][e],r=n[1][e];i[e]=l[3*(t+1)+(r+1)]}return i}function x(e,t){if(!e){const e=new Error(t||"Assertion failed");throw Error.captureStackTrace&&Error.captureStackTrace(e,x),e}}function L(e){x("function"==typeof e);try{return e()}catch(e){if("X is not a square mod P."===e.message||"Not invertible."===e.message)throw new Error("Invalid point.");throw e}}function M(e){const t=function(e){x(e instanceof s),x(e.red);const t=e.red.m;if(t.cmpn(3)<=0)return e.clone();if(2===t.modrn(3)){const r=t.ushln(1).isubn(1).idivn(3);return e.redPow(r)}const r=t.modrn(9);if(4===r){const r=t.ushln(1).iaddn(1).idivn(9),n=e.redPow(r);if(!n.redSqr().redMul(n).eq(e))throw new Error("X is not a cube mod P.");return n}if(7===r){const r=t.addn(2).idivn(9),n=e.redPow(r);if(!n.redSqr().redMul(n).eq(e))throw new Error("X is not a cube mod P.");return n}throw new Error("Not implemented.")}(e);if(1===e.red.m.modrn(3)){const r=new s(2).toRed(e.red),n=new s(3).toRed(e.red),i=r.redInvert(),a=n.redNeg().redSqrt().redMul(i),o=a.redNeg(),c=a.redSub(i),u=o.redSub(i),l=t.redMul(c),f=t.redMul(u);return[t,l,f]}return[t]}function D(e){for(const t of M(e))if(t.redJacobi()>=0)return t;throw new Error("X^(1/3) is not a square mod P.")}function O(e){return s.randomBits(e,32).toNumber()}function U(e,t){const r=new WeakMap;return function(n,i){const s=1&i,a=r.get(n);if(a&&null!==a[s])return a[s];const o=e.call(t,n,i);return r.has(n)||r.set(n,[null,null]),r.get(n)[s]=o,o}}function K(e,t){x(e instanceof s),x(t>>>0===t),7&t&&(t+=8-(7&t));const r=e.toString(16,t),n=[],i=[];x(0==(7&r.length));for(let e=0;e<r.length;e+=8)n.push(r.slice(e,e+8));for(let e=0;e<n.length;e+=4)i.push(n.slice(e,e+4).join(" "));return i}t.Curve=d,t.Point=h,t.ShortCurve=p,t.ShortPoint=g,t.JPoint=m,t.MontCurve=b,t.MontPoint=y,t.XPoint=v,t.EdwardsCurve=k,t.EdwardsPoint=S,t.curves=B,t.curve=function(e,...t){x("string"==typeof e);const r=e.toUpperCase();let n=N[r];if(!n){const i=B[r];if(!i)throw new Error(`Curve not found: "${e}".`);n=new i(...t),N[r]=n}return n},t.register=function(e,t){x("string"==typeof e),x("function"==typeof t);const r=e.toUpperCase();if(B[r])throw new Error(`Curve already registered: "${e}".`);B[r]=t,N[r]=null}},92980:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(7494);function s(e,t,r){return i(e&&"string"==typeof e.id),null==t&&(t=n.alloc(0)),null==r&&(r=n.alloc(e.size,0)),e.mac(t,r)}function a(e,t,r,s){if(null==r&&(r=n.alloc(0)),i(e&&"string"==typeof e.id),i(n.isBuffer(t)),i(n.isBuffer(r)),i(s>>>0===s),t.length!==e.size)throw new RangeError("Invalid PRK length.");const a=Math.ceil(s/e.size);if(a>255)throw new RangeError("Invalid output length.");const o=n.alloc(a*e.size),c=n.from([0]),u=e.hmac();let l=n.alloc(0),f=0;for(let e=0;e<a;e++)c[0]+=1,u.init(t),u.update(l),u.update(r),u.update(c),l=u.final(),f+=l.copy(o,f);return o.slice(0,s)}t.native=0,t.extract=s,t.expand=a,t.derive=function(e,t,r,n,i){return a(e,s(e,t,r),n,i)}},61566:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(7494);class s{constructor(){this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.buffer=n.alloc(16),this.fin=-1,this.leftover=0}init(e){i(n.isBuffer(e)&&e.length>=32);const t=a(e,0),r=a(e,2),s=a(e,4),o=a(e,6),c=a(e,8),u=a(e,10),l=a(e,12),f=a(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|r<<3),this.r[2]=7939&(r>>>10|s<<6),this.r[3]=8191&(s>>>7|o<<9),this.r[4]=255&(o>>>4|c<<12),this.r[5]=c>>>1&8190,this.r[6]=8191&(c>>>14|u<<2),this.r[7]=8065&(u>>>11|l<<5),this.r[8]=8191&(l>>>8|f<<8),this.r[9]=f>>>5&127;for(let e=0;e<10;e++)this.h[e]=0;for(let t=0;t<8;t++)this.pad[t]=a(e,16+2*t);return this.fin=0,this.leftover=0,this}_blocks(e,t,r){const n=this.fin?0:2048,i=new Uint32Array(10);for(;t>=16;){const s=a(e,r+0),o=a(e,r+2),c=a(e,r+4),u=a(e,r+6),l=a(e,r+8),f=a(e,r+10),d=a(e,r+12),h=a(e,r+14);this.h[0]+=8191&s,this.h[1]+=8191&(s>>>13|o<<3),this.h[2]+=8191&(o>>>10|c<<6),this.h[3]+=8191&(c>>>7|u<<9),this.h[4]+=8191&(u>>>4|l<<12),this.h[5]+=l>>>1&8191,this.h[6]+=8191&(l>>>14|f<<2),this.h[7]+=8191&(f>>>11|d<<5),this.h[8]+=8191&(d>>>8|h<<8),this.h[9]+=h>>>5|n;let p=0;for(let e=0;e<10;e++){i[e]=p;for(let t=0;t<10;t++){let r=this.h[t];r*=t<=e?this.r[e-t]:5*this.r[e+10-t],i[e]+=r,4===t&&(p=i[e]>>>13,i[e]&=8191)}p+=i[e]>>>13,i[e]&=8191}p=(p<<2)+p,p+=i[0],i[0]=8191&p,p>>>=13,i[1]+=p;for(let e=0;e<10;e++)this.h[e]=i[e];r+=16,t-=16}}update(e){if(i(n.isBuffer(e)),-1===this.fin)throw new Error("Context is not initialized.");let t=e.length,r=0;if(this.leftover){let n=16-this.leftover;n>t&&(n=t);for(let t=0;t<n;t++)this.buffer[this.leftover+t]=e[r+t];if(t-=n,r+=n,this.leftover+=n,this.leftover<16)return this;this._blocks(this.buffer,16,0),this.leftover=0}if(t>=16){const n=-16&t;this._blocks(e,n,r),r+=n,t-=n}if(t){for(let n=0;n<t;n++)this.buffer[this.leftover+n]=e[r+n];this.leftover+=t}return this}final(){if(-1===this.fin)throw new Error("Context is not initialized.");const e=n.alloc(16),t=new Uint16Array(10);if(this.leftover){let e=this.leftover;for(this.buffer[e++]=1;e<16;e++)this.buffer[e]=0;this.fin=1,this._blocks(this.buffer,16,0)}let r=this.h[1]>>>13;this.h[1]&=8191;for(let e=2;e<10;e++)this.h[e]+=r,r=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,t[0]=this.h[0]+5,r=t[0]>>>13,t[0]&=8191;for(let e=1;e<10;e++)t[e]=this.h[e]+r,r=t[e]>>>13,t[e]&=8191;let i=(1^r)-1;for(let e=0;e<10;e++)t[e]&=i;i=~i;for(let e=0;e<10;e++)this.h[e]=this.h[e]&i|t[e];this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5);let s=this.h[0]+this.pad[0];this.h[0]=s;for(let e=1;e<8;e++)s=this.h[e]+this.pad[e]+(s>>>16),this.h[e]=s;for(let t=0;t<8;t++)o(e,this.h[t],2*t);return this.destroy(),e}destroy(){for(let e=0;e<10;e++)this.r[e]=0,this.h[e]=0;for(let e=0;e<8;e++)this.pad[e]=0;for(let e=0;e<16;e++)this.buffer[e]=0;this.fin=-1,this.leftover=0}verify(e){i(n.isBuffer(e)),i(16===e.length);const t=this.final();let r=0;for(let n=0;n<16;n++)r|=t[n]^e[n];return r-1>>>31!=0}}function a(e,t){return e[t++]+256*e[t]}function o(e,t,r){return e[r++]=t,e[r++]=t>>>8,r}s.native=0,e.exports=s},20145:e=>{"use strict";e.exports=JSON.parse('{"naf":{"width":9,"points":[["67ae9c4a22928f491ff4ae743edac83a6343981981624886ac62485fd3f8e25c","1267b1d177ee69aba126a18e60269ef79f16ec176724030402c3684878f5b4d4"],["49fda73eade3587bfcef7cf7d12da5de5c2819f93e1be1a591409cc0322ef233","5f4825b298feae6fe02c6e148992466631282eca89430b5d10d21f83d676c8ed"],["14568685fcf4bd4ee9e3ee194b1d810783e809f3bbf1ce955855981af50e4107","31c563e32b47d52f87ce6468dd36ad41f0882b46f7abf23d12c4c4b59f4062b8"],["357cc970c80071651bf336e06f9422b886d80e5c2e4e0294d3e023065185715c","7f3d23c2c2dd0df4b2befce956f2d2fd1f789013236e4430c74e44845522f1c0"],["14e528b1154be417b6cf078dd6712438d381a5b2c593d552ff2fd2c1207cf3cb","2d9082313f21ab975a6f7ce340ff0fce1258591c3c9c58d4308f2dc36a033713"],["107427e0d5f366ccdb33adf0282d304f8843e3e88d22b7b83780e073b7c05fed","12dbb00ded538b7478466022d2da89b83740cfb2289a272387efe1aeea401f80"],["4f162deaec2ec435dc5ac6f95d20419ed9631374770189cb90617f3e66a18dc1","12cbfb2d04ff22f55162f70164d29331ace5af18a19a9aa1946d4cc4ad2e5cdf"],["7dc52d5a7db816e9b850741ea2fd72918d94985b85a20b4dc5597853a876df6a","6f6d2bca60003ef9f24ac245cc919fb717b188723b34f901cd6cfe9bec97be04"],["1d81f74a5ba45c7022e8c140d763b9c1b0e281a5304696e74f791a3a04a94472","3f185a93d95a4347227c5bb6ddd65cf42e1830823f435f3083fe6102691d55b9"],["6f0ac78e5eb90e87958588f9d47541edf252cb1dde3d073cc45e3e7ef9365716","6628d116b7975ae5f323e5ddf4f8cc35ae06d5c5c7d8a56effc66051336d289e"],["2188ac423c67db5625915e05222a391bcaf91f05d9b7cc2cab5798b2d2e14d95","23240c559c57b79a4df69a23fc46e50504277b1fa49369ab663d79782b33c0ee"],["794241471ed9ceb009384b370cb8790fca98552ecb822dc06b19362c36353455","71e918c03cdfca7207772e8d18ee8f9d92d79a0a83f378912362bc68d311dcd0"],["163bc180c22dfc5da23c5c052107bba93a88b4360aa1d4e729611d8f5a7f8079","631107a6ba83f7458194b9766a0a54f638ca20daf800384dbae1498677501939"],["39a32a30f3eb1da0eb7e3903b8ace3da3890b24b61a3a9e79db663b5db0f7a5d","4d4c54675dc1f1c9a1af9ca0010045dc803c16af345823136dd203715d67c491"],["38085391a0e2831f59c33fcce7591515784d359925f11ff958e0e4658efac0e9","42918001a829f49b5634e34ab7fac21b30e24660669ed91955cc31944a19e62a"],["5e3573b049d6135ffbbbbd9a480617434f2455b4a591f719e91153eeb75a32a1","54bc665420c789da1105d53983c1a0fc33bcc2690cd9b37d6566e21a85892871"],["7ed068b25b82c05fdc0e46bd80a357f3acd2f5c3b9330bc8d474e5b28270f6eb","01da83a187da8ccca704d46557a462551d70df7f943a681c3b97b1db6a21b7d3"],["05ca3370e7516f6686111b72650aab4c5484407f14b515ade03951c6a14a0aa3","6f407fc537b95277966e7f0f5e64b86904bf7baee091cee6011a3611834c6903"],["624cb312b698bbd6dbca79b8d2b53cb5d8b3ab33c19306e87c18211f095ab9c3","5b3336b2751e97c793731ac9b9a2243b6229f6d0bbea6b619395d0e5200bd8a3"],["1ddf6ece608fe2901b34b7e4f47cfcb75e947e293c704d8121b11a31a051b5f9","5e2dc58e9a48a749ce5296d229cfb34f96a147a8246d2e9844d52b52112ea94e"],["396b384f3d61cfc060308fbb1c941ebc9418e2d9abd81316e08d625f48c0e101","7223e5f7b66d1ca24962bac273a7aa6618cc60cb8a64a8837e0261107e7ad644"],["53cc3dca3410277fb38d75e4ac0dde8e77a99c817170dbc9696cffe7890fbd50","2592a3aafce64d7c69f4de468d5d5aa19845f5ca08f64a0a40e37d23ececbbe1"],["34705fe600f5aed77b29d3eacdffcd45d886904156d43dc550bb7fc889cc1368","299153c141a8950ffbcc8e9352993e642fa39a476200dd4acf42e158dbe3b01e"],["5969255bd089181b991fce96b1792ba330a14f8a0b061f8118c9c336b8504618","680a805fa0ae93c2a12b193517fb1147d355547e4ab18a9d6ca21575bbb4d7a4"],["27d1d57fa8808d3d452df14bda4248b37902752163b1fd499a92456c59918ecb","0a42f1c0f4c5d7de9e82904f0b4ff63988d31fedb8aad9d8ae009c7a1dff09c3"],["0811d14bfdfdcf2144edd9cf55bce584a9ba17aec3eac8aaa82987ad703d9b8a","42bea70d46f3ee0df0ec77d24c5495ea56ada2e0415920470c4746b68306376e"],["4de090761b863cb0f0650297f154a8e66d00c5119c38e5dd05303d905d527a4a","5eef0efd105361ce198a30e09e7e7edffbe3d70189e63ca68cf6057b9772baa8"],["1d45517858ce45556aaee056ebab7e0ef3dc9ae3740aed570f3e76bfb4fc4817","0b5a9d8fe8b7ccb04c0a5ef77798a3ec6e1bc1138604eb05e83844f0d4c5c699"],["4285edbe9117f30aae1ef5ee419eb1d472106c6b3d7f3ce3701e39324b0eeafc","503aa6104a682bcf2c0a60c84f4c22b50b0caa0fed8db87dedc7173eae04bdbd"],["3ef830cbeff9b79039b1b6bd9bb52bbcfa56d008d91b9703ea1c80351f8687d6","62349ff5d8dbd216a874769eec152ef9734bea9240eed623992c7553dc8ee4c8"],["649a996e6d4d3b60ccb526939ed8929134107e03e2fd4648eaa2fa9830822c1a","1648311b942fe95d492a1ace5e5235c1aea860d036d2475cc8964cd1acedee9c"],["3a95596d97770d050d1ecc075d58a74f5fe6b4b8222740534ba22c8be73f9d56","15a80cdcc03317a830fa4a7461de6bac136993e0a797f83b405c161a34c98fd7"],["2d265d3fe1c88903ca93685209418deec5af886bf0d9fdb3f499d831cbb76ce1","08376fb0663d3aa220948612b519af4a6a1f956622b15a305fb2e60a84210b3c"],["642cb15498d8c6b25803f3e56b98e2ea185ac808cbeab5eb0a610ed5babb9385","21b5ca5020a9e5a2334c0bee15193ea16c909963ffa6e1d93df4b239abeaeb3e"],["38e576301ff6cdd0822a19c6d610d445d3967e2bada903abb6220f68c6e79bef","458fe689e31a24952d2817dda4349109c1b26ef31699fa36c4f8389eeb60eac0"],["372bec78d75011a0ef2233cd08790a7f15c1ec1e3a78cac8d6652678641780db","32e9e47cf2f48612ed3e2c2006ea0c0c8476d3562aa88cefb67ec97abdb538e8"],["1aa3756aabcc3eb65afee34e0a15dd67bfb9fb199eb131f4cc6a3ca9ec4d1c77","42333e27831add6eb49af80e17347c63c26dd684758096ee3dbdbe03a49159ae"],["38db16447d79d3590c4a36e20286beadfbae91a4eed2e5e7dd4f975ac0537dc5","1c48ccaed60ec12ce862ea71165bba7df1739845df2a857f4ef0a0f714f96daa"],["176b78984cddfddef90bae619c6a98e951d9a7ac7d6af218ae7e76b273212fb7","7b5b93eda77443f366e2a127abe12212aad8536767ec1c5861143f777db85852"],["042d154bf7b4a7bd73897ae528c6bc552ea58d74f8109e8e4052d3e9d38bb0f6","42d1831323e279f9f7ee9e3470ba20ca7edc3245eca5d8ffa182de120a71fc90"],["1f8d28dd4f286a8d0687b626b01204434bf5874a9550d6e375116490c154e108","1ce82e2360367e06f41757fd45239f9bc2c61609139446b09b55a9c43da98bb8"],["613eb914c015076e9ae8356bf508c289e50b1c87d9e2546f6e406362e248e5e5","3edbaafcd8c41ef4aa18b254137d201a2ef0ca4ca28807156bc949e920b97353"],["27bf43826bf0310b4b3e3a405eff790a1d77a8d48b04891246cff8e193cb03a9","16a24d749cc1d234fbe8af9cfd782c3aaa5869d6db0afa7b4d4c67037514f2ea"],["769a6a59746d7bead417bdd9c3b5f5ae1dbd924083ffd9e88df7714f57a675c2","22dc1267cfb2b41c590abb7dc3df45619af688d0421f2bdfb50748335ec5da25"],["795734ee4fcc24194219d25d41a2889cdb942f765848e9df63bff0b158c7224d","756420ab5c71127d39d2e79907634a177af0e483e08484ea4d7b76f7100669b5"],["644d12fc5e7fcac5aeb5911d8240971a99fc59fdd2903f46958e6896aefbcf46","173450789fcd40172e8124fea56f7aedad2ee13fa8fc5209cc8cb572175216dc"],["5deca767ef17b9e8d4f351f5c8ad1fcc50e97a2ed687516bf5210679fd6c1110","4ddf2207da12f700708089989da016f3307ce5721c9e27c952599d67898aa396"],["296dcb24cb3185d037a94bef93c97cacd09fc7050ba8472da59d4a689d9d2848","0b17dc85a4acf73833fab728f15abccac97cd09e57975bd996d3e1dd8b060f7b"],["408a3f1af2e77dfe94f8e225b40dfc146abb1002db7bcf15fde61c1a6cf1b93f","4f01ec38854c15a879e7c7924f048e2ec951dcdf04a614088b68fbcc0954e1c8"],["07d2d9234970cdc9483e0a7c5ec52c49077c440e0a993a1e624f90b8fafbbf07","6ac2190030c210ae3e07b9239f6ee7affba263866ee7831a564c511f703f2295"],["2982d553002082320aa899b9b6887e40dedf11868fa931689795d93d58452873","215e16ca447978624cad0ea6bf45aada4eca914425ee275db2a26e980dc349b6"],["1d8649515cb49e136d2895b6276569e5c711fe1a343eeb5a3daaa8d0e7b42d1a","5b21e2f2978f343a3e9ec3316cdc111af3b55f34afa5fc3fcbf6c26c1bb7fb6c"],["5460df4d607147939cdbc04dbdcbdffd37c5eafdd501b50a67213a23ee724a97","69dfc7004263ccb52487d34ab134b80bb3030273999739cb9cdc16d71b9abcd8"],["24623476f0af9f42ca15a0697ad23abeaf5ed9dc4d2b44f7e8175486598125bb","6aebe4a1a22d9e31194dcde6d33ff3af77dda15c22b2ecba9329849b8c042687"],["64e507a02bfd8a8413117bac253b17f94b2911681ebc07c92da0de6a651dd538","513ac992d72b463da110afb612fbae36590248a0507d845ee95fab2d1caa03a4"],["47f3bd11324f6bee230a22a5bb06a3ccddbc0473b810689efaeef894a654bf0e","7e05db9b3ff886bf32608dfc8d14eaa91e2e2ef230e7c75618060e4285c492be"],["4a6d22703a7045d02d656015ea2d168385d42963a739a895e4fd87b3e55c5e0f","4c58d7a8c6ded0451798e51f16ffa5b637a87aa5defb119ba868d8cccf61776d"],["3e22af70a548097244d7798964598172a90391f84c59b04cea7af283ba368eb5","689d8b7cda23b8dea197c5119fbbbd81dd4b59a36cc283dbe292b5b6519a2968"],["61a6ba2ca42d9d557b3a2ff0867c1b8bb8fc40192d31ff637431a302bc065a10","63d805f5a79f845ea2915a25cf0a8cab2e0255212a1bd3c8852b25579b63721d"],["03d963eeae48556e88305f91c478efcfd2168c346b9ba185884ec8621e8cb414","74b75cc839a944ad8c639719d20fd9d48d2099ef24c8633eabec7a9ec1e7e183"],["0f04da69e0202f7b44c58b103c88de09a0599951fedb17e7f2152d6b93a58ae9","1fbc1c9cd03c4cfd46e8e90019debf86e8036587eade038346f91070c800b8c4"],["797899e488353ed0c6666aff11913b33be0190833766e809b2a68cbc671a9cfe","5dd70a33ff94a84b3fe660f7070e6179e86b5c846689265bf985ce424b8909cc"],["735b64bb872606510e4e7d57833eb7ffdc4aa0dbaa242439806be68379f77cdd","384aaaee3ca7ba2436fcb65910859ca5ec30c10af11df7d777d287bc1a2bce2c"],["6f6ea532a62cf4766f55a0a72a86b55e73fe9d3328ee94bfc271e122f99dc1ac","61d8203ef6da5d0b584541c02331c7f58617cf8d4f26d11776236ce8b113ac10"],["5d99a2a3d4aed730b827b68ed836a9910dce4e7b93faf456981ad6cd85748773","7eeacf5680fb6108a8b7edb45f7134644111b08e17c236469685af5a79474b9e"],["31d0b4bb57bd7b69363c064a49bf3c3b9d7635bcc287e7b3059d3d99fd8382e8","1592e581034e13d47d02b8966f5359097e652391be8fb1e803f4219a22aba2c0"],["424cf5c498bbbe8fa7e5c3247049cc3f45946d0e5f38c44a36a6c84b60a84aa0","34acd712d334a2315dc8fd00c5c9b7c5c9f29bca27380a018882a5ab4a0fcb43"],["33a6ae0522936ba774837aa7959972f9804e3ef02ae84c8039be6595598be247","37022798cc08be9b4ded34c1c5062ab3a26081d375cadf517972fb48135a6602"],["5939635b72aeba595b5f6e376d11a3e07d4b1153ab4d0a7ab267b8bcc47cc3cb","382162eb33db2322cbe01a38fa4d13720b6d8edfaf8116a628725ef4293a6c27"],["3649e78d2ae9fb0ee86b691c27386efce4f3e383790e3cfee2bd59c2e85c4036","09b0d9e0dd82e697b9be9d61ce0d1410e281122b483125c48f7942b22f5d5be4"],["62c7585d1677b7619d8200175346ec99118416d8fdf0103730d165934e96a973","5fef7955ee07304429995433a468d68dec4ecf6b08bbe8cd06869080094044de"],["0c94537d311e17f5b0c58989b5be7e40c88b978a8c074a1e9bb07a713f77f6d3","6deaaa5001bcbbbe9ae436fe42f7042ce74fbf83c14058427fad4587ed33c4e2"],["6f5c6894a8d3877312e608c11809c15dffec3df551711095c8cfc810533e1b3e","74eadab9389b40d6ac6cc0d6e333d628ced60a9ef7617751c20630d23477af7b"],["4e16e88e171f9a07e11f97bba65c0fe5483501f255343afb3335ed47fbcee08f","41bcd7dd328871247cb7995bc6bd2e1961e94b0fb12e5fb2f264f9ad2cf47d4c"],["65d8484cef146e6c232fb262c2ac8200a52c63ccec26ff6f038aa5c74982c741","67283346bbae9391952b141e57ca8e3a36f0363d3b81b1c0f2b3c30a92c74235"],["1c588485b64be8cb99bf97f065e75a82138ea2e035ba90b63745354e9cf729f8","7c9a18d6ebf5465a197989cfb9b5b2a66a5402f46c4708ac04187c6b157a0d77"],["2c80c4ad0aebcafab7e9d2519a329f8a1c7df21cb6b1acec7403c0204d6dce71","7f8e62983160756e35356df95d44467e621c7274372997ca74a9fb760b4db36f"],["1e1e5fc87fa2c49e2c44d5718e3d73c73a91a64ac1374652080bd9004291b9c6","153828e90ed8d94c0f86e0eb54ccb31073cd29ed62c34cd9f2dbc5d98872e597"],["0ce0488a30ed446d445efb1bd21ba32ec3d05d538e6393bc0e58e0849ad57129","7278074ac66ac779136f4d6a334b27633645dea0fc98d137e3dbd4015d12b5a1"],["01a6b81f7285f293f19ba019b009aed8280ce285af42fab91e87fb0bbfa6dea4","60f910dc7c9a82e7836f36acfe7ec26b9babfa8bf26b2945b3c1a43b0c19b4dc"],["79b4ce3c6990023859646690c9ea800174902acfa1aad7ff34eca032dbde7150","53a1053d3fc6c749bf8a928854f392d09fa851ba963ca661bffbe74f012ba45b"],["220ee355b5c39c1901ed34c0f50f7778ad1bedcd7259ae167c16514ffe333498","05fd9374986e1e06035dbfada0117035b96b159354262f2b2695af1256d6aa2a"],["1e2f97d2cb4a19ca40403b364253da71f65d2d4665894267e3c6a9db8b4a3a18","22804fb035acb519210ff99ed7a974a725d896a77933789b4dd45a37dea3466d"],["35b8699fa20987876ac3b3086965b05f8cc809d71cab45e017c68ac96e24ed5b","155079de21981778dc438353bf2c6a65967a1a33ebb74c866fb42f4e3cce3e39"],["3cb40c55f5f19c52958e8c4ecd9c459b1d3268b3971b2286d3e58d1fc6b6a6bd","379e1f1f59df05c74485615b87441ba6203f0cdddc6873a883d4cc6dd1b75921"],["6ad916290e0d003ce5c961679f77704dcd768589d7cb728c60f56852031803bf","1e602b4a6725832a56944234f84c4f85f79911b55beef903549089925f2ccbea"],["7c0162492ae668160aa56a60e8bd43ec088555f750d2223cc37362dead5de123","34e60b446eae100d4c3abc6cb02e4ca559457fb5a9030a290a2568fa4cbf118f"],["354c25bf7b3e83dd0c5e1f39b82e3567edeb5337634056c1091cd6a016caacdf","7abb271ef121630f85a9a1049b3ad78d5b889f533b37a713b8801de46770fc3a"],["1e581a4bcf7504f33f4342b2097504d13f9b5a27f4790a6cdde1242209862850","2164d56564360fd2b5dba2f2c6ef1045ab448c3b60b2f2196c2f74625fc39e07"],["533b56f18283ee79b9a180b887c298961bd9aaa6fa3ef97fcb0d5688e694bc3d","6011366753812df2bce83634a92dbac18dd1cffdbf9a97fa1b1d5b49e0026764"],["4b508b94e6e2e6cd260a20664ea7d727ad20587b63ebe826032e0d20cdc6627b","1e8ecd6ff5aabae78172a0214d07a5013992d133af58afa74049de726df2a6c4"],["3398c0c0219f5ac87a8c73fcd17b89311d120a53f5231cb761030c194fed4265","025b234a1dc8662c068c4ba903939c2f79f3f7a3ae64e5edbf667b13599142d9"],["5941a17b04cd3465031cb6745cb94eed24e1ff8d38a6e832f1637ae8e89c78e6","5309792c546b6cda458be331957763b5adb5d535d54a4a61023678faa2ee02ee"],["2cb490d2c0047fcbaffe1df26640bee73c158af6fec91343d606ce9d124a20c9","2e2952ebf089200aebfa3947f241e2fe85797afebdc1ea06d9d26de1b446a964"],["79305236b583232a91c63c7d9ca3750be7ee21711e4d6d257c39ae398212bde1","6f9ecdfa953e302c2014fd8512405e4be0d48302acd15e93936e8dba7d01053b"],["57d9fcb884b94664f35387fa6665cd9bc8136f90d804d77416ea99c3c653ee63","14197e65f0a3599c0b9fcef75b5fbb93580d1b2457b59fb70ce7b9bac88d0fbc"],["6d99df2c28c9fa1e38acddefd3e0931109143d873f3330377a9926bdacdd6523","2f21987905f397f092fc56c5ccd301a1e6afa3c4611627e25017b2e68d07c150"],["749d19591f1755bd481fa12a288166aac42911654c8c551395b265116269ceb9","7ec145aa7558d0342cd87b1750933cb6f3717e727a86a1cc1f2b0c274213688d"],["340f7f5ae19292957902635a5786d14fa38036b324ae759da501e32b8c4073f1","64e231a413f1379a26f4e8223ff91fe2ccd865549571d3c6c28871964b40a0ea"],["4aa33e00bf6e92cac4e84384e5dde0727394233afd5d24d357a8afeb94b08109","3385bb4fbc441937ee01b671d506227a654fd6c1c532cf5221710c6c56ec7e21"],["34b2ffca05f01088de266306c5cc122661e9308eab16929774e58565afc0e4eb","7662faf0f70e82c062c2b835fc6da3353d3cb20b80611ffa6ef2982cf62fa605"],["820fcb51326f1536ddb8dc1052aa198406c7e48f2c81e7664d15f8f9d3715e","756574c23bb01170b97d9fa1663a8ff2f5b97eaa5cd53f34140c1bcec8c262d9"],["0861d7e84cec6d6e33641ff6c85202fc0e9160797809ddc2193802499caf05d3","34936e0a5dc7e2a6217d475fbb8c1c607fb8b3565908a04fd5948abdd399c59f"],["5b4a1dc887ef684d7b4b165b70acb70842a2fa105935af15ecb4a097e33b8f2b","54d21511c05805e5298a72372b8289e9d59c46dc8b5c368bbfda620b68aa652c"],["755493ed60b13f03f9c019362a5af73fb49842dd6916e2572b1b6a312cd20cfc","0750bcbf7e449cec422b93ace1489e1b177d4dbbaa781d315c74d54bb444e9a9"],["5f1c341065b6a81ed2edb6bc38ba81b4c2e3fe2058e5baa13e1406eb2c5b4b4b","6179ebfa7f8086f26820fc99ca2f94c1be19bca672d79cea5b02a836119e06ba"],["1915024ee86acfba3f61ced9707521197195166fb1c4639bf3b3fcf0bf0ded46","5f2e0547032221d2b00937cf524590e3d90901ef0286ea0b032c1a81461b6d92"],["4e942d95930f38c8786ff4a8e576e7a29fb7627afe1fff91cda5006ba0624f5d","45902f695d512d70ce4c1e0520c0060896b94e14d2960b2fcf2ed5e138e0217b"],["63e45f3d91ab915d412bbaa17d1d249e1a1445077fbfaa6be7d35041c5116a91","46dad5a4ec2ad0b86938f5e09f1c03b53b660fc5137648b08527cd20708003da"],["5e2ddd2175417f72c9962c503ac5adf94ed11f28b9d41fccb6a4512886f3cc87","3523b218478911145af1dc431feb7db0a04066eb6e2ade3c7b67d11bc55323aa"],["62ff30a6b179a26e7247a8312cb3af3289e5d722f76a29f203aa623889aa05ec","562beb7999019346beaa80dfd5b95d614e1ff96c1cb1037f65c44997b797d066"],["14988b5d62084fb8335c2f261cdeddc1b634b09cedfce713ff5f0a0bb588a556","447068731fb98e821b8e413b3b48f2d1c8bea308f05aac877006b0f4c3b0cab3"],["1ac777f708a5942cc434236920e82ccc6af920c0a0676712255aa7082b37a5b6","52a6f88d92af1887c781501c6e3a88169a2831b74aefd416f22b47e8335ce317"],["5959792833b71bd5042b78e42212af671f5f87a08eafd8cdde2dcec8140e4bb3","41ce94633eabb8a1b08fac66f762997ed8c9e2af3558e1f6586ad6a5bf5b7b64"],["4464a7962e6722b457336fe98c91765b1ff178f9e892e90129e65fa7688a0607","3d1510b92fd33c501f058a7a86bddedf1b83f9b6e4f04829d321117013f891fe"],["62906d81e7f800e662519f4324ab4c8aac197661c729eed3e744d09efe721c08","4b68efb5b1b709ab86e3253d70bee87ba07875c04a64ecf7e35cd8cdc6c0f7d8"],["4300ff025ac78ef36e58ee7d0d732cf76cd0929fe265b3a093a57f23fc326757","2f92880570846ff2e90d91f16bce3705c9c3ca8011cc543091463b623e4b3c01"],["5427ba28d94652527a9b0c76f57a451e46bdc06cbc8a2481df17f66ffb1524e3","547a97c4afc8d1f74a5d51f7e524f68472f589cc0b396b21368628721537d722"],["424c4493810bfd5e3ffa21776326d8ff62bf8fe74504d7a2db5d3f74e5ce1015","74d0daa832d40405d01551a58b330ffc5abd5356230d6d7cabeb5b1a55046f32"],["54e10980d81b4ae8778896684295fa5c5475e8d68ec2a26e1b0a65383507b3cd","6b1eb48da6886c4d88cea720e9dc8b0d8c51a8f0e1943afa31a40eeb553c0676"],["732eb9e9ebb556e9f024c5574166738f4707b0fd005f568212ab575c1db71ddb","1fc6b00c89e48114d6b13d9920a0c78093994f2b08df147bdbb56bead2cea165"],["74029c04b34b7f314855fee42a04d0ddfdeb92ef3bf7cff629928a97733d96fb","501f63a252dfbc090733b5a208bfe08f81c91419ce3d2d6c0de8cdc5a5625014"],["04524402ebb71a60bf1055001000203a6d4917f112e50dd766cdd7b718a6edd7","71c9e2d15cdc47c565a696ffbe55277570930ed7ade13b9a254059365d5bf338"],["2555c620a50f2bbeeacac66228a96941fa733aa6070855331613578ed7c12794","2b3c1bc5cda7f93242561dbf7572237ac43bf013553230633a5e18b7e71597e5"],["555ea607b0ad18afaf70d7450543d7ffb5b883a3cad3e2778826ca97bf3211a6","6df903158f51aa530d411720a760f8ad0ce9904d54955fda74a349be58eddf5f"],["4db3cfa284207a250a9c83e1fec07e804d70065da586ff2c2a7d2bcb92e6fca6","2a4fbf1c51dc0b2a7783db2be3bd35c2d6462470c88c8b73ae3ce8503fa07154"],["5174e33ffdf28a87184a4d6427d821cbaa3b88ac293a90ca7e1eeae8c5050b16","315ca6bc8e35e4a3d06f89e1db1575b16197963ee8e64746fa998ccd403561cc"]]},"doubles":{"step":4,"points":[["23a4860627e53aeeb8e22b1508249c9109578d33e7bf237459b2596d6c28f9f8","709696f2827fc3729f980f2e3aad6e78b06a11ff8e079c27d87aab37c16727eb"],["5e7e07ed4e1decbfe6e9cbc126905449d4b578fbb561576d20b8bcdd0cc2a556","0f55755c51f102796bf5ebaa81d3260e7d1b3d9ac127d9a80e142031566cf6c7"],["7d13c0248b891b47eb524f2692008e2f97b199bac426cb5902b9003a29ded6ea","59a976ab2c01a81a91f1a56c75ccc77a9e1e9e878e9fe9c3952080a6805b20d5"],["5de7faa2ee4e70132f541f79ca07cd54a39fe1347a6844d19e9d678a8411a565","2c9f23641e1c2e0aab8ea9926b432d92c0e8bc08901d6ff6df85e4cef854ec36"],["06b349eebfed4dad4a805b63a6ed2231a565cda752d9477ff427dd9a8c9ab5ed","07a09289ff3e1f9aab68aa374c48df65f550c2323607b97744dee990608b64f8"],["0af367956af630266b1cc760154256ed79da960dddca9d72a1e8cf27d8d43a77","21108d900134d3b3708dd28ace96b0b23dda9100e4b6a62a8131bd2f2ba408c5"],["1e45a60140a3b2dee9b8dc6ff307154a1b410bcd38e0e38fb10b2f6da1afbe2b","0e730da473dffd60d2f3241a85e68acb47d26e5043ad047d893f072c8dda0a76"],["4d1e116d136158c5ddabd4276832800f2c081c1072de6f2d931797a46abc0cbb","6d415be49d4e35b65cc51354b5008f8c43e84b7b5e8a4b84f44e1efb10c9b91a"],["2b6b892ae94b454b2c2d92bb947fc4d506d173d281779c2c153c001ded42d3d0","7f1cf64e0e180fc4d6e12c1b5c5285f376e979616a52c94a0dea4d48c5880cd2"],["0f6c3a96e0032a9394337a02ffb2c83ba70efb8f566feab530fc90fa3b4710e5","3d4e97e286378675038a4b58e84224ee515e1d6697ac79389f78479be167635a"],["52ee53b981dfbc41ddaa5ddc2754c4175f4811aa45f8e2b19a425657c238a83e","7eb0a1be3400dec87b388cad51613957643cdf0595b891cc6f925fb36da7f1c3"],["52a837bc7a7bc9459bcc2ecf80f74d9ed99def0342e18cfbe8e799fbc504fd52","50d6460185d8924e5485f23f36a98c86053514d163547adab6fe91478a411196"],["6b2bd5d00fab38ceca21a27d6aaec82626b14b555d859527718f8ca404eba4","727340c27a15f6ab3d80547f0827c56ab1ba33bc30d1ef3909ea9a3af10c67e5"],["71dd75fe35761c01a48597ec730bc33237902fd4ad8612cbed1031eebdf40de4","39674a4532078e34378667beae5cb55f814ead9bbaf7e01b3b69533e9f88a411"],["57426aefc21be9ccf162e23d25ac3002ba8534351e65613f870f690f2fd46cf5","6b45b002fb4e8a6f59a6ffb006ed71f75434217333b266325204c7d1ac2e1f34"],["6222bd88bf2df9d5d44b60cfb4a08a960078db7ed51a35eb3e0b6b8ff4eda202","0325bb42ea4ed025dd6bdaed261b7c4f5410b608ba902b068f1efa5782e45313"],["71ac99647b61b9eca6f0c23432a518f738aee708d5932d4ef0f172240250a226","3a96c2c028ebe5f48913be30147e41bc5e1cab9595d5404138a9aa1b5574cf25"],["1f6a1fd8cc0e05b2742ba0fc0369b5247670543637dd033e64dbce90b2f23e9f","779964401ee869a9b31c0ef874a86440ba85d25c2ce932bd31a0865869605e19"],["22e2c039067920c42980dcb3a905fc91601c2b34e819ce1532ada4a5fc39d5cc","631cf9945a09bf26d7e595b3f8e3390696870512820df63c5418577089e1a8bb"],["608de273a9f6a534219d7aaede3cf65a81e4dc03d7a2765eced1d2b7be4610f4","3b31d0113f98d81ab1312fb2837aa9c8dcc7960f84eb371358c6d841f67144fa"],["3f748617ca63ab3e44c6e34f63e7328ea56a2a146da34368a57dca181254fe02","0fed89e6420fc47b3938a2891ba9acee4cbb2899ee4e9ca15a13dc527dc1641e"],["69d98b5ecc35d56c97c0bf312955d199befe116b417d70f5f57e2dfd0af81ce5","3e26d487fbfe36ab44e0ca3b248fe94bce92a69b8154d50e2d5481f8259f4e8e"],["1e34443347f9e627b3531157faab6eaca1bc3114df4a1423cc12bf8417b5d622","295955a5ed061eca7f87b9485666ba9489ec20a9c484224dc920350bb4a6fc79"],["51f4ff8c599b1c96da82941520a9f5abf4a31eb8b84fc95056145ceb3b5775d0","35ac9588d46e41f3f6f99aee3852eeb4b12e807807d4bd1b7f8406b0d7863ac1"],["3faa2a093a19a02424f65a10955101f4dc015c43b2dfce8e001507abd741b845","7a1de10dacfda389ca663b15574bdc8ae8c5b6e7cee647e77b11ddbfc6eb8edc"],["1924416956ea2c1269062588569b18178011ea7cba1a3266284f48aa01d5a90f","0c8e28127b7dcdd206fb6fee96eb88cfc7db7319826ac8cdb8b1fb8adaf021de"],["49761c57ce3c8c4f1435d495903e2f536f3be3712e76af8d0b5a8b7d1ebc8fac","3225035e1065094ef32d7f3e7a6f8ff2748025f96e0c0b44eb35576b61e150a8"],["4339fa86a23242851a16afc3ab05b352a7b4bf53599a49dd7e29d364fc3a757b","6d07cc3462bae9160bbebb997510817040767faa9dbd13f158a5fe8a63a34b0e"],["6bda13918dcbaf8529d6326ae7a9c278b72417c2188c5ea4f062fc50639295fb","2c3fa803b162ee887d0d97a6734866f992f846625f314117075da54bb6c20a36"],["4da4821314574d4fed4dcf692c8b15b99b73f13633210333ce7871359b6e6424","314016034673d2d20529bc93a2dab6e462bcb5f66e1f4a6bf2170759a40a6e65"],["0b2cea0029ee963c0034b61bf19e384435f14554a7d297b5144838c38e375586","47ea95da28d39aaade5edb8ed941c687603cfdd1508776e96d6683199e99daea"],["4c27afff3c45f32c952d3984e14e29a098e685c9c2e723e5fc8047ae60b7e824","5f2c99e6526dc87d95f11eb626c29c3a90d0be1e51a4c49e5bbabd114bf5a66b"],["53e2a4ed1bbb48bd016c524a02f797654cfc969849f867681da94e341f377534","5a2334fdda642732a3c9520ce06581aa7f0f082882554c37b8d390a25a9bd559"],["7b8d2c823baafe0d878a55e8af1db150dec85b1424a4901f9beffd3a6196e3d6","1c45a557b3624f9b89ed15b3c3e1a065f1b453d948f7cf45d9494483f8af0c85"],["78877b5d8777410997dacaeea59400fc9db4421fac02c4282301c67d35fb7ffe","0341b46c328333e4484ce8607619014d41775c408c88856d2f9e19812d90fbf5"],["2b556bbc070b5c4bae9e575836d1d68ee9fbe800448c0d2c233f78185eed3f91","7ba01332807ebd892e00ddb368c0fa1b3f19b5b32efd90b178d984e1d7174d6f"],["0f72556998b0044799f0fd03210ded3d984e3843bbaf3c1d5d692bc94d43c4e7","16c19c5037c103d447caef4efe6bd81a490e7c668f6870f1b080863b5315df5e"],["1cd96ef237b213cd446f13b3ec40d32ecc593bc6ea71e77efc284341a5f3da1a","7a626aeb91efcb5f9777264f5e17ced8b411f68c713673ef0f184a5ccd60dbe3"],["31a75b21cb532622a7caf9e29e652ac4e47b1450edf6655acaf3797b55a7ca46","77006e7cf104982f8865081a2ff8a6911546755e31c3586353b0bd0826c5d790"],["543d84cb04fb2bf787b7aa382eaab5cd8d050ad8ee52aa8a285b945652014031","0358fdc5b63ed49e693d838f182b275846f42dd49a42ec2e6e932ba4de59ef20"],["0a2818f5f5d8937800c30ac6b847db2cdef655b864126302249144a5a15b205a","187c76a49af10851bb049ba97c0fbbb14b2621522a4e8d9670ea46e56c9a1bd6"],["7efb45d3a2851109d7a8d50ddb08fe308bbf674c019b965cdad4570a141e648a","0fe1198b11a1bf56867091c69d71f8b7792257dda321d43652e818acd0c28cda"],["472e960dd122a534f52377235350549df4a1dd7a08cfc580bff5fb4b0a70aa7b","10585d04fc529fef4c0c0776154fc7ebbaedbae8a99937e47598d0578932b7cc"],["04892cfff7f94ff7f07c1241e3ac4945bc46ea9d6a3c1c3adbce109a9afceb6a","3ae2aa25e2555135a7a3251c11a3f8eebe81758bc1c3e2cbc6e6ca461a543130"],["2401d311a3abfd2583f1c6aa519c1f18ff730a0abf730ddcc9c9739b04d8a85e","653224f3488cae1ae19a414a9932035a2bf2c46803b5532bbb645e62387ee34d"],["0ea2c846a535a115972161612a192588d92d68a3c9050eae91b2817b94e68325","3b82a8337b05f11bbac176a113be183a50a0331f3d3116f24b971b5a8b0d031b"],["0fb3f87c2c6c89c65b74299b77f3736546a8b9e41b19197476bff27354e1c128","1034d42c15a2bfe3e682fad49dbc2812caadf0c584bc30b51625b85d74e9d5f7"],["1bc7af1e38185e7c2d8d04371c7e177d7a9ddee1b81d7d26db7ad644c7dad28d","61d909d855661f2f7a5eef87795dc0491d027e12631b270fcaf2f65900314833"],["469d0960dbd0ef9c91c4597ccf7c209549b187ff63bd378b7dac577198d74a4d","0b5f21c7f86832241f2157c288bdc9394f83f8d57457f6d9f6b345e4909478cb"],["5e9ac4ab2f4a3c3526e1317f913d69e3826fe862efd0c80d9310319170c5cbeb","505f00fa8aee03ccbd2f33529ae1e4e4bcf2644fe673d0b0290ec32be5b51bab"],["11cd80e1fdcbc565efed81d17f3f54643ffeed1cff38f3825e115adbd82759f1","43f11943f7ef3fa68b980fee45e98134f1df22263b2d14419d61ffe62822dbe0"],["3328bc121616a9477165ed282053d203c24f4826076c638a2c6723d42c9bfadb","2bbf3f26c21b5cb273e5f4f0114c6718c5eb7291939b7697c74333cdfafac039"],["0ba774bb605dd804cae6887e81f6bd2c59e024fac8bf5f5c48a841a037c28398","54ba013ad2d04dcdfb5a151b7347ee9a10067ddd0a3907e9bc337a77bf911321"],["1074ff0267662dc2b4ce65aaa0229c375a3d0d843ce9349233949581c869b64c","299be0decb680ec28923da4d049770107d42c180b460da13a7b1efc7e6d5b022"],["25ed76d78c87c3bd64b4331902c5a853734283e25f19f320295667b80a340d35","179b5f92f545c7b326b3a63fb0b32a0f52b4159988436d5af50c1d0d76373947"],["75d942c04210dcde5d1bd4fabfc732d3f95568e399382c0423c83c41cb05dc3f","696cc14856cdc13c8fd7e2c5771731cbf38e3fad47a424679765c4874e35ab2d"],["5d9324f56975477d5945599eeeccec67708c996cd3f3f2818bf2591507e3502a","10985a3cfd573205281aec24e2c8b41f5cd8cdfc9d7be34675cf306bbe1b4f6a"],["7511066c0e12105a7b937c7ecef367d5afe6e621e5cabf4e490b09b7ada7ee07","604df365b8391cbca8848f88daa700b770da5bb136f70bfb0a3ea33ba386fcd5"],["2596e5b3cf5494e60d2a750d03c66abc2e0183af53620b893f9cf9fc3b76dc26","68a0a7ac9a0cc093884a6b84f45a2cde595194e0f48dbd566fa78a3174b182fe"],["28bd38d44030dd9ca028b2a2f31a795f4c7a5e85a785df7847e3d525e99d4787","552dd7405c4183733ad3c4e7ccb999b4fed81b7a4444aab499d41d6d78d5bbfc"],["59233a3346f61135f431f96cf0197e24ad38240b222c010a6ce538cf4c24347b","3cce55908611d2b93f221613f09cfc4dbcd2e2b609233eea5439ad1908a10b20"],["5830f025f1078d408948f73096af97de1e9e70b3be85890acb21132c34ff961f","67d451752c2433ffe66e47242e301e56db2b2f8203553cab9de717e25793d41e"],["6a0c8b194571e874b82d904da36d43096bbe36d512e24ff8dcb2b00b57ffd3ec","5f85adb7749cc735ec838bcccfe7d4b52902c6132998d7ac8e032cad031c42b8"],["53b3f967bff8760948dec5e9282f35d1434a5503790b9012e17faefbe7c4d699","404462283c8664a17daa5b4059dcd10e2699fd86d0140de9f3e8ad0566098ae5"]]}}')},71845:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(7494),s=window.crypto||window.msCrypto,a=s&&"function"==typeof s.getRandomValues,o=a?s.getRandomValues.bind(s):null,c=new Uint32Array(16),u=65536;let l=0;function f(){return 0==(15&l)&&(d(c),l=0),c[l++]}function d(e){if(!a)throw new Error("Entropy source not available.");return o(e)}function h(e,t,r){if(i(n.isBuffer(e)),i(e.buffer instanceof ArrayBuffer),i(e.byteOffset>>>0===e.byteOffset),i(e.byteLength>>>0===e.byteLength),i(t>>>0===t),i(r>>>0===r),i(t+r<=e.byteLength),r>2**31-1)throw new RangeError('The value "size" is out of range.');const s=e.byteOffset+t,a=new Uint8Array(e.buffer,s,r);if(a.length>u)for(let e=0;e<a.length;e+=u){let t=e+u;t>a.length&&(t=a.length),d(a.subarray(e,t))}else a.length>0&&d(a)}t.native=0,t.randomBytes=function(e){i(e>>>0===e);const t=n.alloc(e);return h(t,0,e),t},t.randomFill=function(e,t,r){return i(n.isBuffer(e)),null==t&&(t=0),i(t>>>0===t),null==r&&(r=e.length-t),i(r>>>0===r),i(t+r<=e.length),h(e,t,r),e},t.randomInt=f,t.randomRange=function(e,t){i(e>>>0===e),i(t>>>0===t),i(t>=e);const r=t-e;if(0===r)return e;const n=-r>>>0;let s,a;do{s=f(),a=s%r}while(s-a>n);return a+e}},27918:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(7494),s=r(53556),a=n.alloc(8,0),o=n.alloc(64,0);o[0]=128;const c=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);class u{constructor(){this.state=new Uint32Array(8),this.msg=new Uint32Array(64),this.block=n.alloc(64),this.size=-1}init(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.size=0,this}update(e){return i(n.isBuffer(e)),this._update(e,e.length),this}final(){return this._final(n.alloc(32))}_update(e,t){i(-1!==this.size,"Context is not initialized.");let r=63&this.size,n=0;if(this.size+=t,r>0){let i=64-r;if(i>t&&(i=t),e.copy(this.block,r,n,n+i),r+=i,t-=i,n+=i,r<64)return;this._transform(this.block,0)}for(;t>=64;)this._transform(e,n),n+=64,t-=64;t>0&&e.copy(this.block,0,n,n+t)}_final(e){i(-1!==this.size,"Context is not initialized.");const t=63&this.size,r=8*this.size;g(a,r*(1/4294967296)>>>0,0),g(a,r>>>0,4),this._update(o,1+(119-t&63)),this._update(a,8);for(let t=0;t<8;t++)g(e,this.state[t],4*t),this.state[t]=0;for(let e=0;e<64;e++)this.msg[e]=0;for(let e=0;e<64;e++)this.block[e]=0;return this.size=-1,e}_transform(e,t){const r=this.msg;let n=this.state[0],i=this.state[1],s=this.state[2],a=this.state[3],o=this.state[4],u=this.state[5],g=this.state[6],m=this.state[7],b=0;for(;b<16;b++)r[b]=(v=t+4*b,16777216*(y=e)[v++]+65536*y[v++]+256*y[v++]+y[v]);for(var y,v,k;b<64;b++)r[b]=(((k=r[b-2])>>>17|k<<15)^(k>>>19|k<<13)^k>>>10)+r[b-7]+d(r[b-15])+r[b-16];for(b=0;b<64;b++){const e=m+f(o)+h(o,u,g)+c[b]+r[b],t=l(n)+p(n,i,s);m=g,g=u,u=o,o=a+e>>>0,a=s,s=i,i=n,n=e+t>>>0}this.state[0]+=n,this.state[1]+=i,this.state[2]+=s,this.state[3]+=a,this.state[4]+=o,this.state[5]+=u,this.state[6]+=g,this.state[7]+=m}static hash(){return new u}static hmac(){return new s(u,64)}static digest(e){return u.ctx.init().update(e).final()}static root(e,t){return i(n.isBuffer(e)&&32===e.length),i(n.isBuffer(t)&&32===t.length),u.ctx.init().update(e).update(t).final()}static multi(e,t,r){const{ctx:n}=u;return n.init(),n.update(e),n.update(t),r&&n.update(r),n.final()}static mac(e,t){return u.hmac().init(t).update(e).final()}}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function h(e,t,r){return r^e&(t^r)}function p(e,t,r){return e&t|r&(e|t)}function g(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r}u.native=0,u.id="SHA256",u.size=32,u.bits=256,u.blockSize=64,u.zero=n.alloc(32,0),u.ctx=new u,e.exports=u},13528:(e,t,r)=>{"use strict";const n=r(476),i=r(20145);e.exports=new n("X25519","ED25519",i)},48632:(e,t,r)=>{"use strict";e.exports=r(71845)},12386:(e,t,r)=>{"use strict";const n=r(25138),i={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{n.validate(e.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};e.exports=i},45062:(e,t,r)=>{"use strict";const n=r(25138),i=r(5052),s=r(85805),a=r(12386),o=r(17438),c=r(60128),u=r(9394),l=s.nameToCode,f=Object.keys(l).reduce(((e,t)=>(e[l[t]]=t,e)),{}),d=Symbol.for("@ipld/js-cid/CID");class h{constructor(e,t,r,a){if(this.version,this.codec,this.multihash,Object.defineProperty(this,d,{value:!0}),h.isCID(e)){const t=e;return this.version=t.version,this.codec=t.codec,this.multihash=t.multihash,void(this.multibaseName=t.multibaseName||(0===t.version?"base58btc":"base32"))}if("string"==typeof e){const t=i.isEncoded(e);if(t){const r=i.decode(e);this.version=parseInt(r[0].toString(),16),this.codec=s.getCodec(r.slice(1)),this.multihash=s.rmPrefix(r.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=n.fromB58String(e),this.multibaseName="base58btc";return h.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(e instanceof Uint8Array){const t=parseInt(e[0].toString(),16);if(1===t){const r=e;this.version=t,this.codec=s.getCodec(r.slice(1)),this.multihash=s.rmPrefix(r.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";h.validateCID(this)}else this.version=e,"number"==typeof t&&(t=f[t]),this.codec=t,this.multihash=r,this.multibaseName=a||(0===e?"base58btc":"base32"),h.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");{const t=s.getCodeVarint(this.codec);e=o([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=s.getCodeVarint(this.codec),t=n.prefix(this.multihash);return o([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return l[this.codec]}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=n.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new h(0,this.codec,this.multihash)}toV1(){return new h(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&0!==this.string.length&&e===this.multibaseName)return this.string;let t;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=n.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=c(i.encode(e,this.bytes))}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&u(this.multihash,e.multihash)}static validateCID(e){const t=a.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof h||Boolean(e&&e[d])}}h.codecs=l,e.exports=h},66539:(e,t,r)=>{var n=r(34155);t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=!1);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(66754)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},66754:(e,t,r)=>{e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function a(...e){if(!a.enabled)return;const t=a,i=Number(new Date),s=i-(r||i);t.diff=s,t.prev=r,t.curr=i,r=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return r;o++;const s=n.formatters[i];if("function"==typeof s){const n=e[o];r=s.call(t,n),e.splice(o,1),o--}return r})),n.formatArgs.call(t,e);(t.log||n.log).apply(t,e)}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=i,a.extend=s,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function i(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(a),...n.skips.map(a).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(57824),Object.keys(e).forEach((t=>{n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},64139:(e,t,r)=>{"use strict";const n=r(71363),i={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{n.validate(e.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};e.exports=i},91234:(e,t,r)=>{"use strict";const n=r(71363),i=r(92552),s=r(25663),a=r(17555),o=r(64139),c=r(98514),u=r(96360),l=r(67222),f=r(99726),d=Object.keys(a).reduce(((e,t)=>(e[a[t]]=t,e)),{});class h{constructor(e,t,r,a){if(p.isCID(e)){const t=e;return this.version=t.version,this.codec=t.codec,this.multihash=t.multihash,void(this.multibaseName=t.multibaseName||(0===t.version?"base58btc":"base32"))}if("string"==typeof e){const t=i.isEncoded(e);if(t){const r=i.decode(e);this.version=parseInt(r.slice(0,1).toString("hex"),16),this.codec=s.getCodec(r.slice(1)),this.multihash=s.rmPrefix(r.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=n.fromB58String(e),this.multibaseName="base58btc";return h.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(e instanceof Uint8Array){const t=e.slice(0,1),r=parseInt(t.toString("hex"),16);if(1===r){const t=e;this.version=r,this.codec=s.getCodec(t.slice(1)),this.multihash=s.rmPrefix(t.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";h.validateCID(this)}else this.version=e,"number"==typeof t&&(t=d[t]),this.codec=t,this.multihash=r,this.multibaseName=a||(0===e?"base58btc":"base32"),h.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");{const t=s.getCodeVarint(this.codec);e=u([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=s.getCodeVarint(this.codec),t=n.prefix(this.multihash);return u([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return a[this.codec]}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=n.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new p(0,this.codec,this.multihash)}toV1(){return new p(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&e===this.multibaseName)return this.string;let t=null;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=n.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=l(i.encode(e,this.bytes))}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&f(this.multihash,e.multihash)}static validateCID(e){const t=o.checkCIDComponents(e);if(t)throw new Error(t)}}const p=c(h,{className:"CID",symbolName:"@ipld/js-cid/CID"});p.codecs=a,e.exports=p},79881:(e,t,r)=>{"use strict";const{encodeText:n}=r(64585);e.exports=class{constructor(e,t,r,i){this.name=e,this.code=t,this.codeBuf=n(this.code),this.alphabet=i,this.engine=r(i)}encode(e){return this.engine.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.engine.decode(e)}}},38396:(e,t,r)=>{"use strict";const n=r(58162),i=r(79881),s=r(25038),{decodeText:a,encodeText:o}=r(64585),c=[["identity","\0",()=>({encode:a,decode:o}),""],["base2","0",s(1),"01"],["base8","7",s(3),"01234567"],["base10","9",n,"0123456789"],["base16","f",s(4),"0123456789abcdef"],["base16upper","F",s(4),"0123456789ABCDEF"],["base32hex","v",s(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",s(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",s(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",s(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",s(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",n,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",n,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",n,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",n,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new i(t[0],t[1],t[2],t[3]),e)),{}),l=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});e.exports={names:u,codes:l}},92552:(e,t,r)=>{"use strict";const n=r(38396),{encodeText:i,decodeText:s,concat:a}=r(64585);function o(e){if(n.names[e])return n.names[e];if(n.codes[e])return n.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:r,codeBuf:n}=o(e);return function(e,t){o(e).decode(s(t))}(r,t),a([n,t],n.length+t.length)}).encode=function(e,t){const r=o(e),n=i(r.encode(t));return a([r.codeBuf,n],r.codeBuf.length+n.length)},t.decode=function(e){e instanceof Uint8Array&&(e=s(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),o(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=s(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return o(e[0]).name}catch(e){return!1}},t.encoding=o,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=s(e)),o(e[0])},t.names=Object.freeze(n.names),t.codes=Object.freeze(n.codes)},25038:e=>{"use strict";e.exports=e=>t=>({encode:r=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s})(r,t,e),decode:r=>((e,t,r)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*r/8|0);let a=0,o=0,c=0;for(let t=0;t<i;++t){const i=n[e[t]];if(void 0===i)throw new SyntaxError("Invalid character "+e[t]);o=o<<r|i,a+=r,a>=8&&(a-=8,s[c++]=255&o>>a)}if(a>=r||255&o<<8-a)throw new SyntaxError("Unexpected end of data");return s})(r,t,e)})},64585:(e,t,r)=>{"use strict";const{TextEncoder:n,TextDecoder:i}=r(62307),s=new i,a=new n;e.exports={decodeText:e=>s.decode(e),encodeText:e=>a.encode(e),concat:function(e,t){const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}}},53287:e=>{"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}},89375:(e,t,r)=>{"use strict";const{names:n}=r(38396),{TextEncoder:i}=r(62307),s=new i;e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return s.encode(e);const r=n[t];if(!r)throw new Error("Unknown base");return r.decode(e)}},1567:(e,t,r)=>{"use strict";const{names:n}=r(38396),{TextDecoder:i}=r(62307),s=new i("utf8");e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return s.decode(e);const r=n[t];if(!r)throw new Error("Unknown base");return r.encode(e)}},17555:e=>{"use strict";e.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"blake3":30,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,"x11":4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},58686:(e,t,r)=>{"use strict";const n=r(17555),i={};for(const[e,t]of Object.entries(n))i[e.toUpperCase().replace(/-/g,"_")]=t;e.exports=Object.freeze(i)},25663:(e,t,r)=>{"use strict";const n=r(94676),i=r(69771),s=r(76535),a=r(15338),o=r(53287);(t=e.exports).addPrefix=(e,t)=>{let r;if(e instanceof Uint8Array)r=a.varintUint8ArrayEncode(e);else{if(!s[e])throw new Error("multicodec not recognized");r=s[e]}return o([r,t],r.length+t.length)},t.rmPrefix=e=>(n.decode(e),e.slice(n.decode.bytes)),t.getCodec=e=>{const t=n.decode(e),r=i.get(t);if(void 0===r)throw new Error(`Code ${t} not found`);return r},t.getName=e=>i.get(e),t.getNumber=e=>{const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return n.decode(t)},t.getCode=e=>n.decode(e),t.getCodeVarint=e=>{const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},t.getVarint=e=>n.encode(e);const c=r(58686);Object.assign(t,c),t.print=r(97367)},69771:(e,t,r)=>{"use strict";const n=r(17555),i=new Map;for(const e in n){const t=n[e];i.set(t,e)}e.exports=Object.freeze(i)},97367:(e,t,r)=>{"use strict";const n=r(17555),i={};for(const[e,t]of Object.entries(n))void 0===i[t]&&(i[t]=e);e.exports=Object.freeze(i)},15338:(e,t,r)=>{"use strict";const n=r(94676),i=r(1567),s=r(89375);function a(e){return parseInt(i(e,"base16"),16)}e.exports={numberToUint8Array:function(e){let t=e.toString(16);t.length%2==1&&(t="0"+t);return s(t,"base16")},uint8ArrayToNumber:a,varintUint8ArrayEncode:function(e){return Uint8Array.from(n.encode(a(e)))},varintEncode:function(e){return Uint8Array.from(n.encode(e))}}},76535:(e,t,r)=>{"use strict";const n=r(17555),i=r(15338).varintEncode,s={};for(const e in n){const t=n[e];s[e]=i(t)}e.exports=Object.freeze(s)},78018:e=>{"use strict";const t=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:t}},71363:(e,t,r)=>{"use strict";const n=r(92552),i=r(94676),{names:s}=r(78018),a=r(67222),o=r(69911),c=r(96360),u={};for(const e in s)u[s[e]]=e;function l(e){t.decode(e)}t.names=s,t.codes=Object.freeze(u),t.toHexString=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(e,"base16")},t.fromHexString=function(e){return o(e,"base16")},t.toB58String=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(n.encode("base58btc",e)).slice(1)},t.fromB58String=function(e){const t=e instanceof Uint8Array?a(e):e;return n.decode("z"+t)},t.decode=function(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const r=i.decode(e);if(!t.isValidCode(r))throw new Error(`multihash unknown function code: 0x${r.toString(16)}`);e=e.slice(i.decode.bytes);const n=i.decode(e);if(n<0)throw new Error(`multihash invalid length: ${n}`);if((e=e.slice(i.decode.bytes)).length!==n)throw new Error(`multihash length inconsistent: 0x${a(e,"base16")}`);return{code:r,name:u[r],length:n,digest:e}},t.encode=function(e,r,n){if(!e||void 0===r)throw new Error("multihash encode requires at least two args: digest, code");const s=t.coerceCode(r);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==n&&(n=e.length),n&&e.length!==n)throw new Error("digest length should be equal to specified length.");const a=i.encode(s),o=i.encode(n);return c([a,o,e],a.length+o.length+e.length)},t.coerceCode=function(e){let r=e;if("string"==typeof e){if(void 0===s[e])throw new Error(`Unrecognized hash function named: ${e}`);r=s[e]}if("number"!=typeof r)throw new Error(`Hash function code should be a number. Got: ${r}`);if(void 0===u[r]&&!t.isAppCode(r))throw new Error(`Unrecognized function code: ${r}`);return r},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!u[e]},t.validate=l,t.prefix=function(e){return l(e),e.subarray(0,2)}},96360:e=>{"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}},99726:e=>{"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}},69911:(e,t,r)=>{"use strict";const{names:n}=r(38396),{TextEncoder:i}=r(62307),s=new i;e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return s.encode(e);if("ascii"===t)return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e);const r=n[t];if(!r)throw new Error("Unknown base");return r.decode(e)}},67222:(e,t,r)=>{"use strict";const{names:n}=r(38396),{TextDecoder:i}=r(62307),s=new i("utf8");e.exports=function(e,t="utf8"){if("utf8"===t||"utf-8"===t)return s.decode(e);if("ascii"===t)return function(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}(e);const r=n[t];if(!r)throw new Error("Unknown base");return r.encode(e)}},62307:(e,t,r)=>{"use strict";t.TextEncoder="undefined"!=typeof TextEncoder?TextEncoder:r(89539).TextEncoder,t.TextDecoder="undefined"!=typeof TextDecoder?TextDecoder:r(89539).TextDecoder},82396:(e,t,r)=>{"use strict";const n=r(63097),i=r(223),s=r(94676),a=r(96360),o=r(67222);function c(e){const t=[],r=e.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){const s=r[n],a=i(s);if(0!==a.size){if(n++,n>=r.length)throw v("invalid address: "+e);if(a.path){t.push([s,y(r.slice(n).join("/"))]);break}t.push([s,r[n]])}else t.push([s])}return t}function u(e){const t=[];return e.map((e=>{const r=k(e);t.push(r.name),e.length>1&&t.push(e[1])})),y(t.join("/"))}function l(e){return e.map((e=>{Array.isArray(e)||(e=[e]);const t=k(e);return e.length>1?[t.code,n.toBytes(t.code,e[1])]:[t.code]}))}function f(e){return e.map((e=>{const t=k(e);return e.length>1?[t.code,n.toString(t.code,e[1])]:[t.code]}))}function d(e){return m(a(e.map((e=>{const t=k(e);let r=Uint8Array.from(s.encode(t.code));return e.length>1&&(r=a([r,e[1]])),r}))))}function h(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;return s.decode(t)+s.decode.bytes}function p(e){const t=[];let r=0;for(;r<e.length;){const n=s.decode(e,r),a=s.decode.bytes,c=h(i(n),e.slice(r+a));if(0===c){t.push([n]),r+=a;continue}const u=e.slice(r+a,r+a+c);if(r+=c+a,r>e.length)throw v("Invalid address Uint8Array: "+o(e,"base16"));t.push([n,u])}return t}function g(e){return d(l(c(e=y(e))))}function m(e){const t=b(e);if(t)throw t;return Uint8Array.from(e)}function b(e){try{p(e)}catch(e){return e}}function y(e){return"/"+e.trim().split("/").filter((e=>e)).join("/")}function v(e){return new Error("Error parsing address: "+e)}function k(e){return i(e[0])}e.exports={stringToStringTuples:c,stringTuplesToString:u,tuplesToStringTuples:f,stringTuplesToTuples:l,bytesToTuples:p,tuplesToBytes:d,bytesToString:function(e){const t=p(e);return u(f(t))},stringToBytes:g,fromString:function(e){return g(e)},fromBytes:m,validateBytes:b,isValidBytes:function(e){return void 0===b(e)},cleanPath:y,ParseError:v,protoFromTuple:k,sizeForAddr:h}},63097:(e,t,r)=>{"use strict";const n=r(57918),i=r(223),s=r(91234),a=r(92552),o=r(94676),c=r(67222),u=r(69911),l=r(96360);function f(e,t){return t instanceof Uint8Array?f.toString(e,t):f.toBytes(e,t)}function d(e){if(!n.isIP(e))throw new Error("invalid ip address");return n.toBytes(e)}function h(e){const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function p(e){return new DataView(e.buffer).getUint16(0)}function g(e){const t=e.slice(0,e.length-2),r=e.slice(e.length-2);return c(t,"base32")+":"+p(r)}e.exports=f,f.toString=function(e,t){switch((e=i(e)).code){case 4:case 41:return function(e){const t=n.toString(e);if(!t||!n.isIP(t))throw new Error("invalid ip address");return t}(t);case 6:case 273:case 33:case 132:return p(t);case 53:case 54:case 55:case 56:case 400:case 777:return function(e){const t=o.decode(e);if((e=e.slice(o.decode.bytes)).length!==t)throw new Error("inconsistent lengths");return c(e)}(t);case 421:return function(e){const t=o.decode(e),r=e.slice(o.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return c(r,"base58btc")}(t);case 444:case 445:return g(t);default:return c(t,"base16")}},f.toBytes=function(e,t){switch((e=i(e)).code){case 4:case 41:return d(t);case 6:case 273:case 33:case 132:return h(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 777:return function(e){const t=u(e),r=Uint8Array.from(o.encode(t.length));return l([r,t],r.length+t.length)}(t);case 421:return function(e){const t=new s(e).multihash,r=Uint8Array.from(o.encode(t.length));return l([r,t],r.length+t.length)}(t);case 444:return function(e){const t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(16!==t[0].length)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion address.");const r=a.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const i=h(n);return l([r,i],r.length+i.length)}(t);case 445:return function(e){const t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(56!==t[0].length)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion3 address.");const r=a.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const i=h(n);return l([r,i],r.length+i.length)}(t);default:return u(t,"base16")}}},40510:(e,t,r)=>{"use strict";const n=r(82396),i=r(223),s=r(94676),a=r(91234),o=r(98514),c=Symbol.for("nodejs.util.inspect.custom"),u=r(67222),l=r(99726),f=o.proto((function(e){if(!(this instanceof f))return new f(e);if(null==e&&(e=""),e instanceof Uint8Array)this.bytes=n.fromBytes(e);else if("string"==typeof e||e instanceof String){if(e.length>0&&"/"!==e.charAt(0))throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=n.fromString(e)}else{if(!(e.bytes&&e.protos&&e.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=n.fromBytes(e.bytes)}}),{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});f.prototype.toString=function(){return n.bytesToString(this.bytes)},f.prototype.toJSON=f.prototype.toString,f.prototype.toOptions=function(){const e={},t=this.toString().split("/");return e.family="ip4"===t[1]?"ipv4":"ipv6",e.host=t[2],e.transport=t[3],e.port=parseInt(t[4]),e},f.prototype[c]=function(){return"<Multiaddr "+u(this.bytes,"base16")+" - "+n.bytesToString(this.bytes)+">"},f.prototype.inspect=function(){return"<Multiaddr "+u(this.bytes,"base16")+" - "+n.bytesToString(this.bytes)+">"},f.prototype.protos=function(){return this.protoCodes().map((e=>Object.assign({},i(e))))},f.prototype.protoCodes=function(){const e=[],t=this.bytes;let r=0;for(;r<t.length;){const a=s.decode(t,r),o=s.decode.bytes,c=i(a);r+=n.sizeForAddr(c,t.slice(r+o))+o,e.push(a)}return e},f.prototype.protoNames=function(){return this.protos().map((e=>e.name))},f.prototype.tuples=function(){return n.bytesToTuples(this.bytes)},f.prototype.stringTuples=function(){const e=n.bytesToTuples(this.bytes);return n.tuplesToStringTuples(e)},f.prototype.encapsulate=function(e){return e=f(e),f(this.toString()+e.toString())},f.prototype.decapsulate=function(e){e=e.toString();const t=this.toString(),r=t.lastIndexOf(e);if(r<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return f(t.slice(0,r))},f.prototype.decapsulateCode=function(e){const t=this.tuples();for(let r=t.length-1;r>=0;r--)if(t[r][0]===e)return f(n.tuplesToBytes(t.slice(0,r)));return this},f.prototype.getPeerId=function(){let e=null;try{e=this.stringTuples().filter((e=>{if(e[0]===i.names.ipfs.code)return!0})).pop()[1],e=u(new a(e).multihash,"base58btc")}catch(t){e=null}return e},f.prototype.getPath=function(){let e=null;try{e=this.stringTuples().filter((e=>{if(i(e[0]).path)return!0}))[0][1]}catch(t){e=null}return e},f.prototype.equals=function(e){return l(this.bytes,e.bytes)},f.prototype.nodeAddress=function(){const e=this.protoCodes(),t=this.protoNames(),r=this.toString().split("/").slice(1);if(r.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(4!==e[0]&&41!==e[0]&&54!==e[0]&&55!==e[0])throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if("tcp"!==r[2]&&"udp"!==r[2])throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:41===e[0]||55===e[0]?6:4,address:r[1],port:parseInt(r[3])}},f.fromNodeAddress=function(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");let r;switch(e.family){case"IPv4":r="ip4";break;case"IPv6":r="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 'IPv4' or 'IPv6'`)}return f("/"+[r,e.address,t,e.port].join("/"))},f.prototype.isThinWaistAddress=function(e){const t=(e||this).protos();return 2===t.length&&((4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code))},f.protocols=i,f.isName=function(e){return!!f.isMultiaddr(e)&&e.protos().some((e=>e.resolvable))},f.resolve=function(e){return f.isMultiaddr(e)&&f.isName(e)?Promise.reject(new Error("not implemented yet")):Promise.reject(Error("not a valid name"))},e.exports=f},57918:(e,t,r)=>{"use strict";const n=r(5003),i=r(67222),s=n,a=n.v4,o=n.v6,c=function(e,t,r){var n;if(r=~~r,a(e))n=t||new Uint8Array(r+4),e.split(/\./g).map((function(e){n[r++]=255&parseInt(e,10)}));else if(o(e)){var s,u=e.split(":",8);for(s=0;s<u.length;s++){var l;a(u[s])&&(l=c(u[s]),u[s]=i(l.slice(0,2),"base16")),l&&++s<8&&u.splice(s,0,i(l.slice(2,4),"base16"))}if(""===u[0])for(;u.length<8;)u.unshift("0");else if(""===u[u.length-1])for(;u.length<8;)u.push("0");else if(u.length<8){for(s=0;s<u.length&&""!==u[s];s++);var f=[s,"1"];for(s=9-u.length;s>0;s--)f.push("0");u.splice.apply(u,f)}for(n=t||new Uint8Array(r+16),s=0;s<u.length;s++){var d=parseInt(u[s],16);n[r++]=d>>8&255,n[r++]=255&d}}if(!n)throw Error("Invalid ip address: "+e);return n};e.exports={isIP:s,isV4:a,isV6:o,toBytes:c,toString:function(e,t,r){t=~~t,r=r||e.length-t;var n,i=[];const s=new DataView(e.buffer);if(4===r){for(let n=0;n<r;n++)i.push(e[t+n]);n=i.join(".")}else if(16===r){for(let e=0;e<r;e+=2)i.push(s.getUint16(t+e).toString(16));n=(n=(n=i.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n}}},223:e=>{"use strict";function t(e){if("number"==typeof e){if(t.codes[e])return t.codes[e];throw new Error("no protocol with code: "+e)}if("string"==typeof e||e instanceof String){if(t.names[e])return t.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}const r=-1;function n(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}t.lengthPrefixedVarSize=r,t.V=r,t.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,r,"ip6zone"],[53,r,"dns","resolvable"],[54,r,"dns4","resolvable"],[55,r,"dns6","resolvable"],[56,r,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,r,"unix",!1,"path"],[421,r,"ipfs"],[421,r,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,r,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,r,"memory"]],t.names={},t.codes={},t.table.map((e=>{const r=n.apply(null,e);t.codes[r.code]=r,t.names[r.name]=r})),t.object=n,e.exports=t},31710:(e,t,r)=>{"use strict";const{encodeText:n}=r(65046);e.exports=class{constructor(e,t,r,i){this.name=e,this.code=t,this.codeBuf=n(this.code),this.alphabet=i,this.codec=r(i)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}},35605:(e,t,r)=>{"use strict";const n=r(28820),i=r(31710),{rfc4648:s}=r(31772),{decodeText:a,encodeText:o}=r(65046),c=[["identity","\0",()=>({encode:a,decode:o}),""],["base2","0",s(1),"01"],["base8","7",s(3),"01234567"],["base10","9",n,"0123456789"],["base16","f",s(4),"0123456789abcdef"],["base16upper","F",s(4),"0123456789ABCDEF"],["base32hex","v",s(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",s(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",s(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",s(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",s(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",n,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",n,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",n,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",n,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new i(t[0],t[1],t[2],t[3]),e)),{}),l=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});e.exports={names:u,codes:l}},5052:(e,t,r)=>{"use strict";const n=r(35605),{encodeText:i,decodeText:s,concat:a}=r(65046);function o(e){if(Object.prototype.hasOwnProperty.call(n.names,e))return n.names[e];if(Object.prototype.hasOwnProperty.call(n.codes,e))return n.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:r,codeBuf:n}=o(e);return function(e,t){o(e).decode(s(t))}(r,t),a([n,t],n.length+t.length)}).encode=function(e,t){const r=o(e),n=i(r.encode(t));return a([r.codeBuf,n],r.codeBuf.length+n.length)},t.decode=function(e){e instanceof Uint8Array&&(e=s(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),o(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=s(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return o(e[0]).name}catch(e){return!1}},t.encoding=o,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=s(e)),o(e[0])};const c=Object.freeze(n.names),u=Object.freeze(n.codes);t.names=c,t.codes=u},31772:e=>{"use strict";e.exports={rfc4648:e=>t=>({encode:r=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s})(r,t,e),decode:r=>((e,t,r)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*r/8|0);let a=0,o=0,c=0;for(let t=0;t<i;++t){const i=n[e[t]];if(void 0===i)throw new SyntaxError("Invalid character "+e[t]);o=o<<r|i,a+=r,a>=8&&(a-=8,s[c++]=255&o>>a)}if(a>=r||255&o<<8-a)throw new SyntaxError("Unexpected end of data");return s})(r,t,e)})}},65046:(e,t,r)=>{"use strict";const{TextEncoder:n,TextDecoder:i}=r(32773),s=new i,a=new n;e.exports={decodeText:e=>s.decode(e),encodeText:e=>a.encode(e),concat:function(e,t){const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}}},69189:e=>{e.exports=function e(t,r){var n,i=0,s=0,a=r=r||0,o=t.length;do{if(a>=o)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=a-r,i}},75442:e=>{e.exports=function e(r,n,i){n=n||[];var s=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-s+1,n};var t=Math.pow(2,31)},61908:(e,t,r)=>{e.exports={encode:r(75442),decode:r(69189),encodingLength:r(59629)}},59629:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),o=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<s?5:e<a?6:e<o?7:e<c?8:e<u?9:10}},37618:e=>{"use strict";const t=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});e.exports={baseTable:t}},85805:(e,t,r)=>{"use strict";const n=r(61908),i=r(17438),s=r(55935),{nameToVarint:a,constantToCode:o,nameToCode:c,codeToName:u}=r(36672);function l(e){const t=n.decode(e),r=u[t];if(void 0===r)throw new Error(`Code "${t}" not found`);return r}function f(e){return u[e]}function d(e){const t=c[e];if(void 0===t)throw new Error(`Codec "${e}" not found`);return t}function h(e){return n.decode(e)}function p(e){const t=a[e];if(void 0===t)throw new Error(`Codec "${e}" not found`);return t}function g(e){return s.varintEncode(e)}e.exports={addPrefix:function(e,t){let r;if(e instanceof Uint8Array)r=s.varintUint8ArrayEncode(e);else{if(!a[e])throw new Error("multicodec not recognized");r=a[e]}return i([r,t],r.length+t.length)},rmPrefix:function(e){return n.decode(e),e.slice(n.decode.bytes)},getNameFromData:l,getNameFromCode:f,getCodeFromName:d,getCodeFromData:h,getVarintFromName:p,getVarintFromCode:g,getCodec:function(e){return l(e)},getName:function(e){return f(e)},getNumber:function(e){return d(e)},getCode:function(e){return h(e)},getCodeVarint:function(e){return p(e)},getVarint:function(e){return Array.from(g(e))},...o,nameToVarint:a,nameToCode:c,codeToName:u}},36672:(e,t,r)=>{"use strict";const{baseTable:n}=r(37618),i=r(55935).varintEncode,s={},a={},o={};for(const e in n){const t=e,r=n[t];s[t]=i(r);a[t.toUpperCase().replace(/-/g,"_")]=r,o[r]||(o[r]=t)}Object.freeze(s),Object.freeze(a),Object.freeze(o);const c=Object.freeze(n);e.exports={nameToVarint:s,constantToCode:a,nameToCode:c,codeToName:o}},55935:(e,t,r)=>{"use strict";const n=r(61908),i=r(60128),s=r(53216);function a(e){return parseInt(i(e,"base16"),16)}e.exports={numberToUint8Array:function(e){let t=e.toString(16);t.length%2==1&&(t="0"+t);return s(t,"base16")},uint8ArrayToNumber:a,varintUint8ArrayEncode:function(e){return Uint8Array.from(n.encode(a(e)))},varintEncode:function(e){return Uint8Array.from(n.encode(e))}}},19779:e=>{e.exports=function e(t,r){var n,i=0,s=0,a=r=r||0,o=t.length;do{if(a>=o)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=a-r,i}},8002:e=>{e.exports=function e(r,n,i){n=n||[];var s=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-s+1,n};var t=Math.pow(2,31)},74626:(e,t,r)=>{e.exports={encode:r(8002),decode:r(19779),encodingLength:r(35977)}},35977:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),o=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<s?5:e<a?6:e<o?7:e<c?8:e<u?9:10}},91472:e=>{"use strict";const t=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:t}},25138:(e,t,r)=>{"use strict";const n=r(5052),i=r(74626),{names:s}=r(91472),a=r(60128),o=r(53216),c=r(17438),u={};for(const e in s){const t=e;u[s[t]]=t}function l(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const t=i.decode(e);if(!h(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(i.decode.bytes);const r=i.decode(e);if(r<0)throw new Error(`multihash invalid length: ${r}`);if((e=e.slice(i.decode.bytes)).length!==r)throw new Error(`multihash length inconsistent: 0x${a(e,"base16")}`);return{code:t,name:u[t],length:r,digest:e}}function f(e){let t=e;if("string"==typeof e){if(void 0===s[e])throw new Error(`Unrecognized hash function named: ${e}`);t=s[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(void 0===u[t]&&!d(t))throw new Error(`Unrecognized function code: ${t}`);return t}function d(e){return e>0&&e<16}function h(e){return!!d(e)||!!u[e]}function p(e){l(e)}Object.freeze(u),e.exports={names:s,codes:u,toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(e,"base16")},fromHexString:function(e){return o(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(n.encode("base58btc",e)).slice(1)},fromB58String:function(e){const t=e instanceof Uint8Array?a(e):e;return n.decode("z"+t)},decode:l,encode:function(e,t,r){if(!e||void 0===t)throw new Error("multihash encode requires at least two args: digest, code");const n=f(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==r&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");const s=i.encode(n),a=i.encode(r);return c([s,a,e],s.length+a.length+e.length)},coerceCode:f,isAppCode:d,validate:p,prefix:function(e){return p(e),e.subarray(0,2)},isValidCode:h}},17438:e=>{"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}},9394:e=>{"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}},53216:(e,t,r)=>{"use strict";const{encoding:n}=r(5052),{TextEncoder:i}=r(32773),s=new i;e.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?s.encode(e):"ascii"===t?function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e):n(t).decode(e)}},60128:(e,t,r)=>{"use strict";const{encoding:n}=r(5052),{TextDecoder:i}=r(32773),s=new i("utf8");e.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?s.decode(e):"ascii"===t?function(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}(e):n(t).encode(e)}},9621:(e,t,r)=>{"use strict";const n=r(45062),i=r(95267),s=r(18046),a=r(50548),o=r(84084),c=r(14982),{AbortController:u}=r(35353);e.exports=s((e=>async function*(t,r={}){const n=new u,s=c(n.signal,r.signal),{headers:f,body:h,total:p,parts:g}=await a(t,n,r.headers),[m,b]="function"==typeof r.progress?l(p,g,r.progress):[void 0,void 0],y=await e.post("add",{searchParams:o({"stream-channels":!0,...r,progress:Boolean(m)}),timeout:r.timeout,onUploadProgress:b,signal:s,headers:f,body:h});for await(let e of y.ndjson())e=i(e),void 0!==e.hash?yield d(e):m&&m(e.bytes||0,e.name)}));const l=(e,t,r)=>t?[void 0,f(e,t,r)]:[r,void 0],f=(e,t,r)=>{let n=0;const i=t.length;return({loaded:s,total:a})=>{const o=Math.floor(s/a*e);for(;n<i;){const{start:e,end:i,name:s}=t[n];if(o<i){r(o-e,s);break}r(i-e,s),n+=1}}};function d({name:e,hash:t,size:r,mode:i,mtime:s,mtimeNsecs:a}){const o={path:e,cid:new n(t),size:parseInt(r)};return null!=i&&(o.mode=parseInt(i,8)),null!=s&&(o.mtime={secs:s,nsecs:a||0}),o}},48090:(e,t,r)=>{"use strict";const n=r(9621),i=r(93093),s=r(18046);e.exports=e=>{const t=n(e);return s((()=>async function(e,r={}){return await i(t(e,r))}))(e)}},48868:(e,t,r)=>{"use strict";e.exports=e=>({wantlist:r(83717)(e),wantlistForPeer:r(90342)(e),stat:r(60524)(e),unwant:r(68765)(e)})},60524:(e,t,r)=>{"use strict";const{BigNumber:n}=r(44431),i=r(45062),s=r(18046),a=r(84084);e.exports=s((e=>async function(t={}){const r=await e.post("bitswap/stat",{searchParams:a(t),timeout:t.timeout,signal:t.signal,headers:t.headers});return function(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map((e=>new i(e["/"]))),peers:e.Peers||[],blocksReceived:new n(e.BlocksReceived),dataReceived:new n(e.DataReceived),blocksSent:new n(e.BlocksSent),dataSent:new n(e.DataSent),dupBlksReceived:new n(e.DupBlksReceived),dupDataReceived:new n(e.DupDataReceived)}}(await r.json())}))},68765:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async function(t,r={}){return(await e.post("bitswap/unwant",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:"string"==typeof t?t:new n(t).toString(),...r}),headers:r.headers})).json()}))},90342:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async function(t,r={}){return t="string"==typeof t?t:new n(t).toString(),((await(await e.post("bitswap/wantlist",{timeout:r.timeout,signal:r.signal,searchParams:s({...r,peer:t}),headers:r.headers})).json()).Keys||[]).map((e=>new n(e["/"])))}))},83717:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async function(t={}){return((await(await e.post("bitswap/wantlist",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers})).json()).Keys||[]).map((e=>new n(e["/"])))}))},63920:(e,t,r)=>{"use strict";const n=r(65990),i=r(45062),s=r(18046),a=r(84084);e.exports=s((e=>async function(t,r={}){t=new i(t);const s=await e.post("block/get",{timeout:r.timeout,signal:r.signal,searchParams:a({arg:t.toString(),...r}),headers:r.headers});return new n(new Uint8Array(await s.arrayBuffer()),t)}))},44581:(e,t,r)=>{"use strict";e.exports=e=>({get:r(63920)(e),stat:r(83611)(e),put:r(69e3)(e),rm:r(56975)(e)})},69e3:(e,t,r)=>{"use strict";const n=r(65990),i=r(45062),s=r(25138),a=r(50548),o=r(18046),c=r(84084),u=r(14982),{AbortController:l}=r(35353);e.exports=o((e=>async function t(r,o={}){if(n.isBlock(r)){const{name:e,length:t}=s.decode(r.cid.multihash);o={...o,format:r.cid.codec,mhtype:e,mhlen:t,version:r.cid.version},r=r.data}else if(o.cid){const e=new i(o.cid),{name:t,length:r}=s.decode(e.multihash);delete(o={...o,format:e.codec,mhtype:t,mhlen:r,version:e.version}).cid}const f=new l,d=u(f.signal,o.signal);let h;try{const t=await e.post("block/put",{timeout:o.timeout,signal:d,searchParams:c(o),...await a(r,f,o.headers)});h=await t.json()}catch(e){if("dag-pb"===o.format)return t(r,{...o,format:"protobuf"});if("dag-cbor"===o.format)return t(r,{...o,format:"cbor"});throw e}return new n(r,new i(h.Key))}))},56975:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);function a(e){const t={cid:new n(e.Hash)};return e.Error&&(t.error=new Error(e.Error)),t}e.exports=i((e=>async function*(t,r={}){Array.isArray(t)||(t=[t]);const i=await e.post("block/rm",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:t.map((e=>new n(e).toString())),"stream-channels":!0,...r}),headers:r.headers});for await(const e of i.ndjson())yield a(e)}))},83611:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async function(t,r={}){const i=await e.post("block/stat",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:new n(t).toString(),...r}),headers:r.headers}),a=await i.json();return{cid:new n(a.Key),size:a.Size}}))},98291:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084),s=r(40510);e.exports=n((e=>async function(t,r={}){const n=await e.post("bootstrap/add",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers}),{Peers:a}=await n.json();return{Peers:a.map((e=>new s(e)))}}))},40969:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084),s=r(40510);e.exports=n((e=>async function(t={}){const r=await e.post("bootstrap/rm",{timeout:t.timeout,signal:t.signal,searchParams:i({...t,all:!0}),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map((e=>new s(e)))}}))},21248:(e,t,r)=>{"use strict";e.exports=e=>({add:r(98291)(e),clear:r(40969)(e),rm:r(46062)(e),reset:r(123)(e),list:r(80732)(e)})},80732:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084),s=r(40510);e.exports=n((e=>async function(t={}){const r=await e.post("bootstrap/list",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map((e=>new s(e)))}}))},123:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084),s=r(40510);e.exports=n((e=>async function(t={}){const r=await e.post("bootstrap/add",{timeout:t.timeout,signal:t.signal,searchParams:i({...t,default:!0}),headers:t.headers}),{Peers:n}=await r.json();return{Peers:n.map((e=>new s(e)))}}))},46062:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084),s=r(40510);e.exports=n((e=>async function(t,r={}){const n=await e.post("bootstrap/rm",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers}),{Peers:a}=await n.json();return{Peers:a.map((e=>new s(e)))}}))},361:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async function*(t,r={}){const i=await e.post("cat",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:"string"==typeof t?t:new n(t).toString(),...r}),headers:r.headers});yield*i.iterator()}))},16579:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>(await e.post("commands",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers})).json()))},48307:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t,r={})=>{if(!t)throw new Error("key argument is required");const n=await e.post("config",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers});return(await n.json()).Value}))},51830:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>{const r=await e.post("config/show",{timeout:t.timeout,signal:t.signal,searchParams:i({...t}),headers:t.headers});return await r.json()}))},95467:(e,t,r)=>{"use strict";e.exports=e=>({getAll:r(51830)(e),get:r(48307)(e),set:r(19241)(e),replace:r(52623)(e),profiles:r(32701)(e)})},99074:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async function(t,r={}){const n=await e.post("config/profile/apply",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers}),s=await n.json();return{original:s.OldCfg,updated:s.NewCfg}}))},32701:(e,t,r)=>{"use strict";e.exports=e=>({apply:r(99074)(e),list:r(97669)(e)})},97669:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>{const r=await e.post("config/profile/list",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers});return(await r.json()).map((e=>n(e)))}))},52623:(e,t,r)=>{"use strict";const n=r(53216),i=r(50548),s=r(18046),a=r(84084),o=r(14982),{AbortController:c}=r(35353);e.exports=s((e=>async(t,r={})=>{const s=new c,u=o(s.signal,r.signal),l=await e.post("config/replace",{timeout:r.timeout,signal:u,searchParams:a(r),...await i(n(JSON.stringify(t)),s,r.headers)});await l.text()}))},19241:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r,i={})=>{if("string"!=typeof t)throw new Error("Invalid key type");const o={...i,...a(t,r)},c=await e.post("config",{timeout:i.timeout,signal:i.signal,searchParams:s(o),headers:i.headers});return n(await c.json())}));const a=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}}},64104:(e,t,r)=>{"use strict";const n=r(18046),i=r(85805),s=r(31096);e.exports=n(((e,t)=>{const n=r(63920)(t),a=r(57662)(t),o=s(t.ipld);return async(e,t={})=>{const r=await a(e,t),s=await n(r.cid,t),c=i.getName(r.cid.code),u=await o(c);return r.cid.code!==i.RAW||r.remainderPath||(r.remainderPath="/"),u.resolver.resolve(s.data,r.remainderPath)}}))},72050:(e,t,r)=>{"use strict";e.exports=e=>({get:r(64104)(e),put:r(42771)(e),resolve:r(57662)(e)})},42771:(e,t,r)=>{"use strict";const n=r(45062),i=r(25138),s=r(18046),a=r(50548),o=r(84084),c=r(14982),{AbortController:u}=r(35353),l=r(85805),f=r(31096);e.exports=s(((e,t)=>{const r=f(t.ipld);return async(t,s={})=>{if(s.cid&&(s.format||s.hashAlg))throw new Error("Failed to put DAG node. Provide either `cid` OR `format` and `hashAlg` options");if(s.format&&!s.hashAlg||!s.format&&s.hashAlg)throw new Error("Failed to put DAG node. Provide `format` AND `hashAlg` options");let f;if(s.cid){const e=new n(s.cid);f={...s,format:l.getName(e.code),hashAlg:i.decode(e.multihash).name},delete s.cid}else f=s;const d={format:"dag-cbor",hashAlg:"sha2-256",inputEnc:"raw",...f},h=(await r(d.format)).util.serialize(t),p=new u,g=c(p.signal,d.signal),m=await e.post("dag/put",{timeout:d.timeout,signal:g,searchParams:o(d),...await a(h,p,d.headers)}),b=await m.json();return new n(b.Cid["/"])}}))},57662:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r={})=>{const i=await e.post("dag/resolve",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:`${t}${r.path?`/${r.path}`.replace(/\/[/]+/g,"/"):""}`,...r}),headers:r.headers}),a=await i.json();return{cid:new n(a.Cid["/"]),remainderPath:a.RemPath}}))},37728:(e,t,r)=>{"use strict";const n=r(45062),i=r(40510),s=r(18046),a=r(84084),{FinalPeer:o}=r(55252);e.exports=s((e=>async function(t,r={}){const s=await e.post("dht/findpeer",{timeout:r.timeout,signal:r.signal,searchParams:a({arg:`${t instanceof Uint8Array?new n(t):t}`,...r}),headers:r.headers});for await(const e of s.ndjson())if(e.Type===o&&e.Responses){const{ID:t,Addrs:r}=e.Responses[0];return{id:t,addrs:(r||[]).map((e=>i(e)))}}throw new Error("not found")}))},33602:(e,t,r)=>{"use strict";const n=r(45062),i=r(40510),s=r(18046),a=r(84084),{Provider:o}=r(55252);e.exports=s((e=>async function*(t,r={}){const s=await e.post("dht/findprovs",{timeout:r.timeout,signal:r.signal,searchParams:a({arg:`${new n(t)}`,...r}),headers:r.headers});for await(const e of s.ndjson())if(e.Type===o&&e.Responses)for(const{ID:t,Addrs:r}of e.Responses)yield{id:t,addrs:(r||[]).map((e=>i(e)))}}))},54714:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084),{Value:s}=r(55252),a=r(60128),o=r(53216);e.exports=n((e=>async function(t,r={}){const n=await e.post("dht/get",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t instanceof Uint8Array?a(t):t,...r}),headers:r.headers});for await(const e of n.ndjson())if(e.Type===s)return o(e.Extra,"base64pad");throw new Error("not found")}))},71595:(e,t,r)=>{"use strict";e.exports=e=>({get:r(54714)(e),put:r(68453)(e),findProvs:r(33602)(e),findPeer:r(37728)(e),provide:r(79517)(e),query:r(62063)(e)})},79517:(e,t,r)=>{"use strict";const n=r(45062),i=r(40510),s=r(95267),a=r(18046),o=r(84084);e.exports=a((e=>async function*(t,r={}){t=Array.isArray(t)?t:[t];const a=await e.post("dht/provide",{timeout:r.timeout,signal:r.signal,searchParams:o({arg:t.map((e=>new n(e).toString())),...r}),headers:r.headers});for await(let e of a.ndjson())e=s(e),e.id=new n(e.id),e.responses?e.responses=e.responses.map((({ID:e,Addrs:t})=>({id:e,addrs:(t||[]).map((e=>i(e)))}))):e.responses=[],yield e}))},68453:(e,t,r)=>{"use strict";const n=r(45062),i=r(40510),s=r(95267),a=r(18046),o=r(84084),c=r(50548),u=r(14982),{AbortController:l}=r(35353);e.exports=a((e=>async function*(t,r,a={}){const f=new l,d=u(f.signal,a.signal),h=await e.post("dht/put",{timeout:a.timeout,signal:d,searchParams:o({arg:t,...a}),...await c(r,f,a.headers)});for await(let e of h.ndjson())e=s(e),e.id=new n(e.id),e.responses&&(e.responses=e.responses.map((({ID:e,Addrs:t})=>({id:e,addrs:(t||[]).map((e=>i(e)))})))),yield e}))},62063:(e,t,r)=>{"use strict";const n=r(45062),i=r(40510),s=r(95267),a=r(18046),o=r(84084);e.exports=a((e=>async function*(t,r={}){const a=await e.post("dht/query",{timeout:r.timeout,signal:r.signal,searchParams:o({arg:new n(`${t}`),...r}),headers:r.headers});for await(let e of a.ndjson())e=s(e),e.id=new n(e.id),e.responses=(e.responses||[]).map((({ID:e,Addrs:t})=>({id:e,addrs:(t||[]).map((e=>i(e)))}))),yield e}))},55252:e=>{"use strict";e.exports={SendingQuery:0,PeerResponse:1,FinalPeer:2,QueryError:3,Provider:4,Value:5,AddingPeer:6,DialingPeer:7}},89262:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>(await e.post("diag/cmds",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers})).json()))},75146:(e,t,r)=>{"use strict";e.exports=e=>({net:r(19445)(e),sys:r(18653)(e),cmds:r(89262)(e)})},19445:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>(await e.post("diag/net",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers})).json()))},18653:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>(await e.post("diag/sys",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers})).json()))},72682:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t,r={})=>{const n=await e.post("dns",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers});return(await n.json()).Path}))},56:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async function(t,r,n={}){const s=await e.post("files/chmod",{timeout:n.timeout,signal:n.signal,searchParams:i({arg:t,mode:r,...n}),headers:n.headers});await s.text()}))},5370:(e,t,r)=>{"use strict";const n=r(45062),{findSources:i}=r(6247),s=r(18046),a=r(84084);e.exports=s((e=>async function(...t){const{sources:r,options:s}=i(t),o=await e.post("files/cp",{timeout:s.timeout,signal:s.signal,searchParams:a({arg:r.map((e=>n.isCID(e)?`/ipfs/${e}`:e)),...s}),headers:s.headers});await o.text()}))},7498:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async function(t,r={}){if(!t||"string"!=typeof t)throw new Error("ipfs.files.flush requires a path");const i=await e.post("files/flush",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:t,...r}),headers:r.headers}),a=await i.json();return new n(a.Cid)}))},68364:(e,t,r)=>{"use strict";e.exports=e=>({chmod:r(56)(e),cp:r(5370)(e),flush:r(7498)(e),ls:r(65788)(e),mkdir:r(65098)(e),mv:r(53482)(e),read:r(97272)(e),rm:r(91662)(e),stat:r(73803)(e),touch:r(36549)(e),write:r(59696)(e)})},65788:(e,t,r)=>{"use strict";const n=r(45062),i=r(46470),s=r(18046),a=r(84084);function o(e){return e.hash&&(e.cid=new n(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}e.exports=s((e=>async function*(t,r={}){if(!t||"string"!=typeof t)throw new Error("ipfs.files.ls requires a path");const s=await e.post("files/ls",{timeout:r.timeout,signal:r.signal,searchParams:a({arg:n.isCID(t)?`/ipfs/${t}`:t,long:!0,...r,stream:!0}),headers:r.headers});for await(const e of s.ndjson())if("Entries"in e)for(const t of e.Entries||[])yield o(i(t));else yield o(i(e))}))},65098:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async function(t,r={}){const n=await e.post("files/mkdir",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers});await n.text()}))},53482:(e,t,r)=>{"use strict";const n=r(45062),{findSources:i}=r(6247),s=r(18046),a=r(84084);e.exports=s((e=>async function(...t){const{sources:r,options:s}=i(t),o=await e.post("files/mv",{timeout:s.timeout,signal:s.signal,searchParams:a({arg:r.map((e=>n.isCID(e)?`/ipfs/${e}`:e)),...s}),headers:s.headers});await o.text()}))},97272:(e,t,r)=>{"use strict";const n=r(50590),i=r(18046),s=r(84084);e.exports=i((e=>async function*(t,r={}){const i=await e.post("files/read",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:t,count:r.length,...r}),headers:r.headers});yield*n(i.body)}))},91662:(e,t,r)=>{"use strict";const n=r(18046),{findSources:i}=r(6247),s=r(84084);e.exports=n((e=>async function(...t){const{sources:r,options:n}=i(t),a=await e.post("files/rm",{timeout:n.timeout,signal:n.signal,searchParams:s({arg:r,...n}),headers:n.headers});await a.text()}))},73803:(e,t,r)=>{"use strict";const n=r(45062),i=r(46470),s=r(18046),a=r(84084);e.exports=s((e=>async function(t,r={}){"string"!=typeof t&&(r=t||{},t="/");const s=await e.post("files/stat",{timeout:r.timeout,signal:r.signal,searchParams:a({arg:t,...r}),headers:r.headers}),o=await s.json();return o.WithLocality=o.WithLocality||!1,(c=i(o)).cid=new n(c.hash),delete c.hash,c;var c}))},36549:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async function(t,r={}){const n=await e.post("files/touch",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers});await n.text()}))},6247:(e,t)=>{"use strict";t.findSources=e=>{let t={},r=[];return Array.isArray(e[e.length-1])||"object"!=typeof e[e.length-1]||(t=e.pop()),r=1===e.length&&Array.isArray(e[0])?e[0]:e,{sources:r,options:t}}},59696:(e,t,r)=>{"use strict";const n=r(253),{mtimeToObject:i}=r(18058),s=r(18046),a=r(50548),o=r(84084),c=r(14982),{AbortController:u}=r(35353);e.exports=s((e=>async function(t,r,s={}){const l=new u,f=c(l.signal,s.signal),d=await e.post("files/write",{timeout:s.timeout,signal:f,searchParams:o({arg:t,streamChannels:!0,count:s.length,...s}),...await a({content:r,path:"arg",mode:n(s.mode),mtime:i(s.mtime)},l,s.headers)});await d.text()}))},9304:(e,t,r)=>{"use strict";const n=r(18046);e.exports=n((e=>()=>{const t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}}))},22636:(e,t,r)=>{"use strict";const n=r(22169),i=r(45062),s=r(18046),a=r(84084),o=r(32121);e.exports=s((e=>async function*(t,r={}){const s=await e.post("get",{timeout:r.timeout,signal:r.signal,searchParams:a({arg:`${t instanceof Uint8Array?new i(t):t}`,...r}),headers:r.headers}),c=n.extract();for await(const{header:e,body:t}of c(s.iterator()))"directory"===e.type?yield{type:"dir",path:e.name}:yield{type:"file",path:e.name,content:o(t,(e=>e.slice()))}}))},30092:(e,t,r)=>{"use strict";const n=r(95267),i=r(40510),s=r(18046),a=r(84084);e.exports=s((e=>async function(t={}){const r=await e.post("id",{timeout:t.timeout,signal:t.signal,searchParams:a(t),headers:t.headers}),s=await r.json(),o=n(s);return o.addresses&&(o.addresses=o.addresses.map((e=>i(e)))),o}))},85241:(e,t,r)=>{"use strict";const n=r(45062),i=r(40510),s=r(5052),a=r(85805),o=r(25138),c=r(36213),u=r(46953);function l(e={}){return{add:r(48090)(e),addAll:r(9621)(e),bitswap:r(48868)(e),block:r(44581)(e),bootstrap:r(21248)(e),cat:r(361)(e),commands:r(16579)(e),config:r(95467)(e),dag:r(72050)(e),dht:r(71595)(e),diag:r(75146)(e),dns:r(72682)(e),files:r(68364)(e),get:r(22636)(e),getEndpointConfig:r(9304)(e),id:r(30092)(e),key:r(32591)(e),log:r(791)(e),ls:r(32222)(e),mount:r(95364)(e),name:r(24198)(e),object:r(30848)(e),pin:r(62634)(e),ping:r(94921)(e),pubsub:r(58271)(e),refs:r(10205)(e),repo:r(9679)(e),resolve:r(48485)(e),stats:r(46506)(e),stop:r(45401)(e),shutdown:r(45401)(e),swarm:r(8297)(e),version:r(19825)(e)}}Object.assign(l,{CID:n,multiaddr:i,multibase:s,multicodec:a,multihash:o,globSource:c,urlSource:u}),e.exports=l},8437:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r={})=>{const i=await e.post("key/gen",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:t,...r}),headers:r.headers}),a=await i.json();return n(a)}))},46052:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r,i,a={})=>{"string"!=typeof i&&(a=i||{},i=null);const o=await e.post("key/import",{timeout:a.timeout,signal:a.signal,searchParams:s({arg:t,pem:r,password:i,...a}),headers:a.headers}),c=await o.json();return n(c)}))},32591:(e,t,r)=>{"use strict";e.exports=e=>({gen:r(8437)(e),list:r(38657)(e),rename:r(1526)(e),rm:r(99926)(e),import:r(46052)(e)})},38657:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>{const r=await e.post("key/list",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers});return((await r.json()).Keys||[]).map((e=>n(e)))}))},1526:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r,i={})=>{const a=await e.post("key/rename",{timeout:i.timeout,signal:i.signal,searchParams:s({arg:[t,r],...i}),headers:i.headers});return n(await a.json())}))},99926:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r={})=>{const i=await e.post("key/rm",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:t,...r}),headers:r.headers}),a=await i.json();return n(a.Keys[0])}))},14982:(e,t,r)=>{"use strict";const{anySignal:n}=r(32044);e.exports=(...e)=>n(function(e){return e.filter(Boolean)}(e))},18046:(e,t,r)=>{"use strict";const n=r(68193);e.exports=e=>t=>e(new n(t),t)},68193:(e,t,r)=>{"use strict";const n=r(40510),{isBrowser:i,isWebWorker:s,isNode:a}=r(106),{default:o}=r(25955),c=r(66539)("ipfs-http-client:lib:error-handler"),u=r(67137),l=r(70942),f=r(56824),d=r(58618),h=r(120),p=i||s?location.protocol:"http",g=i||s?location.hostname:"localhost",m=i||s?location.port:"5001",b=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){const r=await e.json();c(r),t=r.Message||r.message}else t=await e.text()}catch(e){c("Failed to parse error response",e),t=e.message}let r=new u.HTTPError(e);throw t&&t.includes("context deadline exceeded")&&(r=new u.TimeoutError(e)),t&&t.includes("request timed out")&&(r=new u.TimeoutError(e)),t&&(r.message=t),r},y=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,v=e=>e.replace(y,(function(e){return"-"+e.toLowerCase()}));class k extends u{constructor(e={}){const t=((e={})=>{let t,r,i={};if("string"==typeof e||n.isMultiaddr(e))t=new URL(f(e));else if(e instanceof URL)t=e;else if("string"==typeof e.url||n.isMultiaddr(e.url))t=new URL(f(e.url)),i=e;else if(e.url instanceof URL)t=e.url,i=e;else{i=e||{};const r=(i.protocol||p).replace(":",""),n=(i.host||g).split(":")[0],s=i.port||m;t=new URL(`${r}://${n}:${s}`)}if(i.apiPath?t.pathname=i.apiPath:"/"!==t.pathname&&void 0!==t.pathname||(t.pathname="api/v0"),a){const e=t.protocol.startsWith("https")?h.Agent:d.Agent;r=i.agent||new e({keepAlive:!0,maxSockets:6})}return{...i,host:t.host,protocol:t.protocol.replace(":",""),port:Number(t.port),apiPath:t.pathname,url:t,agent:r}})(e);var r;super({timeout:(r=t.timeout,("string"==typeof r?o(r):r)||12e5),headers:t.headers,base:`${t.url}`,handleError:b,transformSearchParams:e=>{const t=new URLSearchParams;for(const[r,n]of e)"undefined"!==n&&"null"!==n&&"signal"!==r&&t.append(v(r),n),"timeout"!==r||isNaN(n)||t.append(v(r),n);return t},agent:t.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;const i=this.fetch;this.fetch=(e,r={})=>("string"!=typeof e||e.startsWith("/")||(e=`${t.url}/${e}`),i.call(this,e,l(r,{method:"POST"})))}}k.errorHandler=b,e.exports=k},31096:(e,t,r)=>{"use strict";const n=r(6581),i=r(39003),s=r(30199),a=r(85805),o=()=>{};e.exports=({formats:e=[],loadFormat:t=o}={})=>{e=e||[],t=t||o;const r={[a.DAG_PB]:n,[a.DAG_CBOR]:i,[a.RAW]:s};e.forEach((e=>{r[e.codec]=e}));return async e=>{const n=a.getNumber(e),i=r[n]||await t(e);if(!i)throw Object.assign(new Error(`Missing IPLD format "${e}"`),{missingMulticodec:e});return i}}},253:e=>{"use strict";e.exports=e=>{if(null!=e)return"string"==typeof e||e instanceof String?e:e.toString(8).padStart(4,"0")}},50548:(e,t,r)=>{"use strict";const n=r(68716),i=r(253);e.exports=async function(e="",t,r={}){const s=[],a=new FormData;let o=0,c=0;for await(const{content:t,path:r,mode:u,mtime:l}of n(e)){let e="";o>0&&(e=`-${o}`);let n=(t?"file":"dir")+e;const f=[];if(null!=u&&f.push(`mode=${i(u)}`),null!=l){const{secs:e,nsecs:t}=l;f.push(`mtime=${e}`),null!=t&&f.push(`mtime-nsecs=${t}`)}if(f.length&&(n=`${n}?${f.join("&")}`),t){a.set(n,t,encodeURIComponent(r));const e=c+t.size;s.push({name:r,start:c,end:e}),c=e}else a.set(n,new File([""],encodeURIComponent(r),{type:"application/x-directory"}));o++}return{total:c,parts:s,headers:r,body:a}}},46470:(e,t,r)=>{"use strict";const n=r(95267);e.exports=function(e){const t=n(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}},95267:e=>{"use strict";e.exports=e=>{if(null==e)return e;const t=/^[A-Z]+$/;return Object.keys(e).reduce(((r,n)=>(t.test(n)?r[n.toLowerCase()]=e[n]:t.test(n[0])?r[n[0].toLowerCase()+n.slice(1)]=e[n]:r[n]=e[n],r)),{})}},84084:(e,t,r)=>{"use strict";const n=r(253),{mtimeToObject:i}=r(18058);e.exports=({arg:e,searchParams:t,hashAlg:r,mtime:s,mode:a,...o}={})=>{t&&(o={...o,...t}),r&&(o.hash=r),null!=s&&(s=i(s),o.mtime=s.secs,o.mtimeNsecs=s.nsecs),null!=a&&(o.mode=n(a)),o.timeout&&!isNaN(o.timeout)&&(o.timeout=`${o.timeout}ms`),null==e?e=[]:Array.isArray(e)||(e=[e]);const c=new URLSearchParams(o);return e.forEach((e=>c.append("arg",e))),c}},791:(e,t,r)=>{"use strict";e.exports=e=>({tail:r(99724)(e),ls:r(98289)(e),level:r(35304)(e)})},35304:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r,i={})=>{const a=await e.post("log/level",{timeout:i.timeout,signal:i.signal,searchParams:s({arg:[t,r],...i}),headers:i.headers});return n(await a.json())}))},98289:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>{const r=await e.post("log/ls",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers});return(await r.json()).Strings}))},99724:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async function*(t={}){const r=await e.post("log/tail",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers});yield*r.ndjson()}))},32222:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084),a=r(73803);function o(e){switch(e.Type){case 1:case 5:return"dir";case 2:return"file";default:return"unknown"}}e.exports=i(((e,t)=>async function*(r,i={}){const c=`${r instanceof Uint8Array?new n(r):r}`;async function u(e){let r=e.Hash;if(r.includes("/")){const e=r.startsWith("/ipfs/")?r:`/ipfs/${r}`;r=(await a(t)(e)).cid}const i={name:e.Name,path:c+(e.Name?`/${e.Name}`:""),size:e.Size,cid:new n(r),type:o(e),depth:e.Depth||1};return e.Mode&&(i.mode=parseInt(e.Mode,8)),void 0!==e.Mtime&&null!==e.Mtime&&(i.mtime={secs:e.Mtime},void 0!==e.MtimeNsecs&&null!==e.MtimeNsecs&&(i.mtime.nsecs=e.MtimeNsecs)),i}const l=await e.post("ls",{timeout:i.timeout,signal:i.signal,searchParams:s({arg:c,...i}),headers:i.headers});for await(let e of l.ndjson()){if(e=e.Objects,!e)throw new Error("expected .Objects in results");if(e=e[0],!e)throw new Error("expected one array in results.Objects");const t=e.Links;if(!Array.isArray(t))throw new Error("expected one array in results.Objects[0].Links");if(!t.length)return void(yield u(e));yield*t.map(u)}}))},95364:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>{const r=await e.post("dns",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers});return n(await r.json())}))},24198:(e,t,r)=>{"use strict";e.exports=e=>({publish:r(30806)(e),resolve:r(26119)(e),pubsub:r(65114)(e)})},30806:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r={})=>{const i=await e.post("name/publish",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:t,...r}),headers:r.headers});return n(await i.json())}))},95961:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r={})=>{const i=await e.post("name/pubsub/cancel",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:t,...r}),headers:r.headers});return n(await i.json())}))},65114:(e,t,r)=>{"use strict";e.exports=e=>({cancel:r(95961)(e),state:r(35050)(e),subs:r(67496)(e)})},35050:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>{const r=await e.post("name/pubsub/state",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers});return n(await r.json())}))},67496:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>{const r=await e.post("name/pubsub/subs",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers});return(await r.json()).Strings||[]}))},26119:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async function*(t,r={}){const n=await e.post("name/resolve",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,stream:!0,...r}),headers:r.headers});for await(const e of n.ndjson())yield e.Path}))},39886:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async function(t,r={}){const i=await e.post("object/data",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:`${t instanceof Uint8Array?new n(t):t}`,...r}),headers:r.headers}),a=await i.arrayBuffer();return new Uint8Array(a,0,a.byteLength)}))},68722:(e,t,r)=>{"use strict";const n=r(45062),{DAGNode:i,DAGLink:s}=r(6581),a=r(18046),o=r(84084),c=r(53216);e.exports=a((e=>async(t,r={})=>{const a=await e.post("object/get",{timeout:r.timeout,signal:r.signal,searchParams:o({arg:`${t instanceof Uint8Array?new n(t):t}`,dataEncoding:"base64",...r}),headers:r.headers}),u=await a.json();return new i(c(u.Data,"base64pad"),(u.Links||[]).map((e=>new s(e.Name,e.Size,e.Hash))))}))},30848:(e,t,r)=>{"use strict";e.exports=e=>({data:r(39886)(e),get:r(68722)(e),links:r(48553)(e),new:r(5082)(e),patch:r(28851)(e),put:r(8610)(e),stat:r(17767)(e)})},48553:(e,t,r)=>{"use strict";const n=r(45062),{DAGLink:i}=r(6581),s=r(18046),a=r(84084);e.exports=s((e=>async(t,r={})=>{const s=await e.post("object/links",{timeout:r.timeout,signal:r.signal,searchParams:a({arg:`${t instanceof Uint8Array?new n(t):t}`,...r}),headers:r.headers});return((await s.json()).Links||[]).map((e=>new i(e.Name,e.Size,e.Hash)))}))},5082:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>{const r=await e.post("object/new",{timeout:t.timeout,signal:t.signal,searchParams:s({arg:t.template,...t}),headers:t.headers}),{Hash:i}=await r.json();return new n(i)}))},37602:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r,i={})=>{const a=await e.post("object/patch/add-link",{timeout:i.timeout,signal:i.signal,searchParams:s({arg:[`${t instanceof Uint8Array?new n(t):t}`,r.Name||r.name||"",(r.Hash||r.cid||"").toString()||null],...i}),headers:i.headers}),{Hash:o}=await a.json();return new n(o)}))},6694:(e,t,r)=>{"use strict";const n=r(45062),i=r(50548),s=r(18046),a=r(84084),o=r(14982),{AbortController:c}=r(35353);e.exports=s((e=>async(t,r,s={})=>{const u=new c,l=o(u.signal,s.signal),f=await e.post("object/patch/append-data",{timeout:s.timeout,signal:l,searchParams:a({arg:`${t instanceof Uint8Array?new n(t):t}`,...s}),...await i(r,u,s.headers)}),{Hash:d}=await f.json();return new n(d)}))},28851:(e,t,r)=>{"use strict";e.exports=e=>({addLink:r(37602)(e),appendData:r(6694)(e),rmLink:r(93763)(e),setData:r(5030)(e)})},93763:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r,i={})=>{const a=await e.post("object/patch/rm-link",{timeout:i.timeout,signal:i.signal,searchParams:s({arg:[`${t instanceof Uint8Array?new n(t):t}`,r.Name||r.name||null],...i}),headers:i.headers}),{Hash:o}=await a.json();return new n(o)}))},5030:(e,t,r)=>{"use strict";const n=r(45062),i=r(50548),s=r(18046),a=r(84084),o=r(14982),{AbortController:c}=r(35353);e.exports=s((e=>async(t,r,s={})=>{const u=new c,l=o(u.signal,s.signal),{Hash:f}=await(await e.post("object/patch/set-data",{timeout:s.timeout,signal:l,searchParams:a({arg:[`${t instanceof Uint8Array?new n(t):t}`],...s}),...await i(r,u,s.headers)})).json();return new n(f)}))},8610:(e,t,r)=>{"use strict";const n=r(45062),{DAGNode:i}=r(6581),s=r(50548),a=r(18046),o=r(84084),c=r(14982),{AbortController:u}=r(35353),l=r(60128),f=r(53216);e.exports=a((e=>async(t,r={})=>{let a,d={Links:[]};if(t instanceof Uint8Array)r.enc||(d={Data:l(t),Links:[]});else if(i.isDAGNode(t))d={Data:l(t.Data),Links:t.Links.map((e=>({Name:e.Name,Hash:e.Hash.toString(),Size:e.Tsize})))};else{if("object"!=typeof t)throw new Error("obj not recognized");d.Data=l(t.Data),d.Links=t.Links}t instanceof Uint8Array&&r.enc?a=t:(r.enc="json",a=f(JSON.stringify(d)));const h=new u,p=c(h.signal,r.signal),g=await e.post("object/put",{timeout:r.timeout,signal:p,searchParams:o(r),...await s(a,h,r.headers)}),{Hash:m}=await g.json();return new n(m)}))},17767:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async(t,r={})=>(await e.post("object/stat",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:`${t instanceof Uint8Array?new n(t):t}`,...r}),headers:r.headers})).json()))},71279:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(76632),a=r(84084);e.exports=i((e=>async function*(t,r={}){for await(const{path:i,recursive:o,metadata:c}of s(t)){const t=await e.post("pin/add",{timeout:r.timeout,signal:r.signal,searchParams:a({...r,arg:i,recursive:o,metadata:c?JSON.stringify(c):void 0,stream:!0}),headers:r.headers});for await(const e of t.ndjson())if(e.Pins)for(const t of e.Pins)yield new n(t);else yield new n(e)}}))},16737:(e,t,r)=>{"use strict";const n=r(71279),i=r(93093),s=r(18046);e.exports=e=>{const t=n(e);return s((()=>async function(e,r={}){return i(t({path:e,...r},r))}))(e)}},62634:(e,t,r)=>{"use strict";const n=r(27035);e.exports=e=>({add:r(16737)(e),addAll:r(71279)(e),ls:r(48683)(e),rm:r(42375)(e),rmAll:r(1717)(e),remote:new n(e)})},48683:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);function a(e,t,r){const i={type:e,cid:new n(t)};return r&&(i.metadata=r),i}e.exports=i((e=>async function*(t={}){t.paths&&(t.paths=Array.isArray(t.paths)?t.paths:[t.paths]);const r=await e.post("pin/ls",{timeout:t.timeout,signal:t.signal,searchParams:s({...t,arg:(t.paths||[]).map((e=>`${e}`)),stream:!0}),headers:t.headers});for await(const e of r.ndjson()){if(e.Keys){for(const t of Object.keys(e.Keys))yield a(e.Keys[t].Type,t,e.Keys[t].Metadata);return}yield a(e.Type,e.Cid,e.Metadata)}}))},27035:(e,t,r)=>{"use strict";const n=r(45062),i=r(68193),s=r(94279),a=r(84084);class o{constructor(e){this.client=new i(e),this.service=new s(e)}add(e,t){return o.add(this.client,e,t)}static async add(e,t,{timeout:r,signal:n,headers:i,...s}){const a=await e.post("pin/remote/add",{timeout:r,signal:n,headers:i,searchParams:f({cid:t,...s})});return o.decodePin(await a.json())}static decodePin({Name:e,Status:t,Cid:r}){return{cid:new n(r),name:e,status:t}}ls(e){return o.ls(this.client,e)}static async*ls(e,{timeout:t,signal:r,headers:n,...i}){const s=await e.post("pin/remote/ls",{signal:r,timeout:t,headers:n,searchParams:l(i)});for await(const e of s.ndjson())yield o.decodePin(e)}rm(e){return o.rm(this.client,{...e,all:!1})}rmAll(e){return o.rm(this.client,{...e,all:!0})}static async rm(e,{timeout:t,signal:r,headers:n,...i}){await e.post("pin/remote/rm",{timeout:t,signal:r,headers:n,searchParams:l(i)})}}const c=e=>{if("string"==typeof e&&""!==e)return e;throw new TypeError("service name must be passed")},u=e=>{if(n.isCID(e))return e.toString();throw new TypeError(`CID instance expected instead of ${e}`)},l=({service:e,cid:t,name:r,status:n,all:i})=>{const s=a({service:c(e),name:r,force:!!i||void 0});if(t)for(const e of t)s.append("cid",u(e));if(n)for(const e of n)s.append("status",e);return s},f=({cid:e,service:t,background:r,name:n,origins:i})=>{const s=a({arg:u(e),service:c(t),name:n,background:!!r||void 0});if(i)for(const e of i)s.append("origin",e.toString());return s};e.exports=o},94279:(e,t,r)=>{"use strict";const n=r(68193),i=r(84084);class s{constructor(e){this.client=new n(e)}static async add(e,t,r){const{endpoint:n,key:a,headers:o,timeout:c,signal:u}=r;await e.post("pin/remote/service/add",{timeout:c,signal:u,searchParams:i({arg:[t,s.encodeEndpoint(n),a]}),headers:o})}static encodeEndpoint(e){const t=String(e);if("undefined"===t)throw Error("endpoint is required");return"/"===t[t.length-1]?t.slice(0,-1):t}static async rm(e,t,{timeout:r,signal:n,headers:s}={}){await e.post("pin/remote/service/rm",{timeout:r,signal:n,headers:s,searchParams:i({arg:t})})}static async ls(e,{stat:t,timeout:r,signal:n,headers:a}={}){const o=await e.post("pin/remote/service/ls",{searchParams:!0===t?i({stat:t}):void 0,timeout:r,signal:n,headers:a}),{RemoteServices:c}=await o.json();return c.map(s.decodeRemoteService)}static decodeRemoteService(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:s.decodeStat(e.Stat)}}}static decodeStat(e){switch(e.Status){case"valid":{const{Pinning:t,Pinned:r,Queued:n,Failed:i}=e.PinCount;return{status:"valid",pinCount:{queued:n,pinning:t,pinned:r,failed:i}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}add(e,t){return s.add(this.client,e,t)}rm(e,t){return s.rm(this.client,e,t)}ls(e){return s.ls(this.client,e)}}e.exports=s},1717:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(76632),a=r(84084);e.exports=i((e=>async function*(t,r={}){for await(const{path:i,recursive:o}of s(t)){const t=new URLSearchParams(r.searchParams);t.append("arg",`${i}`),null!=o&&t.set("recursive",String(o));const s=await e.post("pin/rm",{timeout:r.timeout,signal:r.signal,headers:r.headers,searchParams:a({...r,arg:`${i}`,recursive:o})});for await(const e of s.ndjson())e.Pins?yield*e.Pins.map((e=>new n(e))):yield new n(e)}}))},42375:(e,t,r)=>{"use strict";const n=r(1717),i=r(93093),s=r(18046);e.exports=e=>{const t=n(e);return s((()=>async function(e,r={}){return i(t({path:e,...r},r))}))(e)}},94921:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async function*(t,r={}){const i=await e.post("ping",{timeout:r.timeout,signal:r.signal,searchParams:s({arg:`${t}`,...r}),headers:r.headers,transform:n});yield*i.ndjson()}))},58271:(e,t,r)=>{"use strict";e.exports=e=>({ls:r(81557)(e),peers:r(35010)(e),publish:r(9436)(e),subscribe:r(5595)(e),unsubscribe:r(1617)(e)})},81557:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>{const{Strings:r}=await(await e.post("pubsub/ls",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers})).json();return r||[]}))},35010:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t,r={})=>{r||"object"!=typeof t||(r=t||{},t=null);const n=await e.post("pubsub/peers",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers}),{Strings:s}=await n.json();return s||[]}))},9436:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084),s=r(50548),a=r(14982),{AbortController:o}=r(35353);e.exports=n((e=>async(t,r,n={})=>{const c=i({arg:t,...n}),u=new o,l=a(u.signal,n.signal),f=await e.post("pubsub/pub",{timeout:n.timeout,signal:l,searchParams:c,...await s(r,u,n.headers)});await f.text()}))},5595:(e,t,r)=>{"use strict";const n=r(53216),i=r(60128),s=r(66539)("ipfs-http-client:pubsub:subscribe"),a=r(84335),o=r(18046),c=r(84084);e.exports=o(((e,t)=>{const r=a.singleton();return async(t,a,o={})=>{let u,l;o.signal=r.subscribe(t,a,o.signal);const f=new Promise(((e,t)=>{u=e,l=t})),d=setTimeout((()=>u()),1e3);return setTimeout((()=>{e.post("pubsub/sub",{timeout:o.timeout,signal:o.signal,searchParams:c({arg:t,...o}),headers:o.headers}).catch((e=>{r.unsubscribe(t,a),l(e)})).then((e=>{clearTimeout(d),e&&(!async function(e,{onMessage:t,onEnd:r,onError:a}){a=a||s;try{for await(const r of e)try{if(!r.from)continue;t({from:i(n(r.from,"base64pad"),"base58btc"),data:n(r.data,"base64pad"),seqno:n(r.seqno,"base64pad"),topicIDs:r.topicIDs})}catch(e){e.message=`Failed to parse pubsub message: ${e.message}`,a(e,!1,r)}}catch(e){"aborted"!==e.type&&"AbortError"!==e.name&&a(e,!0)}finally{r()}}(e.ndjson(),{onMessage:a,onEnd:()=>r.unsubscribe(t,a),onError:o.onError}),u())}))}),0),f}}))},84335:(e,t,r)=>{"use strict";const{AbortController:n}=r(35353);class i{constructor(){this._subs=new Map}static singleton(){return i.instance||(i.instance=new i),i.instance}subscribe(e,t,r){const i=this._subs.get(e)||[];if(i.find((e=>e.handler===t)))throw new Error(`Already subscribed to ${e} with this handler`);const s=new n;return this._subs.set(e,[{handler:t,controller:s}].concat(i)),r&&r.addEventListener("abort",(()=>this.unsubscribe(e,t))),s.signal}unsubscribe(e,t){const r=this._subs.get(e)||[];let n;t?(this._subs.set(e,r.filter((e=>e.handler!==t))),n=r.filter((e=>e.handler===t))):(this._subs.set(e,[]),n=r),n.forEach((e=>e.controller.abort()))}}i.instance=null,e.exports=i},1617:(e,t,r)=>{"use strict";const n=r(84335);e.exports=e=>{const t=n.singleton();return async(e,r)=>t.unsubscribe(e,r)}},10205:(e,t,r)=>{"use strict";const n=r(45062),i=r(95267),s=r(18046),a=r(84084);e.exports=s(((e,t)=>{const s=async function*(t,r={}){Array.isArray(t)||(t=[t]);const s=await e.post("refs",{timeout:r.timeout,signal:r.signal,searchParams:a({arg:t.map((e=>`${e instanceof Uint8Array?new n(e):e}`)),...r}),headers:r.headers,transform:i});yield*s.ndjson()};return s.local=r(32381)(t),s}))},32381:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async function*(t={}){const r=await e.post("refs/local",{timeout:t.timeout,signal:t.signal,transform:n,searchParams:s(t),headers:t.headers});yield*r.ndjson()}))},71591:(e,t,r)=>{"use strict";const n=r(45062),i=r(18046),s=r(84084);e.exports=i((e=>async function*(t={}){const r=await e.post("repo/gc",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers,transform:e=>({err:e.Error?new Error(e.Error):null,cid:(e.Key||{})["/"]?new n(e.Key["/"]):null})});yield*r.ndjson()}))},9679:(e,t,r)=>{"use strict";e.exports=e=>({gc:r(71591)(e),stat:r(6423)(e),version:r(75862)(e)})},6423:(e,t,r)=>{"use strict";const{BigNumber:n}=r(44431),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>{const r=await e.post("repo/stat",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers}),i=await r.json();return{numObjects:new n(i.NumObjects),repoSize:new n(i.RepoSize),repoPath:i.RepoPath,version:i.Version,storageMax:new n(i.StorageMax)}}))},75862:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>(await(await e.post("repo/version",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers})).json()).Version))},48485:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async function(t,r={}){const n=await e.post("resolve",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t,...r}),headers:r.headers}),{Path:s}=await n.json();return s}))},18801:(e,t,r)=>{"use strict";const{BigNumber:n}=r(44431),i=r(18046),s=r(84084);e.exports=i((e=>async function*(t={}){const r=await e.post("stats/bw",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers,transform:e=>({totalIn:new n(e.TotalIn),totalOut:new n(e.TotalOut),rateIn:new n(e.RateIn),rateOut:new n(e.RateOut)})});yield*r.ndjson()}))},46506:(e,t,r)=>{"use strict";e.exports=e=>({bitswap:r(60524)(e),bw:r(18801)(e),repo:r(6423)(e)})},45401:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t={})=>{const r=await e.post("shutdown",{timeout:t.timeout,signal:t.signal,searchParams:i(t),headers:t.headers});await r.text()}))},31916:(e,t,r)=>{"use strict";const n=r(40510),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>{const r=await e.post("swarm/addrs",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers}),{Addrs:i}=await r.json();return Object.keys(i).map((e=>({id:e,addrs:(i[e]||[]).map((e=>n(e)))})))}))},44450:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t,r={})=>{t=Array.isArray(t)?t:[t];const n=await e.post("swarm/connect",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t.map((e=>`${e}`)),...r}),headers:r.headers}),{Strings:s}=await n.json();return s||[]}))},28359:(e,t,r)=>{"use strict";const n=r(18046),i=r(84084);e.exports=n((e=>async(t,r={})=>{t=Array.isArray(t)?t:[t];const n=await e.post("swarm/disconnect",{timeout:r.timeout,signal:r.signal,searchParams:i({arg:t.map((e=>`${e}`)),...r}),headers:r.headers}),{Strings:s}=await n.json();return s||[]}))},8297:(e,t,r)=>{"use strict";e.exports=e=>({addrs:r(31916)(e),connect:r(44450)(e),disconnect:r(28359)(e),localAddrs:r(56876)(e),peers:r(48746)(e)})},56876:(e,t,r)=>{"use strict";const n=r(40510),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>{const r=await e.post("swarm/addrs/local",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers}),{Strings:i}=await r.json();return(i||[]).map((e=>n(e)))}))},48746:(e,t,r)=>{"use strict";const n=r(40510),i=r(18046),s=r(84084);e.exports=i((e=>async(t={})=>((await(await e.post("swarm/peers",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers})).json()).Peers||[]).map((e=>{const t={};try{t.addr=n(e.Addr),t.peer=e.Peer}catch(r){t.error=r,t.rawPeerInfo=e}return e.Muxer&&(t.muxer=e.Muxer),e.Latency&&(t.latency=e.Latency),e.Streams&&(t.streams=e.Streams),null!=e.Direction&&(t.direction=e.Direction),t}))))},19825:(e,t,r)=>{"use strict";const n=r(95267),i=r(18046),s=r(84084);e.exports=i((e=>async function(t={}){const r=await e.post("version",{timeout:t.timeout,signal:t.signal,searchParams:s(t),headers:t.headers});return n(await r.json())}))},33235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{ledger:a.default.variadic((0,i.caller)("ipfs.bitswap.ledger",e)),reprovide:a.default.variadic((0,i.caller)("ipfs.bitswap.reprovide",e)),stat:(0,a.default)((0,o.post)((0,i.caller)("ipfs.bitswap.stat",e),(function(e){return e&&((0,c.isBigJson)(e.blocksReceived)&&(e.blocksReceived=(0,c.bigFromJson)(e.blocksReceived)),(0,c.isBigJson)(e.dataReceived)&&(e.dataReceived=(0,c.bigFromJson)(e.dataReceived)),(0,c.isBigJson)(e.blocksSent)&&(e.blocksSent=(0,c.bigFromJson)(e.blocksSent)),(0,c.isBigJson)(e.dataSent)&&(e.dataSent=(0,c.bigFromJson)(e.dataSent)),(0,c.isBigJson)(e.dupBlksReceived)&&(e.dupBlksReceived=(0,c.bigFromJson)(e.dupBlksReceived)),(0,c.isBigJson)(e.dupDataReceived)&&(e.dupDataReceived=(0,c.bigFromJson)(e.dupDataReceived))),e}))),unwant:a.default.variadic((0,i.caller)("ipfs.bitswap.unwant",e)),wantlist:a.default.variadic((0,i.caller)("ipfs.bitswap.wantlist",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(44843)},89306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{put:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,c.preBlockToJson)(0),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[1]&&t[1].cid&&(t[1].cid=(0,u.cidToJson)(t[1].cid)),t}),(0,o.post)((0,i.caller)("ipfs.block.put",e),c.blockFromJson))),get:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,o.post)((0,i.caller)("ipfs.block.get",e),c.blockFromJson))),stat:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,i.caller)("ipfs.block.stat",e)))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(96277),u=r(21232),l=r(80871)},10592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{add:a.default.variadic((0,o.pre)((0,u.preMultiaddrToJson)(0),(0,o.post)((0,i.caller)("ipfs.bootstrap.add",e),(0,c.postArrayOf)("Peers",u.isMultiaddrJson,u.multiaddrFromJson)))),list:(0,a.default)((0,o.post)((0,i.caller)("ipfs.bootstrap.list",e),(0,c.postArrayOf)("Peers",u.isMultiaddrJson,u.multiaddrFromJson))),rm:a.default.variadic((0,o.pre)((0,u.preMultiaddrToJson)(0),(0,o.post)((0,i.caller)("ipfs.bootstrap.rm",e),(0,c.postArrayOf)("Peers",u.isMultiaddrJson,u.multiaddrFromJson))))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(86865),u=r(97842)},16103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{set:a.default.variadic((0,o.pre)((0,c.preBufferToJson)(1),(0,i.caller)("ipfs.config.set",e))),get:a.default.variadic((0,i.caller)("ipfs.config.get",e)),replace:a.default.variadic((0,i.caller)("ipfs.config.replace",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(80871)},99287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{put:i.default.variadic((0,s.pre)((0,a.preDagNodeToJson)(0),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]&&!(0,a.isDagNodeJson)(t[0])&&(t[0]=(0,u.default)(t[0],c.isBuffer,c.bufferToJson)),t[1]&&t[1].cid&&((0,c.isBuffer)(t[1].cid)?t[1].cid=(0,c.bufferToJson)(t[1].cid):(0,o.isCid)(t[1].cid)&&(t[1].cid=(0,o.cidToJson)(t[1].cid))),t}),(0,s.post)((0,n.caller)("ipfs.dag.put",e),o.cidFromJson))),get:i.default.variadic((0,s.pre)((0,c.preBufferToJson)(0),(0,o.preCidToJson)(0),(0,s.post)((0,n.caller)("ipfs.dag.get",e),(function(e){return(0,a.isDagNodeJson)(e.value)?(0,a.dagNodeFromJson)(e.value).then((function(e){return{value:e}})):((0,c.isBufferJson)(e.value)?e.value=(0,c.bufferFromJson)(e.value):e.value&&(e.value=(0,u.default)(e.value,c.isBufferJson,c.bufferFromJson)),e)})))),tree:i.default.variadic((0,s.pre)((0,c.preBufferToJson)(0),(0,o.preCidToJson)(0),(0,n.caller)("ipfs.dag.tree",e)))}};var n=r(7429),i=l(r(99583)),s=r(63407),a=r(23478),o=r(21232),c=r(80871),u=l(r(25762));function l(e){return e&&e.__esModule?e:{default:e}}},39799:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{put:a.default.variadic((0,i.caller)("ipfs.dht.put",e)),get:a.default.variadic((0,i.caller)("ipfs.dht.get",e)),findprovs:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,o.post)((0,i.caller)("ipfs.dht.findprovs",e),(function(e){return Promise.all(e.map((function(e){return(0,u.isPeerInfo)(e)?(0,u.peerInfoFromJson)(e):Promise.resolve(e)})))})))),findpeer:a.default.variadic((0,o.pre)((0,u.prePeerIdToJson)(0),(0,o.post)((0,i.caller)("ipfs.dht.findpeer",e),(function(e){return(0,u.isPeerInfo)(e)?(0,u.peerInfoFromJson)(e):e})))),provide:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,l.preArrayOfBufferToJson)(0),(0,c.preCidToJson)(0),(0,c.preArrayOfCidToJson)(0),(0,i.caller)("ipfs.dht.provide",e))),query:a.default.variadic((0,o.pre)((0,u.prePeerIdToJson)(0),(0,o.post)((0,i.caller)("ipfs.dht.query",e),(function(e){return Promise.all(e.map((function(e){return(0,u.isPeerInfo)(e)?(0,u.peerInfoFromJson)(e):Promise.resolve(e)})))}))))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(21232),u=r(55112),l=r(80871)},78830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,c={add:(r=i.default.variadic((0,d.pre)((function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i={pms:e};return r[1]&&r[1].progress&&(i.onProgressIncrement=v(r[1].progress),delete r[1].progress),r[0]=Array.isArray(r[0])?r[0].map((function(e){return k(e,i)})):k(r[0],i),r}),(0,n.caller)("ipfs.files.add",e))),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&(0,l.isSource)(t[0])&&(t=t.concat(null)),r.apply(void 0,y(t))}),addReadableStream:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=[];return new s.Transform({objectMode:!0,transform:function(e,t,r){n.push(e),r()},flush:function(e){var r=this;c.add.apply(c,[n].concat(t,(function(t,n){if(t)return e(t);n.forEach((function(e){return r.push(e)})),e()})))}})},addPullStream:(t=(0,n.caller)("ipfs.files.addPullStream",e),function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=h.default.source(),c=(0,p.default)(),u={pms:e};n[0]&&n[0].progress&&(u.onProgressIncrement=v(n[0].progress),delete n[0].progress);var l=(0,f.default)(),d=function(t){return o.default.sink(l,e)(t),s};return t.apply(void 0,[(0,m.functionToJson)(l)].concat(n)).then((function(t){return s.resolve(o.default.source(t.name,e))})).catch((function(e){return c.abort(e)})),(0,a.default)(a.default.map((function(e){return k(e,u)})),d,c)})};return c};var n=r(7429),i=b(r(99583)),s=r(88473),a=b(r(58218)),o=b(r(92874)),c=b(r(34019)),u=b(r(24970)),l=r(25853),f=b(r(14670)),d=r(63407),h=b(r(55478)),p=b(r(26629)),g=r(80871),m=r(74634);function b(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function v(e){var t=0;return function(r){return e(t+=r),t}}function k(e,t){return t=t||{},(0,g.isBuffer)(e)?(t.onProgressIncrement&&t.onProgressIncrement(e.length),(0,g.bufferToJson)(e)):u.default.readable(e)?S(c.default.source(e),t):(0,l.isSource)(e)?S(e,t):e&&e.content?Object.assign({},e,{content:k(e.content,t)}):e}var S=function(e,t){t=t||{};var r=(0,f.default)();return(0,a.default)(e,o.default.sink(r,Object.assign({},t.pms,{post:function(e){return(0,g.isBuffer)(e.data)&&(t.onProgressIncrement&&t.onProgressIncrement(e.data.length),e.data=(0,g.bufferToJson)(e.data)),e}}))),(0,m.functionToJson)(r)}},74651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r={cat:i.default.variadic((0,c.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,c.post)((0,n.caller)("ipfs.files.cat",e),l.bufferFromJson))),catReadableStream:function(){return a.default.source(r.catPullStream.apply(r,arguments))},catPullStream:(t=(0,c.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,c.post)((0,n.caller)("ipfs.files.catPullStream",e),(function(t){return o.default.source(t.name,Object.assign({},e,{post:function(e){return(0,l.isBufferJson)(e.data)&&(e.data=(0,l.bufferFromJson)(e.data)),e}}))}))),function(){var e=s.default.source();return t.apply(void 0,arguments).then((function(t){return e.resolve(t)})).catch((function(t){return e.abort(t)})),e})};return r};var n=r(7429),i=f(r(99583)),s=f(r(55478)),a=f(r(54762)),o=f(r(92874)),c=r(63407),u=r(21232),l=r(80871);function f(e){return e&&e.__esModule?e:{default:e}}},94560:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{cp:a.default.variadic((0,i.caller)("ipfs.files.cp",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},11499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{flush:a.default.variadic((0,i.caller)("ipfs.files.flush",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},55772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r={get:i.default.variadic((0,u.pre)((0,f.preBufferToJson)(0),(0,l.preCidToJson)(0),(0,u.post)((0,n.caller)("ipfs.files.get",e),(function(e){return e.map((function(e){return e.content&&(e.content=(0,f.bufferFromJson)(e.content)),e}))})))),getReadableStream:function(){return o.default.source((0,a.default)(r.getPullStream.apply(r,arguments),a.default.map((function(e){return e.content&&(e.content=o.default.source(e.content)),e}))))},getPullStream:(t=(0,u.pre)((0,f.preBufferToJson)(0),(0,l.preCidToJson)(0),(0,u.post)((0,n.caller)("ipfs.files.getPullStream",e),(function(t){return(0,a.default)(c.default.source(t.name,e),a.default.map((function(t){return t.content&&(t.content=c.default.source(t.content.name,Object.assign({},e,{post:function(e){return(0,f.isBufferJson)(e.data)&&(e.data=(0,f.bufferFromJson)(e.data)),e}}))),t})))}))),function(){var e=s.default.source();return t.apply(void 0,arguments).then((function(t){return e.resolve(t)})).catch((function(t){return e.abort(t)})),e})};return r};var n=r(7429),i=d(r(99583)),s=d(r(55478)),a=d(r(58218)),o=d(r(54762)),c=d(r(92874)),u=r(63407),l=r(21232),f=r(80871);function d(e){return e&&e.__esModule?e:{default:e}}},43767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.assign((0,n.default)(e),(0,i.default)(e),(0,s.default)(e),(0,a.default)(e),(0,o.default)(e),(0,c.default)(e),(0,u.default)(e),(0,l.default)(e),(0,f.default)(e),(0,d.default)(e),(0,h.default)(e),(0,p.default)(e))};var n=g(r(78830)),i=g(r(74651)),s=g(r(94560)),a=g(r(11499)),o=g(r(55772)),c=g(r(24684)),u=g(r(58601)),l=g(r(6768)),f=g(r(27305)),d=g(r(45763)),h=g(r(7310)),p=g(r(65683));function g(e){return e&&e.__esModule?e:{default:e}}},24684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{ls:a.default.variadic((0,i.caller)("ipfs.files.ls",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},58601:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{mkdir:a.default.variadic((0,i.caller)("ipfs.files.mkdir",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},6768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{mv:a.default.variadic((0,i.caller)("ipfs.files.mv",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},27305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r={read:i.default.variadic((0,c.post)((0,n.caller)("ipfs.files.read",e),u.bufferFromJson)),readReadableStream:function(){return o.default.source(r.readPullStream.apply(r,arguments))},readPullStream:(t=(0,c.post)((0,n.caller)("ipfs.files.readPullStream",e),(function(t){return a.default.source(t.name,Object.assign({},e,{post:function(e){return(0,u.isBufferJson)(e.data)&&(e.data=(0,u.bufferFromJson)(e.data)),e}}))})),function(){var e=s.default.source();return t.apply(void 0,arguments).then((function(t){return e.resolve(t)})).catch((function(t){return e.abort(t)})),e})};return r};var n=r(7429),i=l(r(99583)),s=l(r(55478)),a=l(r(92874)),o=l(r(54762)),c=r(63407),u=r(80871);function l(e){return e&&e.__esModule?e:{default:e}}},45763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{rm:a.default.variadic((0,i.caller)("ipfs.files.rm",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},7310:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{stat:a.default.variadic((0,i.caller)("ipfs.files.stat",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},65683:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{write:a.default.variadic((0,o.pre)((0,c.preBufferToJson)(1),(0,i.caller)("ipfs.files.write",e)))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(80871)},85468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7429),i=E(r(99583)),s=E(r(33235)),a=E(r(89306)),o=E(r(10592)),c=E(r(16103)),u=E(r(99287)),l=E(r(39799)),f=E(r(43767)),d=E(r(91367)),h=E(r(55291)),p=E(r(12364)),g=E(r(6496)),m=E(r(31389)),b=E(r(37604)),y=E(r(85507)),v=E(r(96135)),k=E(r(68646)),S=E(r(40724));function E(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={bitswap:(0,s.default)(e),block:(0,a.default)(e),bootstrap:(0,o.default)(e),config:(0,c.default)(e),dag:(0,u.default)(e),dht:(0,l.default)(e),dns:i.default.variadic((0,n.caller)("ipfs.dns",e)),files:(0,f.default)(e),id:(0,i.default)((0,n.caller)("ipfs.id",e)),key:(0,d.default)(e),name:(0,p.default)(e),object:(0,g.default)(e),pin:(0,m.default)(e),pubsub:(0,y.default)(e),repo:(0,v.default)(e),resolve:i.default.variadic((0,n.caller)("ipfs.resolve",e)),stats:(0,k.default)(e),stop:(0,i.default)((0,n.caller)("ipfs.stop",e)),swarm:(0,S.default)(e),version:(0,i.default)((0,n.caller)("ipfs.version",e))};return Object.assign(t,(0,h.default)(e),(0,b.default)(e)),t.add=t.files.add,t.get=t.files.get,t.cat=t.files.cat,t.stats.bitswap=t.bitswap.stat,t.stats.repo=t.repo.stat,t}},91367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{export:a.default.variadic((0,i.caller)("ipfs.key.export",e)),gen:a.default.variadic((0,i.caller)("ipfs.key.gen",e)),import:a.default.variadic((0,i.caller)("ipfs.key.import",e)),list:(0,a.default)((0,i.caller)("ipfs.key.list",e)),rename:a.default.variadic((0,i.caller)("ipfs.key.rename",e)),rm:a.default.variadic((0,i.caller)("ipfs.key.rm",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},55291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r={ls:i.default.variadic((0,c.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,n.caller)("ipfs.ls",e))),lsReadableStream:function(){return a.default.source(r.lsPullStream.apply(r,arguments))},lsPullStream:(t=(0,c.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,c.post)((0,n.caller)("ipfs.lsPullStream",e),(function(t){return o.default.source(t.name,e)}))),function(){var e=s.default.source();return t.apply(void 0,arguments).then((function(t){return e.resolve(t)})).catch((function(t){return e.abort(t)})),e})};return r};var n=r(7429),i=f(r(99583)),s=f(r(55478)),a=f(r(54762)),o=f(r(92874)),c=r(63407),u=r(21232),l=r(80871);function f(e){return e&&e.__esModule?e:{default:e}}},12364:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{publish:a.default.variadic((0,i.caller)("ipfs.name.publish",e)),resolve:a.default.variadic((0,i.caller)("ipfs.name.resolve",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n}},6496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{new:a.default.variadic((0,o.post)((0,i.caller)("ipfs.object.new",e),(function(e){return(0,c.isDagNodeJson)(e)?(0,c.dagNodeFromJson)(e):e}))),put:a.default.variadic((0,o.pre)((0,c.preDagNodeToJson)(0),(0,l.preBufferToJson)(0),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]&&(0,l.isBuffer)(t[0].Data)&&(t[0]=Object.assign({},t[0],{Data:(0,l.bufferToJson)(t[0].Data)})),t}),(0,o.post)((0,i.caller)("ipfs.object.put",e),(function(e){return(0,c.isDagNodeJson)(e)?(0,c.dagNodeFromJson)(e):e})))),get:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,o.post)((0,i.caller)("ipfs.object.get",e),(function(e){return(0,c.isDagNodeJson)(e)?(0,c.dagNodeFromJson)(e):e})))),data:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,o.post)((0,i.caller)("ipfs.object.data",e),l.bufferFromJson))),links:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,o.post)((0,i.caller)("ipfs.object.links",e),(function(e){return e.map(c.dagLinkFromJson)})))),stat:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,i.caller)("ipfs.object.stat",e))),patch:{addLink:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,c.preDagLinkToJson)(1),(0,o.post)((0,i.caller)("ipfs.object.patch.addLink",e),c.dagNodeFromJson))),rmLink:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,c.preDagLinkToJson)(1),(0,o.post)((0,i.caller)("ipfs.object.patch.rmLink",e),c.dagNodeFromJson))),appendData:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,l.preBufferToJson)(1),(0,o.post)((0,i.caller)("ipfs.object.patch.appendData",e),c.dagNodeFromJson))),setData:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preCidToJson)(0),(0,l.preBufferToJson)(1),(0,o.post)((0,i.caller)("ipfs.object.patch.setData",e),c.dagNodeFromJson)))}}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(23478),u=r(21232),l=r(80871)},31389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{add:a.default.variadic((0,o.pre)((0,u.preBufferToJson)(0),(0,c.preCidToJson)(0),(0,i.caller)("ipfs.pin.add",e))),rm:a.default.variadic((0,o.pre)((0,u.preBufferToJson)(0),(0,c.preCidToJson)(0),(0,i.caller)("ipfs.pin.rm",e))),ls:a.default.variadic((0,o.pre)((0,u.preBufferToJson)(0),(0,c.preCidToJson)(0),(0,i.caller)("ipfs.pin.ls",e)))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(21232),u=r(80871)},37604:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r={ping:i.default.variadic((0,n.caller)("ipfs.ping",e)),pingPullStream:(t=(0,c.post)((0,n.caller)("ipfs.pingPullStream",e),(function(t){return o.default.source(t.name,e)})),function(){var e=s.default.source();return t.apply(void 0,arguments).then((function(t){return e.resolve(t)})).catch((function(t){return e.abort(t)})),e}),pingReadableStream:function(){return a.default.source(r.pingPullStream.apply(r,arguments))}};return r};var n=r(7429),i=u(r(99583)),s=u(r(55478)),a=u(r(54762)),o=u(r(92874)),c=r(63407);function u(e){return e&&e.__esModule?e:{default:e}}},85507:(e,t,r)=>{"use strict";var n=r(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],r={publish:s.default.variadic((0,o.pre)((0,u.preBufferToJson)(1),(0,i.caller)("ipfs.pubsub.publish",e))),subscribe:function(r,s,l,f){var d=void 0;"function"==typeof l&&(f=l,l={});var h=(0,o.pre)((function(){for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];var p="ipfs.pubsub.subscribe.handler."+(0,a.default)();return d={topic:r,handler:s,rpc:{fnName:p,exposedFn:(0,i.expose)(p,(0,o.pre)((function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]&&((0,u.isBufferJson)(t[0].data)&&(t[0].data=(0,u.bufferFromJson)(t[0].data)),(0,u.isBufferJson)(t[0].seqno)&&(t[0].seqno=(0,u.bufferFromJson)(t[0].seqno))),t}),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.nextTick((function(){return s.apply(void 0,t)})),Promise.resolve()})),e)}},t.push(d),f[1]=(0,c.functionToJson)(p),f}),(function(){return(0,i.caller)("ipfs.pubsub.subscribe",e).apply(void 0,arguments).catch((function(e){throw d.rpc.exposedFn.close(),t.splice(t.indexOf(d),1),e}))}));if(!f)return h(r,s,l);h(r,s,l).then((function(e){return n.nextTick((function(){return f(null,e)}))})).catch((function(e){return n.nextTick((function(){return f(e)}))}))},unsubscribe:s.default.variadic((0,o.pre)((function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=t.find((function(e){return e.topic===i&&e.handler===r[1]}));return s&&(r[1]=(0,c.functionToJson)(s.rpc.fnName),s.rpc.exposedFn.close(),t.splice(t.indexOf(s),1)),r}),(0,i.caller)("ipfs.pubsub.unsubscribe",e))),peers:s.default.variadic((0,i.caller)("ipfs.pubsub.peers",e)),ls:s.default.variadic((0,i.caller)("ipfs.pubsub.ls",e)),setMaxListeners:function(){return r}};return r};var i=r(7429),s=l(r(99583)),a=l(r(14670)),o=r(63407),c=r(74634),u=r(80871);function l(e){return e&&e.__esModule?e:{default:e}}},96135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{gc:a.default.variadic((0,i.caller)("ipfs.repo.gc",e)),stat:a.default.variadic((0,o.post)((0,i.caller)("ipfs.repo.stat",e),(function(e){return e&&((0,c.isBigJson)(e.numObjects)&&(e.numObjects=(0,c.bigFromJson)(e.numObjects)),(0,c.isBigJson)(e.repoSize)&&(e.repoSize=(0,c.bigFromJson)(e.repoSize)),(0,c.isBigJson)(e.storageMax)&&(e.storageMax=(0,c.bigFromJson)(e.storageMax))),e}))),version:(0,a.default)((0,i.caller)("ipfs.repo.version",e))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(44843)},68646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r={bw:i.default.variadic((0,s.post)((0,n.caller)("ipfs.stats.bw",e),(function(e){return e&&((0,u.isBigJson)(e.totalIn)&&(e.totalIn=(0,u.bigFromJson)(e.totalIn)),(0,u.isBigJson)(e.totalOut)&&(e.totalOut=(0,u.bigFromJson)(e.totalOut)),(0,u.isBigJson)(e.rateIn)&&(e.rateIn=(0,u.bigFromJson)(e.rateIn)),(0,u.isBigJson)(e.rateOut)&&(e.rateOut=(0,u.bigFromJson)(e.rateOut))),e}))),bwReadableStream:function(){return c.default.source(r.bwPullStream.apply(r,arguments))},bwPullStream:(t=(0,s.post)((0,n.caller)("ipfs.stats.bwPullStream",e),(function(t){return o.default.source(t.name,Object.assign({},e,{post:function(e){var t=e.data;return t&&((0,u.isBigJson)(t.totalIn)&&(t.totalIn=(0,u.bigFromJson)(t.totalIn)),(0,u.isBigJson)(t.totalOut)&&(t.totalOut=(0,u.bigFromJson)(t.totalOut)),(0,u.isBigJson)(t.rateIn)&&(t.rateIn=(0,u.bigFromJson)(t.rateIn)),(0,u.isBigJson)(t.rateOut)&&(t.rateOut=(0,u.bigFromJson)(t.rateOut))),e}}))})),function(){var e=a.default.source();return t.apply(void 0,arguments).then((function(t){return e.resolve(t)})).catch((function(t){return e.abort(t)})),e})};return r};var n=r(7429),i=l(r(99583)),s=r(63407),a=l(r(55478)),o=l(r(92874)),c=l(r(54762)),u=r(44843);function l(e){return e&&e.__esModule?e:{default:e}}},40724:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{peers:a.default.variadic((0,o.post)((0,i.caller)("ipfs.swarm.peers",e),(function(e){return Promise.all(e.map((function(e){return e.addr=(0,u.multiaddrFromJson)(e.addr),(0,c.isPeerInfoJson)(e.peer)?(0,c.peerInfoFromJson)(e.peer).then((function(t){return e.peer=t,e})):(0,c.isPeerIdJson)(e.peer)?(0,c.peerIdFromJson)(e.peer).then((function(t){return e.peer=t,e})):Promise.resolve(e)})))}))),addrs:(0,a.default)((0,o.post)((0,i.caller)("ipfs.swarm.addrs",e),(function(e){return Promise.all(e.map(c.peerInfoFromJson))}))),localAddrs:(0,a.default)((0,o.post)((0,i.caller)("ipfs.swarm.localAddrs",e),(function(e){return e.map(u.multiaddrFromJson)}))),connect:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preMultiaddrToJson)(0),(0,i.caller)("ipfs.swarm.connect",e))),disconnect:a.default.variadic((0,o.pre)((0,l.preBufferToJson)(0),(0,u.preMultiaddrToJson)(0),(0,i.caller)("ipfs.swarm.disconnect",e)))}};var n,i=r(7429),s=r(99583),a=(n=s)&&n.__esModule?n:{default:n},o=r(63407),c=r(55112),u=r(97842),l=r(80871)},21114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16975);Object.defineProperty(t,"createProxyServer",{enumerable:!0,get:function(){return s(n).default}}),Object.defineProperty(t,"closeProxyServer",{enumerable:!0,get:function(){return n.closeProxyServer}});var i=r(85468);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createProxyClient",{enumerable:!0,get:function(){return s(i).default}})},44843:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBigJson=t.isBig=t.bigToJson=t.bigFromJson=void 0;var n,i=r(93302),s=(n=i)&&n.__esModule?n:{default:n};t.bigFromJson=function(e){return(0,s.default)(e.value)},t.bigToJson=function(e){return{__ipfsPostMsgProxyType:"Big",value:e.toJSON()}},t.isBig=function(e){return e&&e.constructor&&null!=e.constructor.DP},t.isBigJson=function(e){return e&&"Big"===e.__ipfsPostMsgProxyType}},96277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preBlockToJson=t.preBlockFromJson=t.isBlockJson=t.isBlock=t.blockFromJson=t.blockToJson=void 0;var n,i=r(66346),s=(n=i)&&n.__esModule?n:{default:n},a=r(21232),o=r(80871);var c=t.blockToJson=function(e){return{__ipfsPostMsgProxyType:"Block",cid:(0,a.cidToJson)(e.cid),data:(0,o.bufferToJson)(e.data)}},u=t.blockFromJson=function(e){var t=(0,a.cidFromJson)(e.cid),r=(0,o.bufferFromJson)(e.data);return new s.default(r,t)},l=t.isBlock=function(e){return e&&s.default.isBlock(e)},f=t.isBlockJson=function(e){return e&&"Block"===e.__ipfsPostMsgProxyType};t.preBlockFromJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(r[e])&&(r[e]=u(r[e])),r}},t.preBlockToJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return l(r[e])&&(r[e]=c(r[e])),r}}},80871:(e,t,r)=>{"use strict";var n=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.preArrayOfBufferFromJson=t.preArrayOfBufferToJson=t.preBufferToJson=t.preBufferFromJson=t.isBufferJson=t.isBuffer=t.bufferToJson=t.bufferFromJson=void 0;var i=r(86865),s=t.bufferFromJson=function(e){return n.from(JSON.parse(e.data).data)},a=t.bufferToJson=function(e){return{__ipfsPostMsgProxyType:"Buffer",data:JSON.stringify(e)}},o=t.isBuffer=n.isBuffer,c=t.isBufferJson=function(e){return e&&"Buffer"===e.__ipfsPostMsgProxyType};t.preBufferFromJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return c(r[e])&&(r[e]=s(r[e])),r}},t.preBufferToJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return o(r[e])&&(r[e]=a(r[e])),r}},t.preArrayOfBufferToJson=function(e){return(0,i.preArrayOf)(e,o,a)},t.preArrayOfBufferFromJson=function(e){return(0,i.preArrayOf)(e,c,s)}},21232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preArrayOfCidFromJson=t.preArrayOfCidToJson=t.preCidToJson=t.preCidFromJson=t.isCidJson=t.isCid=t.cidToJson=t.cidFromJson=void 0;var n,i=r(26451),s=(n=i)&&n.__esModule?n:{default:n},a=r(80871),o=r(86865);var c=t.cidFromJson=function(e){return new s.default(e.version,e.codec,(0,a.bufferFromJson)(e.hash))},u=t.cidToJson=function(e){return{__ipfsPostMsgProxyType:"CID",codec:e.codec,version:e.version,hash:(0,a.bufferToJson)(e.multihash)}},l=t.isCid=s.default.isCID,f=t.isCidJson=function(e){return e&&"CID"===e.__ipfsPostMsgProxyType};t.preCidFromJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(r[e])&&(r[e]=c(r[e])),r}},t.preCidToJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return l(r[e])&&(r[e]=u(r[e])),r}},t.preArrayOfCidToJson=function(e){return(0,o.preArrayOf)(e,l,u)},t.preArrayOfCidFromJson=function(e){return(0,o.preArrayOf)(e,f,c)}},23478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preDagLinkToJson=t.preDagLinkFromJson=t.isDagLinkJson=t.isDagLink=t.dagLinkToJson=t.dagLinkFromJson=t.preDagNodeToJson=t.preDagNodeFromJson=t.isDagNodeJson=t.isDagNode=t.dagNodeToJson=t.dagNodeFromJson=void 0;var n=r(76495),i=r(80871),s=t.dagNodeFromJson=function(e){return new Promise((function(t,r){var s=e.links.map(u);n.DAGNode.create((0,i.bufferFromJson)(e.data),s,(function(e,n){if(e)return r(e);t(n)}))}))},a=t.dagNodeToJson=function(e){return{__ipfsPostMsgProxyType:"DAGNode",links:e.links.map(l),data:(0,i.bufferToJson)(e.data)}},o=t.isDagNode=function(e){return n.DAGNode.isDAGNode(e)},c=t.isDagNodeJson=function(e){return e&&"DAGNode"===e.__ipfsPostMsgProxyType},u=(t.preDagNodeFromJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return c(r[e])?s(r[e]).then((function(t){return r[e]=t,r})):r}},t.preDagNodeToJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return o(r[e])&&(r[e]=a(r[e])),r}},t.dagLinkFromJson=function(e){return new n.DAGLink(e.name,e.size,e.multihash)}),l=t.dagLinkToJson=function(e){return Object.assign({__ipfsPostMsgProxyType:"DAGLink"},e.toJSON())},f=t.isDagLink=function(e){return n.DAGLink.isDAGLink(e)},d=t.isDagLinkJson=function(e){return e&&"DAGLink"===e.__ipfsPostMsgProxyType};t.preDagLinkFromJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(r[e])&&(r[e]=u(r[e])),r}},t.preDagLinkToJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(r[e])&&(r[e]=l(r[e])),r}}},74634:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.functionToJson=function(e){return{__ipfsPostMsgProxyType:"Function",name:e}},t.isFunctionJson=function(e){return e&&"Function"===e.__ipfsPostMsgProxyType}},97842:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preMultiaddrToJson=t.preMultiaddrFromJson=t.isMultiaddrJson=t.isMultiaddr=t.multiaddrToJson=t.multiaddrFromJson=void 0;var n,i=r(97894),s=(n=i)&&n.__esModule?n:{default:n};var a=t.multiaddrFromJson=function(e){return new s.default(e.multiaddr)},o=t.multiaddrToJson=function(e){return{__ipfsPostMsgProxyType:"Multiaddr",multiaddr:e.toString()}},c=t.isMultiaddr=function(e){return e&&s.default.isMultiaddr(e)},u=t.isMultiaddrJson=function(e){return e&&"Multiaddr"===e.__ipfsPostMsgProxyType};t.preMultiaddrFromJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(r[e])&&(r[e]=a(r[e])),r}},t.preMultiaddrToJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return c(r[e])&&(r[e]=o(r[e])),r}}},55112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prePeerIdToJson=t.prePeerIdFromJson=t.isPeerIdJson=t.isPeerId=t.peerIdToJson=t.peerIdFromJson=t.prePeerInfoToJson=t.prePeerInfoFromJson=t.isPeerInfoJson=t.isPeerInfo=t.peerInfoToJson=t.peerInfoFromJson=void 0;var n=a(r(32916)),i=a(r(6510)),s=r(97842);function a(e){return e&&e.__esModule?e:{default:e}}var o=t.peerInfoFromJson=function(e){return f(e.id).then((function(t){var r=new n.default(t);return e.multiaddrs.forEach((function(e){r.multiaddrs.add((0,s.multiaddrFromJson)(e))})),e._connectedMultiaddr&&r.connect((0,s.multiaddrFromJson)(e._connectedMultiaddr)),r}))},c=t.peerInfoToJson=function(e){return{__ipfsPostMsgProxyType:"PeerInfo",id:d(e.id),multiaddrs:e.multiaddrs.toArray().map(s.multiaddrToJson),_connectedMultiaddr:e._connectedMultiaddr?(0,s.multiaddrToJson)(e._connectedMultiaddr):null}},u=t.isPeerInfo=n.default.isPeerInfo,l=t.isPeerInfoJson=function(e){return e&&"PeerInfo"===e.__ipfsPostMsgProxyType},f=(t.prePeerInfoFromJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return l(r[e])&&(r[e]=o(r[e])),r}},t.prePeerInfoToJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(r[e])&&(r[e]=c(r[e])),r}},t.peerIdFromJson=function(e){return new Promise((function(t,r){i.default.createFromJSON(e,(function(e,n){if(e)return r(e);t(n)}))}))}),d=t.peerIdToJson=function(e){return Object.assign({__ipfsPostMsgProxyType:"PeerId"},e.toJSON())},h=t.isPeerId=i.default.isPeerId,p=t.isPeerIdJson=function(e){return e&&"PeerId"===e.__ipfsPostMsgProxyType};t.prePeerIdFromJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(r[e])&&(r[e]=f(r[e])),r}},t.prePeerIdToJson=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(r[e])&&(r[e]=d(r[e])),r}}},25762:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r,n){if(!function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t||"[object Array]"===t}(t))return t;if(Array.isArray(t))return t.map((function(t,i){return r(t)?n(t):e(t,r,n)}));return Object.keys(t).reduce((function(i,s){return i[s]=r(t[s])?n(t[s]):e(t[s],r,n),i}),{})}},86865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preArrayOf=function(e,t,r){return function(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return Array.isArray(i[e])&&(i[e]=i[e].map((function(e){return t(e)?r(e):e}))),i}},t.postArrayOf=function(e,t,r){return function(n){return e&&n&&Array.isArray(n[e])?n[e]=n[e].map((function(e){return t(e)?r(e):e})):!e&&Array.isArray(n)&&(n=n.map((function(e){return t(e)?r(e):e}))),n}}},3096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{ledger:(0,n.expose)("ipfs.bitswap.ledger",(function(){var t;return(t=e().bitswap).ledger.apply(t,arguments)}),t),reprovide:(0,n.expose)("ipfs.bitswap.reprovide",(function(){var t;return(t=e().bitswap).reprovide.apply(t,arguments)}),t),stat:(0,n.expose)("ipfs.bitswap.stat",(0,i.post)((function(){var t;return(t=e().bitswap).stat.apply(t,arguments)}),(function(e){return e&&((0,s.isBig)(e.blocksReceived)&&(e.blocksReceived=(0,s.bigToJson)(e.blocksReceived)),(0,s.isBig)(e.dataReceived)&&(e.dataReceived=(0,s.bigToJson)(e.dataReceived)),(0,s.isBig)(e.blocksSent)&&(e.blocksSent=(0,s.bigToJson)(e.blocksSent)),(0,s.isBig)(e.dataSent)&&(e.dataSent=(0,s.bigToJson)(e.dataSent)),(0,s.isBig)(e.dupBlksReceived)&&(e.dupBlksReceived=(0,s.bigToJson)(e.dupBlksReceived)),(0,s.isBig)(e.dupDataReceived)&&(e.dupDataReceived=(0,s.bigToJson)(e.dupDataReceived))),e})),t),unwant:(0,n.expose)("ipfs.bitswap.unwant",(function(){var t;return(t=e().bitswap).unwant.apply(t,arguments)}),t),wantlist:(0,n.expose)("ipfs.bitswap.wantlist",(function(){var t;return(t=e().bitswap).wantlist.apply(t,arguments)}),t)}};var n=r(7429),i=r(63407),s=r(44843)},7882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{put:(0,n.expose)("ipfs.block.put",(0,i.pre)((0,o.preBufferFromJson)(0),(0,s.preBlockFromJson)(0),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[1]&&t[1].cid&&(t[1].cid=(0,a.cidFromJson)(t[1].cid)),t}),t.pre("block.put"),(0,i.post)((function(){var t;return(t=e().block).put.apply(t,arguments)}),s.blockToJson)),t),get:(0,n.expose)("ipfs.block.get",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),t.pre("block.get"),(0,i.post)((function(){var t;return(t=e().block).get.apply(t,arguments)}),s.blockToJson)),t),stat:(0,n.expose)("ipfs.block.stat",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),t.pre("block.stat"),(function(){var t;return(t=e().block).stat.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407),s=r(96277),a=r(21232),o=r(80871)},53562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{add:(0,n.expose)("ipfs.bootstrap.add",(0,i.pre)(t.pre("bootstrap.add"),(0,i.post)((function(){var t;return(t=e().bootstrap).add.apply(t,arguments)}),(0,s.postArrayOf)("Peers",a.isMultiaddr,a.multiaddrToJson))),t),list:(0,n.expose)("ipfs.bootstrap.list",(0,i.pre)(t.pre("bootstrap.list"),(0,i.post)((function(){var t;return(t=e().bootstrap).list.apply(t,arguments)}),(0,s.postArrayOf)("Peers",a.isMultiaddr,a.multiaddrToJson))),t),rm:(0,n.expose)("ipfs.bootstrap.rm",(0,i.pre)(t.pre("bootstrap.rm"),(0,i.post)((function(){var t;return(t=e().bootstrap).rm.apply(t,arguments)}),(0,s.postArrayOf)("Peers",a.isMultiaddr,a.multiaddrToJson))),t)}};var n=r(7429),i=r(63407),s=r(86865),a=r(97842)},3689:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{set:(0,n.expose)("ipfs.config.set",(0,i.pre)((0,s.preBufferFromJson)(1),t.pre("config.set"),(function(){var t;return(t=e().config).set.apply(t,arguments)})),t),get:(0,n.expose)("ipfs.config.get",(0,i.pre)(t.pre("config.get"),(function(){var t;return(t=e().config).get.apply(t,arguments)})),t),replace:(0,n.expose)("ipfs.config.replace",(0,i.pre)(t.pre("config.replace"),(function(){var t;return(t=e().config).set.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407),s=r(80871)},34807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{put:(0,i.expose)("ipfs.dag.put",(0,s.pre)((0,a.preDagNodeFromJson)(0),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]&&!(0,a.isDagNode)(t[0])&&(t[0]=(0,l.default)(t[0],c.isBufferJson,c.bufferFromJson)),t[1]&&t[1].cid&&((0,c.isBufferJson)(t[1].cid)?t[1].cid=(0,c.bufferFromJson)(t[1].cid):(0,o.isCidJson)(t[1].cid)&&(t[1].cid=(0,o.cidFromJson)(t[1].cid))),t}),t.pre("dag.put"),(0,s.post)((function(){var t;return(t=e().dag).put.apply(t,arguments)}),o.cidToJson)),t),get:(0,i.expose)("ipfs.dag.get",(0,s.pre)((0,c.preBufferFromJson)(0),(0,o.preCidFromJson)(0),t.pre("dag.get"),(0,s.post)((function(){var t;return(t=e().dag).get.apply(t,arguments)}),(function(e){return(0,a.isDagNode)(e.value)?e.value=(0,a.dagNodeToJson)(e.value):(0,c.isBuffer)(e.value)?e.value=(0,c.bufferToJson)(e.value):e.value=(0,l.default)(e.value,c.isBuffer,c.bufferToJson),e}))),t),tree:(0,i.expose)("ipfs.dag.tree",(0,s.pre)((0,c.preBufferFromJson)(0),(0,o.preCidFromJson)(0),t.pre("dag.tree"),(function(){var t;return(t=e().dag).tree.apply(t,arguments)})),t)}};var n,i=r(7429),s=r(63407),a=r(23478),o=r(21232),c=r(80871),u=r(25762),l=(n=u)&&n.__esModule?n:{default:n}},54466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{put:(0,n.expose)("ipfs.dht.put",(0,i.pre)(t.pre("dht.put"),(function(){var t;return(t=e().dht).put.apply(t,arguments)})),t),get:(0,n.expose)("ipfs.dht.get",(0,i.pre)(t.pre("dht.get"),(function(){var t;return(t=e().dht).get.apply(t,arguments)})),t),findprovs:(0,n.expose)("ipfs.dht.findprovs",(0,i.pre)((0,o.preBufferFromJson)(0),t.pre("dht.findprovs"),(0,i.post)((function(){var t;return(t=e().dht).findprovs.apply(t,arguments)}),(function(e){return e.map((function(e){return(0,a.isPeerInfo)(e)?(0,a.peerInfoToJson)(e):e}))}))),t),findpeer:(0,n.expose)("ipfs.dht.findpeer",(0,i.pre)((0,a.prePeerIdFromJson)(0),t.pre("dht.findpeer"),(0,i.post)((function(){var t;return(t=e().dht).findpeer.apply(t,arguments)}),(function(e){return(0,a.isPeerInfo)(e)?(0,a.peerInfoToJson)(e):e}))),t),provide:(0,n.expose)("ipfs.dht.provide",(0,i.pre)((0,o.preBufferFromJson)(0),(0,o.preArrayOfBufferFromJson)(0),(0,s.preCidFromJson)(0),(0,s.preArrayOfCidFromJson)(0),t.pre("dht.provide"),(0,i.post)((function(){var t;return(t=e().dht).provide.apply(t,arguments)}),(function(){return null}))),t),query:(0,n.expose)("ipfs.dht.query",(0,i.pre)((0,a.prePeerIdFromJson)(0),t.pre("dht.query"),(0,i.post)((function(){var t;return(t=e().dht).query.apply(t,arguments)}),(function(e){return e.map((function(e){return(0,a.isPeerInfo)(e)?(0,a.peerInfoToJson)(e):e}))}))),t)}};var n=r(7429),i=r(63407),s=r(21232),a=r(55112),o=r(80871)},70118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{add:(0,n.expose)("ipfs.files.add",(0,i.pre)((function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i={pms:t};return r[0]=Array.isArray(r[0])?r[0].map((function(e){return d(e,i)})):d(r[0],i),r}),t.pre("files.add"),(function(){var t;return(t=e().files).add.apply(t,arguments)})),t),addPullStream:(0,n.expose)("ipfs.files.addPullStream",(0,i.pre)(t.pre("files.addPullStream"),(function(){for(var r,n=arguments.length,i=Array(n),c=0;c<n;c++)i[c]=arguments[c];var l=(0,o.default)();return(0,s.default)(a.default.source(i[0].name,t),s.default.map((function(e){return d(e,{pms:t})})),(r=e().files).addPullStream.apply(r,f(i.slice(1))),a.default.sink(l,t)),(0,u.functionToJson)(l)})),t)}};var n=r(7429),i=r(63407),s=l(r(58218)),a=l(r(92874)),o=l(r(14670)),c=r(80871),u=r(74634);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){return t=t||{},(0,c.isBufferJson)(e)?(0,c.bufferFromJson)(e):(0,u.isFunctionJson)(e)?function(e,t){return t=t||{},a.default.source(e.name,Object.assign({},t.pms,{post:function(e){return(0,c.isBufferJson)(e.data)&&(e.data=(0,c.bufferFromJson)(e.data)),e}}))}(e,t):e&&e.content?Object.assign({},e,{content:d(e.content,t)}):e}},67358:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{cat:(0,n.expose)("ipfs.files.cat",(0,i.pre)((0,u.preBufferFromJson)(0),(0,c.preCidFromJson)(0),t.pre("files.cat"),(0,i.post)((function(){var t;return(t=e().files).cat.apply(t,arguments)}),u.bufferToJson)),t),catPullStream:(0,n.expose)("ipfs.files.catPullStream",(0,i.pre)((0,u.preBufferFromJson)(0),(0,c.preCidFromJson)(0),t.pre("files.catPullStream"),(0,i.post)((function(){var t;return(t=e().files).catPullStream.apply(t,arguments)}),(function(e){return new Promise((function(r){var n=(0,o.default)();(0,s.default)(e,a.default.sink(n,Object.assign({},t,{post:function(e){return(0,u.isBuffer)(e.data)&&(e.data=(0,u.bufferToJson)(e.data)),e}}))),r((0,l.functionToJson)(n))}))}))),t)}};var n=r(7429),i=r(63407),s=f(r(58218)),a=f(r(92874)),o=f(r(14670)),c=r(21232),u=r(80871),l=r(74634);function f(e){return e&&e.__esModule?e:{default:e}}},52575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{cp:(0,n.expose)("ipfs.files.cp",(0,i.pre)(t.pre("files.cp"),(0,i.post)((function(){var t;return(t=e().files).cp.apply(t,arguments)}),(function(){return null}))),t)}};var n=r(7429),i=r(63407)},8892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{flush:(0,n.expose)("ipfs.files.flush",(0,i.pre)(t.pre("files.flush"),(0,i.post)((function(){var t;return(t=e().files).flush.apply(t,arguments)}),(function(){return null}))),t)}};var n=r(7429),i=r(63407)},39208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{get:(0,n.expose)("ipfs.files.get",(0,i.pre)((0,u.preBufferFromJson)(0),(0,c.preCidFromJson)(0),t.pre("files.get"),(0,i.post)((function(){var t;return(t=e().files).get.apply(t,arguments)}),(function(e){return e.map((function(e){return e.content&&(e.content=(0,u.bufferToJson)(e.content)),e}))}))),t),getPullStream:(0,n.expose)("ipfs.files.getPullStream",(0,i.pre)((0,u.preBufferFromJson)(0),(0,c.preCidFromJson)(0),t.pre("files.getPullStream"),(0,i.post)((function(){var t;return(t=e().files).getPullStream.apply(t,arguments)}),(function(e){return new Promise((function(r){var n=(0,o.default)();(0,s.default)(e,s.default.map((function(e){if(e.content){var r=(0,o.default)();(0,s.default)(e.content,a.default.sink(r,Object.assign({},t,{post:function(e){return(0,u.isBuffer)(e.data)&&(e.data=(0,u.bufferToJson)(e.data)),e}}))),e.content=(0,l.functionToJson)(r)}return e})),a.default.sink(n,t)),r((0,l.functionToJson)(n))}))}))),t)}};var n=r(7429),i=r(63407),s=f(r(58218)),a=f(r(92874)),o=f(r(14670)),c=r(21232),u=r(80871),l=r(74634);function f(e){return e&&e.__esModule?e:{default:e}}},50262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.assign((0,n.default)(e,t),(0,i.default)(e,t),(0,s.default)(e,t),(0,a.default)(e,t),(0,o.default)(e,t),(0,c.default)(e,t),(0,u.default)(e,t),(0,l.default)(e,t),(0,f.default)(e,t),(0,d.default)(e,t),(0,h.default)(e,t),(0,p.default)(e,t))};var n=g(r(70118)),i=g(r(67358)),s=g(r(52575)),a=g(r(8892)),o=g(r(39208)),c=g(r(17522)),u=g(r(78603)),l=g(r(29889)),f=g(r(62574)),d=g(r(33674)),h=g(r(77200)),p=g(r(70301));function g(e){return e&&e.__esModule?e:{default:e}}},17522:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{ls:(0,n.expose)("ipfs.files.ls",(0,i.pre)(t.pre("files.ls"),(function(){var t;return(t=e().files).ls.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407)},78603:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{mkdir:(0,n.expose)("ipfs.files.mkdir",(0,i.pre)(t.pre("files.mkdir"),(0,i.post)((function(){var t;return(t=e().files).mkdir.apply(t,arguments)}),(function(){return null}))),t)}};var n=r(7429),i=r(63407)},29889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{mv:(0,n.expose)("ipfs.files.mv",(0,i.pre)(t.pre("files.mv"),(0,i.post)((function(){var t;return(t=e().files).mv.apply(t,arguments)}),(function(){return null}))),t)}};var n=r(7429),i=r(63407)},62574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{read:(0,n.expose)("ipfs.files.read",(0,i.pre)(t.pre("files.read"),(0,i.post)((function(){var t;return(t=e().files).read.apply(t,arguments)}),c.bufferToJson)),t),readPullStream:(0,n.expose)("ipfs.files.readPullStream",(0,i.pre)(t.pre("files.readPullStream"),(0,i.post)((function(){var t;return(t=e().files).readPullStream.apply(t,arguments)}),(function(e){return new Promise((function(r){var n=(0,s.default)();(0,a.default)(e,o.default.sink(n,Object.assign({},t,{post:function(e){return(0,c.isBuffer)(e.data)&&(e.data=(0,c.bufferToJson)(e.data)),e}}))),r((0,u.functionToJson)(n))}))}))),t)}};var n=r(7429),i=r(63407),s=l(r(14670)),a=l(r(58218)),o=l(r(92874)),c=r(80871),u=r(74634);function l(e){return e&&e.__esModule?e:{default:e}}},33674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{rm:(0,n.expose)("ipfs.files.rm",(0,i.pre)(t.pre("files.rm"),(0,i.post)((function(){var t;return(t=e().files).rm.apply(t,arguments)}),(function(){return null}))),t)}};var n=r(7429),i=r(63407)},77200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{stat:(0,n.expose)("ipfs.files.stat",(0,i.pre)(t.pre("files.stat"),(function(){var t;return(t=e().files).stat.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407)},70301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{write:(0,n.expose)("ipfs.files.write",(0,i.pre)((0,s.preBufferFromJson)(1),t.pre("files.write"),(function(){var t;return(t=e().files).write.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407),s=r(80871)},16975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeProxyServer=function e(t){return Promise.all(Object.keys(t).map((function(r){return t[r].close?Promise.resolve(t[r].close()):Promise.resolve(e(t[r]))})))};var n=r(7429),i=r(63407),s=E(r(3096)),a=E(r(7882)),o=E(r(53562)),c=E(r(3689)),u=E(r(34807)),l=E(r(54466)),f=E(r(50262)),d=E(r(1704)),h=E(r(24810)),p=E(r(88729)),g=E(r(47666)),m=E(r(67694)),b=E(r(58579)),y=E(r(12782)),v=E(r(28167)),k=E(r(98654)),S=E(r(22553));function E(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof(t=t||{}).pre){var r=t.pre||{};t.pre=function(e){return r[e]}}var E={bitswap:(0,s.default)(e,t),block:(0,a.default)(e,t),bootstrap:(0,o.default)(e,t),config:(0,c.default)(e,t),dag:(0,u.default)(e,t),dht:(0,l.default)(e,t),dns:(0,n.expose)("ipfs.dns",(0,i.pre)(t.pre("dns"),(function(){var t;return(t=e()).dns.apply(t,arguments)})),t),files:(0,f.default)(e,t),id:(0,n.expose)("ipfs.id",(0,i.pre)(t.pre("id"),(function(){return e().id()})),t),key:(0,d.default)(e,t),name:(0,p.default)(e,t),object:(0,g.default)(e,t),pin:(0,m.default)(e,t),pubsub:(0,y.default)(e,t),repo:(0,v.default)(e,t),resolve:(0,n.expose)("ipfs.resolve",(0,i.pre)(t.pre("resolve"),(function(){var t;return(t=e()).resolve.apply(t,arguments)})),t),stats:(0,k.default)(e,t),stop:(0,n.expose)("ipfs.stop",(0,i.pre)(t.pre("stop"),(function(){return e().stop()})),t),swarm:(0,S.default)(e,t),version:(0,n.expose)("ipfs.version",(0,i.pre)(t.pre("version"),(function(){return e().version()})),t)};return Object.assign(E,(0,h.default)(e,t),(0,b.default)(e,t)),E}},1704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{export:(0,n.expose)("ipfs.key.export",(0,i.pre)(t.pre("key.export"),(function(){var t;return(t=e().key).export.apply(t,arguments)})),t),gen:(0,n.expose)("ipfs.key.gen",(0,i.pre)(t.pre("key.gen"),(function(){var t;return(t=e().key).gen.apply(t,arguments)})),t),import:(0,n.expose)("ipfs.key.import",(0,i.pre)(t.pre("key.import"),(function(){var t;return(t=e().key).import.apply(t,arguments)})),t),list:(0,n.expose)("ipfs.key.list",(0,i.pre)(t.pre("key.list"),(function(){return e().key.list()})),t),rename:(0,n.expose)("ipfs.key.rename",(0,i.pre)(t.pre("key.rename"),(function(){var t;return(t=e().key).rename.apply(t,arguments)})),t),rm:(0,n.expose)("ipfs.key.rm",(0,i.pre)(t.pre("key.rm"),(function(){var t;return(t=e().key).rm.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407)},24810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{ls:(0,n.expose)("ipfs.ls",(0,i.pre)((0,u.preBufferFromJson)(0),(0,c.preCidFromJson)(0),t.pre("ls"),(function(){var t;return(t=e()).ls.apply(t,arguments)})),t),lsPullStream:(0,n.expose)("ipfs.lsPullStream",(0,i.pre)((0,u.preBufferFromJson)(0),(0,c.preCidFromJson)(0),t.pre("lsPullStream"),(0,i.post)((function(){var t;return(t=e()).lsPullStream.apply(t,arguments)}),(function(e){return new Promise((function(r){var n=(0,o.default)();(0,s.default)(e,a.default.sink(n,t)),r((0,l.functionToJson)(n))}))}))),t)}};var n=r(7429),i=r(63407),s=f(r(58218)),a=f(r(92874)),o=f(r(14670)),c=r(21232),u=r(80871),l=r(74634);function f(e){return e&&e.__esModule?e:{default:e}}},88729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{publish:(0,n.expose)("ipfs.name.publish",(0,i.pre)(t.pre("name.publish"),(function(){var t;return(t=e().name).publish.apply(t,arguments)})),t),resolve:(0,n.expose)("ipfs.name.resolve",(0,i.pre)(t.pre("name.resolve"),(function(){var t;return(t=e().name).resolve.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407)},47666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{new:(0,n.expose)("ipfs.object.new",(0,i.pre)(t.pre("object.new"),(0,i.post)((function(){var t;return(t=e().object).new.apply(t,arguments)}),s.dagNodeToJson)),t),put:(0,n.expose)("ipfs.object.put",(0,i.pre)((0,s.preDagNodeFromJson)(0),(0,o.preBufferFromJson)(0),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]&&(0,o.isBufferJson)(t[0].Data)&&(t[0].Data=(0,o.bufferFromJson)(t[0].Data)),t}),t.pre("object.put"),(0,i.post)((function(){var t;return(t=e().object).put.apply(t,arguments)}),s.dagNodeToJson)),t),get:(0,n.expose)("ipfs.object.get",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),t.pre("object.get"),(0,i.post)((function(){var t;return(t=e().object).get.apply(t,arguments)}),s.dagNodeToJson)),t),data:(0,n.expose)("ipfs.object.data",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),t.pre("object.data"),(0,i.post)((function(){var t;return(t=e().object).data.apply(t,arguments)}),o.bufferToJson)),t),links:(0,n.expose)("ipfs.object.links",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),t.pre("object.links"),(0,i.post)((function(){var t;return(t=e().object).links.apply(t,arguments)}),(function(e){return e.map(s.dagLinkToJson)}))),t),stat:(0,n.expose)("ipfs.object.stat",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),t.pre("object.stat"),(function(){var t;return(t=e().object).stat.apply(t,arguments)})),t),patch:{addLink:(0,n.expose)("ipfs.object.patch.addLink",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),(0,s.preDagLinkFromJson)(1),t.pre("object.patch.addLink"),(0,i.post)((function(){var t;return(t=e().object.patch).addLink.apply(t,arguments)}),s.dagNodeToJson)),t),rmLink:(0,n.expose)("ipfs.object.patch.rmLink",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),(0,s.preDagLinkFromJson)(1),t.pre("object.patch.rmLink"),(0,i.post)((function(){var t;return(t=e().object.patch).rmLink.apply(t,arguments)}),s.dagNodeToJson)),t),appendData:(0,n.expose)("ipfs.object.patch.appendData",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),(0,o.preBufferFromJson)(1),t.pre("object.patch.appendData"),(0,i.post)((function(){var t;return(t=e().object.patch).appendData.apply(t,arguments)}),s.dagNodeToJson)),t),setData:(0,n.expose)("ipfs.object.patch.setData",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preCidFromJson)(0),(0,o.preBufferFromJson)(1),t.pre("object.patch.setData"),(0,i.post)((function(){var t;return(t=e().object.patch).setData.apply(t,arguments)}),s.dagNodeToJson)),t)}}};var n=r(7429),i=r(63407),s=r(23478),a=r(21232),o=r(80871)},67694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{add:(0,n.expose)("ipfs.pin.add",(0,i.pre)((0,a.preBufferFromJson)(0),(0,s.preCidFromJson)(0),t.pre("pin.add"),(function(){var t;return(t=e().pin).add.apply(t,arguments)})),t),rm:(0,n.expose)("ipfs.pin.rm",(0,i.pre)((0,a.preBufferFromJson)(0),(0,s.preCidFromJson)(0),t.pre("pin.rm"),(function(){var t;return(t=e().pin).rm.apply(t,arguments)})),t),ls:(0,n.expose)("ipfs.pin.ls",(0,i.pre)((0,a.preBufferFromJson)(0),(0,s.preCidFromJson)(0),t.pre("pin.ls"),(function(){var t;return(t=e().pin).ls.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407),s=r(21232),a=r(80871)},58579:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{ping:(0,n.expose)("ipfs.ping",(0,i.pre)(t.pre("ping"),(function(){var t;return(t=e()).ping.apply(t,arguments)})),t),pingPullStream:(0,n.expose)("ipfs.pingPullStream",(0,i.pre)(t.pre("pingPullStream"),(0,i.post)((function(){var t;return(t=e()).pingPullStream.apply(t,arguments)}),(function(e){return new Promise((function(r){var n=(0,o.default)();(0,s.default)(e,a.default.sink(n,t)),r((0,c.functionToJson)(n))}))}))),t)}};var n=r(7429),i=r(63407),s=u(r(58218)),a=u(r(92874)),o=u(r(14670)),c=r(74634);function u(e){return e&&e.__esModule?e:{default:e}}},12782:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=[],o={publish:(0,n.expose)("ipfs.pubsub.publish",(0,i.pre)((0,a.preBufferFromJson)(1),t.pre("pubsub.publish"),(function(){var t;return(t=e().pubsub).publish.apply(t,arguments)})),t),subscribe:(0,n.expose)("ipfs.pubsub.subscribe",(function(){for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];var l=void 0;return(0,i.pre)((function(){for(var e=arguments.length,o=Array(e),c=0;c<e;c++)o[c]=arguments[c];var u=o[0];if((0,s.isFunctionJson)(o[1])){var f=(0,i.pre)((function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]&&(t[0]=Object.assign({},t[0]),(0,a.isBuffer)(t[0].data)&&(t[0].data=(0,a.bufferToJson)(t[0].data)),(0,a.isBuffer)(t[0].seqno)&&(t[0].seqno=(0,a.bufferToJson)(t[0].seqno))),t}),(0,n.caller)(o[1].name,t));l={topic:u,rpc:{fnName:o[1].name,stubFn:f}},r.push(l),o[1]=f}return o}),t.pre("pubsub.subscribe"),(function(){var t;return(t=e().pubsub).subscribe.apply(t,arguments).catch((function(e){throw r.splice(r.indexOf(l),1),e}))})).apply(void 0,c)}),t),unsubscribe:(0,n.expose)("ipfs.pubsub.unsubscribe",(0,i.pre)((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if((0,s.isFunctionJson)(t[1])){var a=r.find((function(e){return e.topic===i&&e.rpc.fnName===t[1].name}));a?(t[1]=a.rpc.stubFn,r.splice(r.indexOf(a),1)):t[1]=function(){}}return t}),t.pre("pubsub.unsubscribe"),(function(){var t;return(t=e().pubsub).unsubscribe.apply(t,arguments)})),t),peers:(0,n.expose)("ipfs.pubsub.peers",(0,i.pre)(t.pre("pubsub.peers"),(function(){var t;return(t=e().pubsub).peers.apply(t,arguments)})),t),ls:(0,n.expose)("ipfs.pubsub.ls",(0,i.pre)(t.pre("pubsub.ls"),(function(){var t;return(t=e().pubsub).ls.apply(t,arguments)})),t)};return o.subscribe.close=(0,i.pre)((function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return Promise.all(r.map((function(t){return e().pubsub.unsubscribe(t.topic,t.rpc.stubFn)}))).then((function(){return n}))}),o.subscribe.close),o};var n=r(7429),i=r(63407),s=r(74634),a=r(80871)},28167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{gc:(0,n.expose)("ipfs.repo.gc",(0,i.pre)(t.pre("repo.gc"),(function(){var t;return(t=e().repo).gc.apply(t,arguments)})),t),stat:(0,n.expose)("ipfs.repo.stat",(0,i.pre)(t.pre("repo.stat"),(0,i.post)((function(){var t;return(t=e().repo).stat.apply(t,arguments)}),(function(e){return e&&((0,s.isBig)(e.numObjects)&&(e.numObjects=(0,s.bigToJson)(e.numObjects)),(0,s.isBig)(e.repoSize)&&(e.repoSize=(0,s.bigToJson)(e.repoSize)),(0,s.isBig)(e.storageMax)&&(e.storageMax=(0,s.bigToJson)(e.storageMax))),e}))),t),version:(0,n.expose)("ipfs.repo.version",(0,i.pre)(t.pre("repo.version"),(function(){return e().repo.version()})),t)}};var n=r(7429),i=r(63407),s=r(44843)},98654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{bw:(0,n.expose)("ipfs.stats.bw",(0,i.pre)(t.pre("stats.bw"),(0,i.post)((function(){var t;return(t=e().stats).bw.apply(t,arguments)}),(function(e){return e&&((0,c.isBig)(e.totalIn)&&(e.totalIn=(0,c.bigToJson)(e.totalIn)),(0,c.isBig)(e.totalOut)&&(e.totalOut=(0,c.bigToJson)(e.totalOut)),(0,c.isBig)(e.rateIn)&&(e.rateIn=(0,c.bigToJson)(e.rateIn)),(0,c.isBig)(e.rateOut)&&(e.rateOut=(0,c.bigToJson)(e.rateOut))),e}))),t),bwPullStream:(0,n.expose)("ipfs.stats.bwPullStream",(0,i.pre)(t.pre("stats.bwPullStream"),(0,i.post)((function(){var t;return(t=e().stats).bwPullStream.apply(t,arguments)}),(function(e){return new Promise((function(r){var n=(0,s.default)();(0,a.default)(e,o.default.sink(n,Object.assign({},t,{post:function(e){var t=e.data;return t&&((0,c.isBig)(t.totalIn)&&(t.totalIn=(0,c.bigToJson)(t.totalIn)),(0,c.isBig)(t.totalOut)&&(t.totalOut=(0,c.bigToJson)(t.totalOut)),(0,c.isBig)(t.rateIn)&&(t.rateIn=(0,c.bigToJson)(t.rateIn)),(0,c.isBig)(t.rateOut)&&(t.rateOut=(0,c.bigToJson)(t.rateOut))),e}}))),r((0,u.functionToJson)(n))}))}))),t)}};var n=r(7429),i=r(63407),s=l(r(14670)),a=l(r(58218)),o=l(r(92874)),c=r(44843),u=r(74634);function l(e){return e&&e.__esModule?e:{default:e}}},22553:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{peers:(0,n.expose)("ipfs.swarm.peers",(0,i.pre)(t.pre("swarm.peers"),(0,i.post)((function(){var t;return(t=e().swarm).peers.apply(t,arguments)}),(function(e){return e.map((function(e){return e.addr=(0,a.multiaddrToJson)(e.addr),(0,s.isPeerInfo)(e.peer)?e.peer=(0,s.peerInfoToJson)(e.peer):(0,s.isPeerId)(e.peer)&&(e.peer=(0,s.peerIdToJson)(e.peer)),e}))}))),t),addrs:(0,n.expose)("ipfs.swarm.addrs",(0,i.pre)(t.pre("swarm.addrs"),(0,i.post)((function(){return e().swarm.addrs()}),(function(e){return e.map(s.peerInfoToJson)}))),t),localAddrs:(0,n.expose)("ipfs.swarm.localAddrs",(0,i.pre)(t.pre("swarm.localAddrs"),(0,i.post)((function(){return e().swarm.localAddrs()}),(function(e){return e.map(a.multiaddrToJson)}))),t),connect:(0,n.expose)("ipfs.swarm.connect",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preMultiaddrFromJson)(0),t.pre("swarm.connect"),(function(){var t;return(t=e().swarm).connect.apply(t,arguments)})),t),disconnect:(0,n.expose)("ipfs.swarm.disconnect",(0,i.pre)((0,o.preBufferFromJson)(0),(0,a.preMultiaddrFromJson)(0),t.pre("swarm.disconnect"),(function(){var t;return(t=e().swarm).disconnect.apply(t,arguments)})),t)}};var n=r(7429),i=r(63407),s=r(55112),a=r(97842),o=r(80871)},1017:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(62300);var s={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(!n.isBuffer(e.multihash))return"multihash must be a Buffer";try{i.validate(e.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};e.exports=s},26451:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(62300),s=r(47826),a=r(45338),o=r(93071),c=r(1017),u=r(98514);class l{constructor(t,r,o){if(e.exports.isCID(t)){let e=t;return this.version=e.version,this.codec=e.codec,void(this.multihash=n.from(e.multihash))}if("string"==typeof t)if(s.isEncoded(t)){const e=s.decode(t);t=parseInt(e.slice(0,1).toString("hex"),16),r=a.getCodec(e.slice(1)),o=a.rmPrefix(e.slice(1))}else r="dag-pb",o=i.fromB58String(t),t=0;else if(n.isBuffer(t)){const e=t.slice(0,1),n=parseInt(e.toString("hex"),16);if(0===n||1===n){const e=t;t=n,r=a.getCodec(e.slice(1)),o=a.rmPrefix(e.slice(1))}else r="dag-pb",o=t,t=0}this.codec=r,this.version=t,this.multihash=o,l.validateCID(this)}get buffer(){let e=this._buffer;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");e=n.concat([n.from("01","hex"),a.getCodeVarint(this.codec),this.multihash])}Object.defineProperty(this,"_buffer",{value:e})}return e}get prefix(){return n.concat([n.from(`0${this.version}`,"hex"),a.getCodeVarint(this.codec),i.prefix(this.multihash)])}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=i.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new f(0,this.codec,this.multihash)}toV1(){return new f(1,this.codec,this.multihash)}toBaseEncodedString(e){switch(e=e||"base58btc",this.version){case 0:if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");return i.toB58String(this.multihash);case 1:return s.encode(e,this.buffer).toString();default:throw new Error("Unsupported version")}}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&this.multihash.equals(e.multihash)}static validateCID(e){let t=c.checkCIDComponents(e);if(t)throw new Error(t)}}const f=u(l,{className:"CID",symbolName:"@ipld/js-cid/CID"});f.codecs=o,e.exports=f},96974:(e,t,r)=>{"use strict";const n=r(46747);e.exports=function(e,t,r,i){i(null,new n(e,t,r))}},46747:(e,t,r)=>{"use strict";const n=r(26451),i=r(69282),s=r(98514);(t=e.exports=s(class{constructor(e,t,r){i(r,"A link requires a multihash to point to"),this._name=e||"",this._size=t,this._cid=new n(r)}toString(){return`DAGLink <${this._cid.toBaseEncodedString()} - name: "${this.name}", size: ${this.size}>`}toJSON(){return this._json||(this._json=Object.freeze({name:this.name,size:this.size,multihash:this._cid.toBaseEncodedString()})),Object.assign({},this._json)}get name(){return this._name}set name(e){throw new Error("Can't set property: 'name' is immutable")}get size(){return this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}get multihash(){return this._cid.buffer}set multihash(e){throw new Error("Can't set property: 'multihash' is immutable")}get cid(){return this._cid}set cid(e){throw new Error("Can't set property: 'cid' is immutable")}},{className:"DAGLink",symbolName:"@ipld/js-ipld-dag-pb/daglink"})).create=r(96974),t.util=r(93439)},93439:(e,t,r)=>{"use strict";const n=r(46747);e.exports.createDagLinkFromB58EncodedHash=function(e){return new n(e.name?e.name:e.Name,e.size?e.size:e.Size,e.hash||e.Hash||e.multihash)}},78386:(e,t,r)=>{"use strict";const n=r(41279),i=n.cloneLinks,s=n.cloneData,a=n.toDAGLink,o=r(46747),c=r(92840),u=r(79637);e.exports=function(e,t,r){const n=i(e),l=s(e);if(o.isDAGLink(t));else if(c.isDAGNode(t))t=a(t);else try{t=new o(t.name,t.size,t.multihash||t.hash)}catch(e){return r(e)}n.push(t),u(l,n,r)}},76530:(e,t,r)=>{"use strict";const n=r(41279),i=n.cloneLinks,s=n.cloneData,a=r(79637);e.exports=function(e,t){const r=s(e),n=i(e);a(r,n,t)}},79637:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(83555),s=r(75235),a=r(48148).serialize,o=r(41279).linkSort,c=r(92840),u=r(46747);e.exports=function(e,t,r,l){if("function"==typeof e?(l=e,e=void 0):"string"==typeof e&&(e=n.from(e)),"function"==typeof t&&(l=t,t=[]),"function"==typeof r&&(l=r,r=void 0),!n.isBuffer(e))return l(new Error("Passed 'data' is not a buffer or a string!"));r||(r="sha2-256");const f=t.map((e=>u.isDAGLink(e)?e:u.util.createDagLinkFromB58EncodedHash(e))),d=s(f,o);a({data:e,links:d},((t,n)=>{if(t)return l(t);i(n,r,((t,r)=>{if(t)return l(t);const i=new c(e,d,n,r);l(null,i)}))}))}},92840:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(69282),s=r(98514),a=r(26451);(t=e.exports=s(class{constructor(e,t,r,s){i(r,"DAGNode needs its serialized format"),i(s,"DAGNode needs its multihash"),this._cid=new a(s),this._data=e||n.alloc(0),this._links=t||[],this._serialized=r}toJSON(){return this._json||(this._json=Object.freeze({data:this.data,links:this.links.map((e=>e.toJSON())),multihash:this._cid.toBaseEncodedString(),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <${this._cid.toBaseEncodedString()} - data: "${this.data.toString()}", links: ${this.links.length}, size: ${this.size}>`}get data(){return this._data}set data(e){throw new Error("Can't set property: 'data' is immutable")}get links(){return this._links}set links(e){throw new Error("Can't set property: 'links' is immutable")}get serialized(){return this._serialized}set serialized(e){throw new Error("Can't set property: 'serialized' is immutable")}get size(){return void 0===this._size&&(this._size=this.links.reduce(((e,t)=>e+t.size),this.serialized.length)),this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}get multihash(){return this._cid.buffer}set multihash(e){throw new Error("Can't set property: 'multihash' is immutable")}get cid(){return this._cid}set cid(e){throw new Error("Can't set property: 'cid' is immutable")}},{className:"DAGNode",symbolName:"@ipld/js-ipld-dag-pb/dagnode"})).create=r(79637),t.clone=r(76530),t.addLink=r(78386),t.rmLink=r(60202)},60202:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(41279),s=i.cloneLinks,a=i.cloneData,o=r(79637);e.exports=function(e,t,r){const i=a(e);let c=s(e);if("string"==typeof t)c=c.filter((e=>e.name!==t));else{if(!n.isBuffer(t))return r(new Error("second arg needs to be a name or multihash"),null);c=c.filter((e=>!e.multihash.equals(t)))}o(i,c,r)}},41279:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(46747);(t=e.exports).cloneData=function(e){let t;return e.data&&e.data.length>0?(t=n.alloc(e.data.length),e.data.copy(t)):t=n.alloc(0),t},t.cloneLinks=function(e){return e.links.slice()},t.linkSort=function(e,t){const r=n.from(e.name||""),i=n.from(t.name||"");return r.compare(i)},t.toDAGLink=function(e){return new i("",e.size,e.multihash)}},37206:e=>{"use strict";e.exports="// An IPFS MerkleDAG Link\nmessage PBLink {\n\n  // multihash of the target object\n  optional bytes Hash = 1;\n\n  // utf string name. should be unique per object\n  optional string Name = 2;\n\n  // cumulative size of target object\n  optional uint64 Tsize = 3;\n}\n\n// An IPFS MerkleDAG Node\nmessage PBNode {\n\n  // refs to other objects\n  repeated PBLink Links = 2;\n\n  // opaque user data\n  optional bytes Data = 1;\n}"},76495:(e,t,r)=>{"use strict";t.DAGNode=r(92840),t.DAGLink=r(46747),t.resolver=r(49727),t.util=r(48148)},49727:(e,t,r)=>{"use strict";const n=r(7879),i=r(26451),s=r(48148);(t=e.exports).multicodec="dag-pb",t.defaultHashAlg="sha2-256",t.resolve=(e,t,r)=>{n([t=>s.deserialize(e,t),(e,n)=>{if(!t)return r(null,{value:e,remainderPath:""});const i=t.split("/");if("Links"===i[0]){let t="";if(!i[1])return n(null,{value:e.links.map((e=>e.toJSON())),remainderPath:""});const r={};e.links.forEach(((e,t)=>{const n=e.toJSON();r[t]=r[n.name]={hash:n.multihash,name:n.name,size:n.size}}));let s=r[i[1]];"Hash"===i[2]?s={"/":s.hash}:"Tsize"===i[2]?s=s.size:"Name"===i[2]&&(s=s.name),t=i.slice(3).join("/"),n(null,{value:s,remainderPath:t})}else if("Data"===i[0])n(null,{value:e.data,remainderPath:""});else{const t={};e.links.forEach(((e,r)=>{const n=e.toJSON();t[n.name]={hash:n.multihash,name:n.name,size:n.size}}));const r=t[i[0]];if(r)return n(null,{value:{"/":r.hash},remainderPath:i.slice(1).join("/")});n(new Error("path not available"))}}],r)},t.tree=(e,t,r)=>{"function"==typeof t&&(r=t,t={}),t=t||{},s.deserialize(e,((e,t)=>{if(e)return r(e);const n=[];n.push("Links"),t.links.forEach(((e,t)=>{n.push(`Links/${t}/Name`),n.push(`Links/${t}/Tsize`),n.push(`Links/${t}/Hash`)})),n.push("Data"),r(null,n)}))},t.isLink=(e,r,n)=>{t.resolve(e,r,((e,t)=>{if(e)return n(e);if(t.remainderPath.length>0)return n(new Error("path out of scope"));if("object"==typeof t.value&&t.value["/"]){let r;try{r=i.isCID(new i(t.value["/"]))}catch(e){r=!1}if(r)return n(null,t.value)}n(null,!1)}))}},48148:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(26451),s=r(94865)(r(37206)),a=r(49727),o=r(46747),c=r(92840),u=r(83555),l=r(7879);function f(e,t){let r;!c.isDAGNode(e)&&e.links&&(e.links=e.links.map((e=>o.isDAGLink(e)?e:o.util.createDagLinkFromB58EncodedHash(e))));try{r=s.PBNode.encode(function(e){const t={};e.data&&e.data.length>0?t.Data=e.data:t.Data=null;e.links&&e.links.length>0?t.Links=e.links.map((e=>({Hash:e.multihash,Name:e.name,Tsize:e.size}))):t.Links=null;return t}(e))}catch(e){return t(e)}t(null,r)}(t=e.exports).serialize=f,t.deserialize=function(e,t){const r=s.PBNode.decode(e),i=r.Links.map((e=>new o(e.Name,e.Tsize,e.Hash))),a=null==r.Data?n.alloc(0):n.from(r.Data);c.create(a,i,t)},t.cid=function(e,t,r){"function"==typeof t&&(r=t,t={});const n=(t=t||{}).hashAlg||a.defaultHashAlg;let s=t.version;void 0===s&&(s="sha2-256"===n?0:1),l([t=>f(e,t),(e,t)=>u(e,n,t),(e,t)=>t(null,new i(s,a.multicodec,e))],r)}},17273:(e,t,r)=>{var n,i=r(34155);!function(){"use strict";var s="input is invalid type",a="object"==typeof window,o=a?window:{};o.JS_SHA3_NO_WINDOW&&(a=!1);var c=!a&&"object"==typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node?o=window:c&&(o=self);var u=!o.JS_SHA3_NO_COMMON_JS&&e.exports,l=r.amdO,f=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[4,1024,262144,67108864],p=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],b=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};!o.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var k=function(e,t,r){return function(n){return new M(e,t,e).update(n)[r]()}},S=function(e,t,r){return function(n,i){return new M(e,t,i).update(n)[r]()}},E=function(e,t,r){return function(t,n,i,s){return T["cshake"+e].update(t,n,i,s)[r]()}},w=function(e,t,r){return function(t,n,i,s){return T["kmac"+e].update(t,n,i,s)[r]()}},C=function(e,t,r,n){for(var i=0;i<y.length;++i){var s=y[i];e[s]=t(r,n,s)}return e},A=function(e,t){var r=k(e,t,"hex");return r.create=function(){return new M(e,t,e)},r.update=function(e){return r.create().update(e)},C(r,k,e,t)},I=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:A},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:A},{name:"shake",padding:[31,7936,2031616,520093696],bits:b,createMethod:function(e,t){var r=S(e,t,"hex");return r.create=function(r){return new M(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},C(r,S,e,t)}},{name:"cshake",padding:h,bits:b,createMethod:function(e,t){var r=v[e],n=E(e,0,"hex");return n.create=function(n,i,s){return i||s?new M(e,t,n).bytepad([i,s],r):T["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},C(n,E,e,t)}},{name:"kmac",padding:h,bits:b,createMethod:function(e,t){var r=v[e],n=w(e,0,"hex");return n.create=function(n,i,s){return new D(e,t,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},C(n,w,e,t)}}],T={},_=[],B=0;B<I.length;++B)for(var N=I[B],R=N.bits,P=0;P<R.length;++P){var x=N.name+"_"+R[P];if(_.push(x),T[x]=N.createMethod(R[P],N.padding),"sha3"!==N.name){var L=N.name+R[P];_.push(L),T[L]=T[x]}}function M(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function D(e,t,r){M.call(this,e,t,r)}M.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw s;if(null===e)throw s;if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw s;t=!0}for(var n,i,a=this.blocks,o=this.byteCount,c=e.length,u=this.blockCount,l=0,d=this.s;l<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<u+1;++n)a[n]=0;if(t)for(n=this.start;l<c&&n<o;++l)a[n>>2]|=e[l]<<p[3&n++];else for(n=this.start;l<c&&n<o;++l)(i=e.charCodeAt(l))<128?a[n>>2]|=i<<p[3&n++]:i<2048?(a[n>>2]|=(192|i>>6)<<p[3&n++],a[n>>2]|=(128|63&i)<<p[3&n++]):i<55296||i>=57344?(a[n>>2]|=(224|i>>12)<<p[3&n++],a[n>>2]|=(128|i>>6&63)<<p[3&n++],a[n>>2]|=(128|63&i)<<p[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++l)),a[n>>2]|=(240|i>>18)<<p[3&n++],a[n>>2]|=(128|i>>12&63)<<p[3&n++],a[n>>2]|=(128|i>>6&63)<<p[3&n++],a[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=o){for(this.start=n-o,this.block=a[u],n=0;n<u;++n)d[n]^=a[n];O(d),this.reset=!0}else this.start=n}return this}},M.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},M.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw s;if(null===e)throw s;if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw s;t=!0}var n=0,i=e.length;if(t)n=i;else for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);o<128?n+=1:o<2048?n+=2:o<55296||o>=57344?n+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++a)),n+=4)}return n+=this.encode(8*n),this.update(e),n},M.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,s=[];return s.length=i,this.update(s),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];O(n)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,a=0,o="";a<n;){for(s=0;s<t&&a<n;++s,++a)e=r[s],o+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];a%t==0&&(O(r),s=0)}return i&&(e=r[s],o+=d[e>>4&15]+d[15&e],i>1&&(o+=d[e>>12&15]+d[e>>8&15]),i>2&&(o+=d[e>>20&15]+d[e>>16&15])),o},M.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,a=0,o=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);a<n;){for(s=0;s<t&&a<n;++s,++a)c[a]=r[s];a%t==0&&O(r)}return i&&(c[s]=r[s],e=e.slice(0,o)),e},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,a=0,o=0,c=[];o<i;){for(a=0;a<r&&o<i;++a,++o)e=o<<2,t=n[a],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%r==0&&O(n)}return s&&(e=o<<2,t=n[a],c[e]=255&t,s>1&&(c[e+1]=t>>8&255),s>2&&(c[e+2]=t>>16&255)),c},D.prototype=new M,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var O=function(e){var t,r,n,i,s,a,o,c,u,l,f,d,h,p,m,b,y,v,k,S,E,w,C,A,I,T,_,B,N,R,P,x,L,M,D,O,U,K,V,q,j,F,z,J,H,G,Y,Q,X,Z,W,$,ee,te,re,ne,ie,se,ae,oe,ce,ue,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|o>>>31),r=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|a>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=s^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=a^(l<<1|f>>>31),r=o^(f<<1|l>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(d<<1|h>>>31),r=u^(h<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=l^(i<<1|s>>>31),r=f^(s<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],m=e[1],G=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,B=e[20]<<3|e[21]>>>29,N=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,F=e[40]<<18|e[41]>>>14,z=e[41]<<18|e[40]>>>14,M=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Q=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,O=e[14]<<6|e[15]>>>26,U=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,k=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,W=e[35]<<15|e[34]>>>17,x=e[45]<<29|e[44]>>>3,L=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,I=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,K=e[26]<<25|e[27]>>>7,V=e[27]<<25|e[26]>>>7,S=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,J=e[8]<<27|e[9]>>>5,H=e[9]<<27|e[8]>>>5,T=e[18]<<20|e[19]>>>12,_=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,j=e[39]<<8|e[38]>>>24,w=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=p^~b&v,e[1]=m^~y&k,e[10]=A^~T&B,e[11]=I^~_&N,e[20]=M^~O&K,e[21]=D^~U&V,e[30]=J^~G&Q,e[31]=H^~Y&X,e[40]=te^~ne&se,e[41]=re^~ie&ae,e[2]=b^~v&S,e[3]=y^~k&E,e[12]=T^~B&R,e[13]=_^~N&P,e[22]=O^~K&q,e[23]=U^~V&j,e[32]=G^~Q&Z,e[33]=Y^~X&W,e[42]=ne^~se&oe,e[43]=ie^~ae&ce,e[4]=v^~S&w,e[5]=k^~E&C,e[14]=B^~R&x,e[15]=N^~P&L,e[24]=K^~q&F,e[25]=V^~j&z,e[34]=Q^~Z&$,e[35]=X^~W&ee,e[44]=se^~oe&ue,e[45]=ae^~ce&le,e[6]=S^~w&p,e[7]=E^~C&m,e[16]=R^~x&A,e[17]=P^~L&I,e[26]=q^~F&M,e[27]=j^~z&D,e[36]=Z^~$&J,e[37]=W^~ee&H,e[46]=oe^~ue&te,e[47]=ce^~le&re,e[8]=w^~p&b,e[9]=C^~m&y,e[18]=x^~A&T,e[19]=L^~I&_,e[28]=F^~M&O,e[29]=z^~D&U,e[38]=$^~J&G,e[39]=ee^~H&Y,e[48]=ue^~te&ne,e[49]=le^~re&ie,e[0]^=g[n],e[1]^=g[n+1]};if(u)e.exports=T;else{for(B=0;B<_.length;++B)o[_[B]]=T[_[B]];l&&(void 0===(n=function(){return T}.call(t,r,t,e))||(e.exports=n))}}()},95355:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(1191),s=r(99694).toCallback,a={init:i.blake2bInit,update:i.blake2bUpdate,digest:i.blake2bFinal},o={init:i.blake2sInit,update:i.blake2sUpdate,digest:i.blake2sFinal},c=(e,t)=>s((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));e.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=c(t+1,a);for(let t=0;t<32;t++)e[45633+t]=c(t+1,o)}},65543:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(93067),s=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function a(e){if(!s)throw new Error("Please use a browser with webcrypto support");return(t,r)=>{const a=s.digest({name:e},t);if("function"!=typeof a.then)return a.onerror=()=>{r(new Error(`hashing data using ${e}`))},void(a.oncomplete=e=>{r(null,e.target.result)});i(a.then((e=>n.from(new Uint8Array(e)))),r)}}e.exports={sha1:function(e,t){a("SHA-1")(e,t)},sha2256:function(e,t){a("SHA-256")(e,t)},sha2512:function(e,t){a("SHA-512")(e,t)}}},78460:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(17273),s=r(77139),a=r(99694),o=r(65543),c=a.toCallback,u=a.toBuf,l=a.fromString,f=a.fromNumberTo32BitBuf;e.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:c(u(i.sha3_512)),sha3384:c(u(i.sha3_384)),sha3256:c(u(i.sha3_256)),sha3224:c(u(i.sha3_224)),shake128:c(u(i.shake_128,256)),shake256:c(u(i.shake_256,512)),keccak224:c(u(i.keccak_224)),keccak256:c(u(i.keccak_256)),keccak384:c(u(i.keccak_384)),keccak512:c(u(i.keccak_512)),murmur3128:c(u(l(s.x64.hash128))),murmur332:c(f(l(s.x86.hash32))),addBlake:r(95355),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}},56191:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(62300),s=r(78460);function a(e,t,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");a.digest(e,t,r,((e,s)=>{if(e)return n(e);n(null,i.encode(s,t,r))}))}e.exports=a,a.Buffer=n,a.multihash=i,a.digest=function(e,t,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");let i,s=n;r&&(s=(e,t)=>{if(e)return n(e);n(null,t.slice(0,r))});try{i=a.createHash(t)}catch(e){return s(e)}i(e,s)},a.createHash=function(e){if(e=i.coerceCode(e),!a.functions[e])throw new Error("multihash function "+e+" not yet supported");return a.functions[e]},a.functions={17:s.sha1,18:s.sha2256,19:s.sha2512,20:s.sha3512,21:s.sha3384,22:s.sha3256,23:s.sha3224,24:s.shake128,25:s.shake256,26:s.keccak224,27:s.keccak256,28:s.keccak384,29:s.keccak512,34:s.murmur3128,35:s.murmur332,86:s.dblSha2256},s.addBlake(a.functions)},99694:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(41942);t.toCallback=e=>function(t,r){const n=(e,t)=>i((()=>{r(e,t)}));let s;try{s=e(t)}catch(e){return void n(e)}n(null,s)},t.toBuf=(e,t)=>r=>{let i=e(r,t);return n.from(i,"hex")},t.fromString=(e,t)=>r=>{const i=n.isBuffer(r)?r.toString():r;return e(i,t)},t.fromNumberTo32BitBuf=(e,t)=>r=>{let i=e(r,t);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return n.from(s)}},66369:(e,t,r)=>{"use strict";const n=r(44696);e.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},17624:(e,t,r)=>{"use strict";const n=r(66369),i={16:"aes-128-ctr",32:"aes-256-ctr"};t.create=function(e,t,r){const s=i[e.length];if(!s)return r(new Error("Invalid key length"));const a=n.createCipheriv(s,e,t),o=n.createDecipheriv(s,e,t);r(null,{encrypt(e,t){t(null,a.update(e))},decrypt(e,t){t(null,o.update(e))}})}},56818:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(53821),s=r(11871)(),a=r(38965),o={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};t.create=function(e,t,r){const c=o[e];i(s.subtle.importKey("raw",t,{name:"HMAC",hash:{name:c}},!1,["sign"]).then((t=>({digest(e,r){((e,t,r)=>{i(s.subtle.sign({name:"HMAC"},e,t).then((e=>n.from(e))),r)})(t,e,r)},length:a[e]}))),r)}},38965:e=>{"use strict";e.exports={SHA1:20,SHA256:32,SHA512:64}},89096:(e,t,r)=>{"use strict";const n=r(56818),i=r(17624),s=r(84215);(t=e.exports).aes=i,t.hmac=n,t.keys=s,t.randomBytes=r(33178),t.pbkdf2=r(12293)},40896:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(11871)(),s=r(53821),a=r(39809).bignum,o=r(53195),c=o.toBase64,u=o.toBn,l={"P-256":256,"P-384":384,"P-521":521};t.generateEphmeralKeyPair=function(e,t){s(i.subtle.generateKey({name:"ECDH",namedCurve:e},!0,["deriveBits"]).then((t=>{const r=(r,o,u)=>{let f;"function"==typeof o&&(u=o,o=void 0),f=o?i.subtle.importKey("jwk",function(e,t){const r=h(e,t.public);return r.d=c(new a(t.private)),r}(e,o),{name:"ECDH",namedCurve:e},!1,["deriveBits"]):Promise.resolve(t.privateKey);const d=Promise.all([i.subtle.importKey("jwk",h(e,r),{name:"ECDH",namedCurve:e},!1,[]),f]);s(d.then((t=>i.subtle.deriveBits({name:"ECDH",namedCurve:e,public:t[0]},t[1],l[e]))).then((e=>n.from(e))),u)};return i.subtle.exportKey("jwk",t.publicKey).then((e=>({key:d(e),genSharedKey:r})))})),t)};const f={"P-256":32,"P-384":48,"P-521":66};function d(e){const t=f[e.crv];return n.concat([n.from([4]),u(e.x).toArrayLike(n,"be",t),u(e.y).toArrayLike(n,"be",t)],1+2*t)}function h(e,t){const r=f[e];if(!t.slice(0,1).equals(n.from([4])))throw new Error("Invalid key format");const i=new a(t.slice(1,r+1)),s=new a(t.slice(1+r));return{kty:"EC",crv:e,x:c(i,r),y:c(s,r),ext:!0}}},7792:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(56191),s=r(94865),a=r(14414),o=r(30229),c=s(r(51958));class u{constructor(e){this._key=d(e,o.publicKeyLength)}verify(e,t,r){f(r),o.hashAndVerify(this._key,t,e,r)}marshal(){return n.from(this._key)}get bytes(){return c.PublicKey.encode({Type:c.KeyType.Ed25519,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){f(e),i(this.bytes,"sha2-256",e)}}class l{constructor(e,t){this._key=d(e,o.privateKeyLength),this._publicKey=d(t,o.publicKeyLength)}sign(e,t){f(t),o.hashAndSign(this._key,e,t)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new u(this._publicKey)}marshal(){return n.concat([n.from(this._key),n.from(this._publicKey)])}get bytes(){return c.PrivateKey.encode({Type:c.KeyType.Ed25519,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){f(e),i(this.bytes,"sha2-256",e)}id(e){this.public.hash(((t,r)=>{if(t)return e(t);e(null,a.encode(r))}))}}function f(e){if("function"!=typeof e)throw new Error("callback is required")}function d(e,t){if(n.isBuffer(e)&&(e=new Uint8Array(e)),!(e instanceof Uint8Array)||e.length!==t)throw new Error("Key must be a Uint8Array or Buffer of length "+t);return e}e.exports={Ed25519PublicKey:u,Ed25519PrivateKey:l,unmarshalEd25519PrivateKey:function(e,t){try{e=d(e,o.privateKeyLength+o.publicKeyLength)}catch(e){return t(e)}const r=e.slice(0,o.privateKeyLength),n=e.slice(o.privateKeyLength,e.length);t(null,new l(r,n))},unmarshalEd25519PublicKey:function(e){return e=d(e,o.publicKeyLength),new u(e)},generateKeyPair:function(e,t){void 0===t&&"function"==typeof e&&(t=e),o.generateKey(((e,r)=>{if(e)return t(e);let n;try{n=new l(r.secretKey,r.publicKey)}catch(e){return void t(e)}t(null,n)}))},generateKeyPairFromSeed:function(e,t,r){void 0===r&&"function"==typeof t&&(r=t),o.generateKeyFromSeed(e,((e,t)=>{if(e)return r(e);let n;try{n=new l(t.secretKey,t.publicKey)}catch(e){return void r(e)}r(null,n)}))}}},30229:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(98498),s=r(41942);t.publicKeyLength=i.sign.publicKeyLength,t.privateKeyLength=i.sign.secretKeyLength,t.generateKey=function(e){s((()=>{let t;try{t=i.sign.keyPair()}catch(t){return e(t)}e(null,t)}))},t.generateKeyFromSeed=function(e,t){s((()=>{let r;try{r=i.sign.keyPair.fromSeed(e)}catch(e){return t(e)}t(null,r)}))},t.hashAndSign=function(e,t,r){s((()=>{r(null,n.from(i.sign.detached(t,e)))}))},t.hashAndVerify=function(e,t,r,n){s((()=>{let s;try{s=i.sign.detached.verify(r,t,e)}catch(e){return n(e)}n(null,s)}))}},68031:(e,t,r)=>{"use strict";const n=r(40896);e.exports=(e,t)=>{n.generateEphmeralKeyPair(e,t)}},84215:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(94865)(r(51958)),s=r(1951);t=e.exports;const a={rsa:r(56344),ed25519:r(7792),secp256k1:r(95146)(i,r(33178))};function o(e){return void 0!==a[e.toLowerCase()]}t.supportedKeys=a,t.keysPBM=i,t.keyStretcher=r(47051),t.generateEphemeralKeyPair=r(68031),t.generateKeyPair=(e,t,r)=>{let n=a[e.toLowerCase()];if(!n)return r(new Error("invalid or unsupported key type"));n.generateKeyPair(t,r)},t.generateKeyPairFromSeed=(e,t,r,n)=>{let i=a[e.toLowerCase()];return i?"ed25519"!==e.toLowerCase()?n(new Error("Seed key derivation is unimplemented for RSA or secp256k1")):void i.generateKeyPairFromSeed(t,r,n):n(new Error("invalid or unsupported key type"))},t.unmarshalPublicKey=e=>{const t=i.PublicKey.decode(e),r=t.Data;switch(t.Type){case i.KeyType.RSA:return a.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return a.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(a.secp256k1)return a.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error("secp256k1 support requires libp2p-crypto-secp256k1 package");default:throw new Error("invalid or unsupported key type")}},t.marshalPublicKey=(e,t)=>{if(!o(t=(t||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return e.bytes},t.unmarshalPrivateKey=(e,t)=>{let r;try{r=i.PrivateKey.decode(e)}catch(e){return t(e)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return a.rsa.unmarshalRsaPrivateKey(n,t);case i.KeyType.Ed25519:return a.ed25519.unmarshalEd25519PrivateKey(n,t);case i.KeyType.Secp256k1:return a.secp256k1?a.secp256k1.unmarshalSecp256k1PrivateKey(n,t):t(new Error("secp256k1 support requires libp2p-crypto-secp256k1 package"));default:t(new Error("invalid or unsupported key type"))}},t.marshalPrivateKey=(e,t)=>{if(!o(t=(t||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return e.bytes},t.import=(e,t,r)=>{try{const i=s.pki.decryptRsaPrivateKey(e,t);if(null===i)throw new Error("Cannot read the key, most likely the password is wrong or not a RSA key");let o=s.asn1.toDer(s.pki.privateKeyToAsn1(i));return o=n.from(o.getBytes(),"binary"),a.rsa.unmarshalRsaPrivateKey(o,r)}catch(e){r(e)}}},47051:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(87714),s=r(56818),a={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};e.exports=(e,t,r,o)=>{const c=a[e];if(!c)return o(new Error("unkown cipherType passed"));if(!t)return o(new Error("unkown hashType passed"));const u=c.keySize,l=c.ivSize,f=n.from("key expansion"),d=2*(l+u+20);s.create(t,r,((e,t)=>{if(e)return o(e);t.digest(f,((e,r)=>{if(e)return o(e);let s=[],a=0;i((()=>a<d),(function(e){t.digest(n.concat([r,f]),((n,i)=>{if(n)return e(n);let o=i.length;a+o>d&&(o=d-a),s.push(i),a+=o,t.digest(r,((t,n)=>{if(t)return e(t);r=n,e()}))}))}),(function(e){if(e)return o(e);const t=d/2,r=n.concat(s),i=r.slice(0,t),a=r.slice(t,d),c=e=>({iv:e.slice(0,l),cipherKey:e.slice(l,l+u),macKey:e.slice(l+u)});o(null,{k1:c(i),k2:c(a)})}))}))}))}},51958:e=>{"use strict";e.exports="enum KeyType {\n  RSA = 0;\n  Ed25519 = 1;\n  Secp256k1 = 2;\n}\nmessage PublicKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}\nmessage PrivateKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}"},75895:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(53821),s=r(11871)();function a(e){return Promise.all([s.subtle.exportKey("jwk",e.privateKey),s.subtle.exportKey("jwk",e.publicKey)])}t.utils=r(30034),t.generateKey=function(e,t){i(s.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(a).then((e=>({privateKey:e[0],publicKey:e[1]}))),t)},t.unmarshalPrivateKey=function(e,t){const r=s.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]);var n;i(Promise.all([r,(n=e,s.subtle.importKey("jwk",{kty:n.kty,n:n.n,e:n.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))]).then((e=>a({privateKey:e[0],publicKey:e[1]}))).then((e=>({privateKey:e[0],publicKey:e[1]}))),t)},t.getRandomValues=function(e){return n.from(s.getRandomValues(e))},t.hashAndSign=function(e,t,r){i(s.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]).then((e=>s.subtle.sign({name:"RSASSA-PKCS1-v1_5"},e,Uint8Array.from(t)))).then((e=>n.from(e))),r)},t.hashAndVerify=function(e,t,r,n){i(s.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]).then((e=>s.subtle.verify({name:"RSASSA-PKCS1-v1_5"},e,t,r))),n)}},56344:(e,t,r)=>{"use strict";const n=r(56191),i=r(94865),s=r(14414),a=r(75895),o=i(r(51958)),c=r(1951),u=r(41942);class l{constructor(e){this._key=e}verify(e,t,r){d(r),a.hashAndVerify(this._key,t,e,r)}marshal(){return a.utils.jwkToPkix(this._key)}get bytes(){return o.PublicKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}encrypt(e){return this._key.encrypt(e,"RSAES-PKCS1-V1_5")}equals(e){return this.bytes.equals(e.bytes)}hash(e){d(e),n(this.bytes,"sha2-256",e)}}class f{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return a.getRandomValues(new Uint8Array(16))}sign(e,t){d(t),a.hashAndSign(this._key,e,t)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new l(this._publicKey)}decrypt(e,t){a.decrypt(this._key,e,t)}marshal(){return a.utils.jwkToPkcs1(this._key)}get bytes(){return o.PrivateKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){d(e),n(this.bytes,"sha2-256",e)}id(e){this.public.hash(((t,r)=>{if(t)return e(t);e(null,s.encode(r))}))}export(e,t,r){"function"==typeof t&&(r=t,t=e,e="pkcs-8"),d(r),u((()=>{let n=null,i=null;try{const r=new c.util.ByteBuffer(this.marshal()),s=c.asn1.fromDer(r),a=c.pki.privateKeyFromAsn1(s);if("pkcs-8"===e){const e={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};i=c.pki.encryptRsaPrivateKey(a,t,e)}else n=new Error(`Unknown export format '${e}'`)}catch(e){n=e}r(n,i)}))}}function d(e){if("function"!=typeof e)throw new Error("callback is required")}e.exports={RsaPublicKey:l,RsaPrivateKey:f,unmarshalRsaPublicKey:function(e){const t=a.utils.pkixToJwk(e);return new l(t)},unmarshalRsaPrivateKey:function(e,t){const r=a.utils.pkcs1ToJwk(e);a.unmarshalPrivateKey(r,((e,r)=>{if(e)return t(e);t(null,new f(r.privateKey,r.publicKey))}))},generateKeyPair:function(e,t){a.generateKey(e,((e,r)=>{if(e)return t(e);t(null,new f(r.privateKey,r.publicKey))}))},fromJwk:function(e,t){a.unmarshalPrivateKey(e,((e,r)=>{if(e)return t(e);t(null,new f(r.privateKey,r.publicKey))}))}}},30034:(e,t,r)=>{"use strict";const n=r(39809),i=r(53195),s=i.toBase64,a=i.toBn,o=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})),c=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid({"1.2.840.113549.1.1.1":"rsa"}),this.key("none").optional().null_(),this.key("curve").optional().objid(),this.key("params").optional().seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()))})),u=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),l=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.pkcs1ToJwk=function(e){const t=o.decode(e,"der");return{kty:"RSA",n:s(t.modulus),e:s(t.publicExponent),d:s(t.privateExponent),p:s(t.prime1),q:s(t.prime2),dp:s(t.exponent1),dq:s(t.exponent2),qi:s(t.coefficient),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkcs1=function(e){return o.encode({version:0,modulus:a(e.n),publicExponent:a(e.e),privateExponent:a(e.d),prime1:a(e.p),prime2:a(e.q),exponent1:a(e.dp),exponent2:a(e.dq),coefficient:a(e.qi)},"der")},t.pkixToJwk=function(e){const t=u.decode(e,"der"),r=l.decode(t.subjectPublicKey.data,"der");return{kty:"RSA",n:s(r.modulus),e:s(r.publicExponent),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkix=function(e){return u.encode({algorithm:{algorithm:"rsa",none:null},subjectPublicKey:{data:l.encode({modulus:a(e.n),publicExponent:a(e.e)},"der")}},"der")}},53821:e=>{"use strict";e.exports=function(e,t){return e.then((e=>{t(null,e)}),(e=>{t(e)}))}},12293:(e,t,r)=>{"use strict";const n=r(1951),i={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};e.exports=function(e,t,r,s,a){const o=i[a];if(!o)throw new Error(`Hash '${a}' is unknown or not supported`);const c=n.pkcs5.pbkdf2(e,t,r,s,o);return n.util.encode64(c)}},33178:(e,t,r)=>{"use strict";const n=r(75895);e.exports=function(e){if(!e||"number"!=typeof e)throw new Error("first argument must be a Number bigger than 0");return n.getRandomValues(new Uint8Array(e))}},53195:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(39809).bignum;t.toBase64=function(e,t){return e.toArrayLike(n,"be",t).toString("base64").replace(/(=*)$/,"").replace(/\+/g,"-").replace(/\//g,"_")},t.toBn=function(e){return new i(n.from(e,"base64"))}},11871:(e,t,r)=>{"use strict";e.exports=()=>{if("undefined"!=typeof self&&(r(80708)(self),self.crypto))return self.crypto;throw new Error("Please use an environment with crypto support")}},22044:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(80820),s=r(4474),a=r(97934),o=r(58777),c=r(94676);function u(e){const t=[],r=e.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==o(i).size){if(n++,n>=r.length)throw k("invalid address: "+e);t.push([i,r[n]])}else t.push([i])}return t}function l(e){const t=[];return i(e,(function(e){const r=S(e);t.push(r.name),e.length>1&&t.push(e[1])})),"/"+t.join("/")}function f(e){return i(e,(function(e){Array.isArray(e)||(e=[e]);const t=S(e);return e.length>1?[t.code,a.toBuffer(t.code,e[1])]:[t.code]}))}function d(e){return i(e,(function(e){const t=S(e);return e.length>1?[t.code,a.toString(t.code,e[1])]:[t.code]}))}function h(e){return b(n.concat(i(e,(function(e){const t=S(e);let r=n.from(c.encode(t.code));return e.length>1&&(r=n.concat([r,e[1]])),r}))))}function p(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;return c.decode(t)+c.decode.bytes}function g(e){const t=[];let r=0;for(;r<e.length;){const n=c.decode(e,r),i=c.decode.bytes,s=p(o(n),e.slice(r+i));if(0===s){t.push([n]),r+=i;continue}const a=e.slice(r+i,r+i+s);if(r+=s+i,r>e.length)throw k("Invalid address buffer: "+e.toString("hex"));t.push([n,a])}return t}function m(e){return h(f(u(e=v(e))))}function b(e){const t=y(e);if(t)throw t;return n.from(e)}function y(e){try{g(e)}catch(e){return e}}function v(e){return"/"+s(e.trim().split("/")).join("/")}function k(e){return new Error("Error parsing address: "+e)}function S(e){return o(e[0])}e.exports={stringToStringTuples:u,stringTuplesToString:l,tuplesToStringTuples:d,stringTuplesToTuples:f,bufferToTuples:g,tuplesToBuffer:h,bufferToString:function(e){const t=g(e);return l(d(t))},stringToBuffer:m,fromString:function(e){return m(e)},fromBuffer:b,validateBuffer:y,isValidBuffer:function(e){return void 0===y(e)},cleanPath:v,ParseError:k,protoFromTuple:S,sizeForAddr:p}},97934:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(60413),s=r(17673),a=r(58777),o=r(14414),c=r(94676);function u(e,t){return t instanceof n?u.toString(e,t):u.toBuffer(e,t)}function l(e){if(!e.isValid())throw new Error("invalid ip address");return i.toBuffer(e.address)}e.exports=u,u.toString=function(e,t){switch((e=a(e)).code){case 4:case 41:return i.toString(t);case 6:case 17:case 33:case 132:return function(e){return e.readUInt16BE(0)}(t);case 54:case 55:case 56:return function(e){const t=c.decode(e);if((e=e.slice(c.decode.bytes)).length!==t)throw new Error("inconsistent lengths");return e.toString()}(t);case 421:return function(e){const t=c.decode(e),r=e.slice(c.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return o.encode(r)}(t);default:return t.toString("hex")}},u.toBuffer=function(e,t){switch((e=a(e)).code){case 4:return l(new s.Address4(t));case 41:return l(new s.Address6(t));case 6:case 17:case 33:case 132:return function(e){const t=n.alloc(2);return t.writeUInt16BE(e,0),t}(parseInt(t,10));case 54:case 55:case 56:return function(e){const t=n.from(e),r=n.from(c.encode(t.length));return n.concat([r,t])}(t);case 421:return function(e){const t=n.from(o.decode(e)),r=n.from(c.encode(t.length));return n.concat([r,t])}(t);default:return n.from(t,"hex")}}},97894:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(80820),s=r(47529),a=r(22044),o=r(58777),c=r(94676),u=r(14414),l=r(98514),f=new Error("Sorry, Not Implemented Yet."),d=l.proto((function(e){if(!(this instanceof d))return new d(e);if(null==e&&(e=""),e instanceof n)this.buffer=a.fromBuffer(e);else if("string"==typeof e||e instanceof String){if(e.length>0&&"/"!==e.charAt(0))throw new Error(`multiaddr "${e}" must start with a "/"`);this.buffer=a.fromString(e)}else{if(!(e.buffer&&e.protos&&e.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.buffer=a.fromBuffer(e.buffer)}}),{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});d.prototype.toString=function(){return a.bufferToString(this.buffer)},d.prototype.toOptions=function(){const e={},t=this.toString().split("/");return e.family="ip4"===t[1]?"ipv4":"ipv6",e.host=t[2],e.transport=t[3],e.port=t[4],e},d.prototype.inspect=function(){return"<Multiaddr "+this.buffer.toString("hex")+" - "+a.bufferToString(this.buffer)+">"},d.prototype.protos=function(){return i(this.protoCodes(),(function(e){return s(o(e))}))},d.prototype.protoCodes=function(){const e=[],t=this.buffer;let r=0;for(;r<t.length;){const n=c.decode(t,r),i=c.decode.bytes,s=o(n);r+=a.sizeForAddr(s,t.slice(r+i))+i,e.push(n)}return e},d.prototype.protoNames=function(){return i(this.protos(),(function(e){return e.name}))},d.prototype.tuples=function(){return a.bufferToTuples(this.buffer)},d.prototype.stringTuples=function(){const e=a.bufferToTuples(this.buffer);return a.tuplesToStringTuples(e)},d.prototype.encapsulate=function(e){return e=d(e),d(this.toString()+e.toString())},d.prototype.decapsulate=function(e){e=e.toString();const t=this.toString(),r=t.lastIndexOf(e);if(r<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return d(t.slice(0,r))},d.prototype.getPeerId=function(){let e=null;try{e=this.stringTuples().filter((e=>{if(e[0]===o.names.ipfs.code)return!0}))[0][1],u.decode(e)}catch(t){e=null}return e},d.prototype.equals=function(e){return this.buffer.equals(e.buffer)},d.prototype.nodeAddress=function(){const e=this.protoCodes(),t=this.protoNames(),r=this.toString().split("/").slice(1);if(r.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(4!==e[0]&&41!==e[0]&&54!==e[0]&&55!==e[0])throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if("tcp"!==r[2]&&"udp"!==r[2])throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:41===e[0]||55===e[0]?6:4,address:r[1],port:r[3]}},d.fromNodeAddress=function(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");const r="IPv6"===e.family?"ip6":"ip4";return d("/"+[r,e.address,t,e.port].join("/"))},d.prototype.isThinWaistAddress=function(e){const t=(e||this).protos();return 2===t.length&&((4===t[0].code||41===t[0].code)&&(6===t[1].code||17===t[1].code))},d.prototype.fromStupidString=function(e){throw f},d.protocols=o,d.isName=function(e){return!!d.isMultiaddr(e)&&e.protos().some((e=>e.resolvable))},d.resolve=function(e,t){return d.isMultiaddr(e)&&d.isName(e)?t(new Error("not implemented yet")):t(new Error("not a valid name"))},e.exports=d},58777:(e,t,r)=>{"use strict";const n=r(80820);function i(e){if("number"==typeof e){if(i.codes[e])return i.codes[e];throw new Error("no protocol with code: "+e)}if("string"==typeof e||e instanceof String){if(i.names[e])return i.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}function s(e,t,r,n){return{code:e,size:t,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,"ip4"],[6,16,"tcp"],[17,16,"udp"],[33,16,"dccp"],[41,128,"ip6"],[54,-1,"dns4","resolvable"],[55,-1,"dns6","resolvable"],[56,-1,"dnsaddr","resolvable"],[132,16,"sctp"],[302,0,"utp"],[421,i.lengthPrefixedVarSize,"ipfs"],[480,0,"http"],[443,0,"https"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[290,0,"p2p-circuit"]],i.names={},i.codes={},n(i.table,(function(e){const t=s.apply(null,e);i.codes[t.code]=t,i.names[t.name]=t})),i.object=s,e.exports=i},89155:e=>{"use strict";e.exports=class{constructor(e,t,r,n){this.name=e,this.code=t,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}}},2948:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764);e.exports=function(e){return{encode:e=>"string"==typeof e?n.from(e).toString("hex"):e.toString("hex"),decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base16 character");return n.from(t,"hex")}}}},79781:e=>{"use strict";function t(e,t){const r=e.byteLength,n=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-1));let s=0,a=0,o="";for(let e=0;e<r;e++)for(a=a<<8|n[e],s+=8;s>=5;)o+=t[a>>>s-5&31],s-=5;if(s>0&&(o+=t[a<<5-s&31]),i)for(;o.length%8!=0;)o+="=";return o}e.exports=function(e){return{encode:r=>t("string"==typeof r?Uint8Array.from(r):r,e),decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base32 character");return function(e,t){const r=(e=e.replace(new RegExp("=","g"),"")).length;let n=0,i=0,s=0;const a=new Uint8Array(5*r/8|0);for(let o=0;o<r;o++)i=i<<5|t.indexOf(e[o]),n+=5,n>=8&&(a[s++]=i>>>n-8&255,n-=8);return a.buffer}(t,e)}}}},75606:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764);e.exports=function(e){const t=e.indexOf("=")>-1,r=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode(e){let i="";i="string"==typeof e?n.from(e).toString("base64"):e.toString("base64"),r&&(i=i.replace(/\+/g,"-").replace(/\//g,"_"));const s=i.indexOf("=");return s>0&&!t&&(i=i.substring(0,s)),i},decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base64 character");return n.from(t,"base64")}}}},89918:(e,t,r)=>{"use strict";const n=r(89155),i=r(58162),s=r(2948),a=r(79781),o=r(75606),c=[["base1","1","","1"],["base2","0",i,"01"],["base8","7",i,"01234567"],["base10","9",i,"0123456789"],["base16","f",s,"0123456789abcdef"],["base32","b",a,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",a,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",a,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",a,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",a,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new n(t[0],t[1],t[2],t[3]),e)),{}),l=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});e.exports={names:u,codes:l}},47826:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764),i=r(89918);(t=e.exports=a).encode=function(e,t){const r=o(e);return a(r.name,n.from(r.encode(t)))},t.decode=function(e){n.isBuffer(e)&&(e=e.toString());const t=e.substring(0,1);"string"==typeof(e=e.substring(1,e.length))&&(e=n.from(e));const r=o(t);return n.from(r.decode(e.toString()))},t.isEncoded=function(e){n.isBuffer(e)&&(e=e.toString());if("[object String]"!==Object.prototype.toString.call(e))return!1;const t=e.substring(0,1);try{return o(t).name}catch(e){return!1}},t.names=Object.freeze(Object.keys(i.names)),t.codes=Object.freeze(Object.keys(i.codes));const s=new Error("Unsupported encoding");function a(e,t){if(!t)throw new Error("requires an encoded buffer");const r=o(e),i=n.from(r.code);return function(e,t){o(e).decode(t.toString())}(r.name,t),n.concat([i,t])}function o(e){let t;if(i.names[e])t=i.names[e];else{if(!i.codes[e])throw s;t=i.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}},93071:e=>{"use strict";e.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"x11":4352,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},90305:(e,t,r)=>{"use strict";const n=r(93071),i={};for(const[e,t]of Object.entries(n))i[e.toUpperCase().replace(/-/g,"_")]=t;e.exports=Object.freeze(i)},45338:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(94676),s=r(51709),a=r(55384),o=r(31900);(t=e.exports).addPrefix=(e,t)=>{let r;if(n.isBuffer(e))r=o.varintBufferEncode(e);else{if(!a[e])throw new Error("multicodec not recognized");r=a[e]}return n.concat([r,t])},t.rmPrefix=e=>(i.decode(e),e.slice(i.decode.bytes)),t.getCodec=e=>{const t=i.decode(e),r=s.get(t);if(void 0===r)throw new Error(`Code ${t} not found`);return r},t.getName=e=>s.get(e),t.getNumber=e=>{const t=a[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return o.varintBufferDecode(t)[0]},t.getCode=e=>i.decode(e),t.getCodeVarint=e=>{const t=a[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},t.getVarint=e=>i.encode(e);const c=r(90305);Object.assign(t,c),t.print=r(3389)},51709:(e,t,r)=>{"use strict";const n=r(93071),i=new Map;for(const e in n){const t=n[e];i.set(t,e)}e.exports=Object.freeze(i)},3389:(e,t,r)=>{"use strict";const n=r(93071),i={};for(const[e,t]of Object.entries(n))void 0===i[t]&&(i[t]=e);e.exports=Object.freeze(i)},31900:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(94676);function s(e){return parseInt(e.toString("hex"),16)}function a(e){let t=e.toString(16);return t.length%2==1&&(t="0"+t),n.from(t,"hex")}e.exports={numberToBuffer:a,bufferToNumber:s,varintBufferEncode:function(e){return n.from(i.encode(s(e)))},varintBufferDecode:function(e){return a(i.decode(e))},varintEncode:function(e){return n.from(i.encode(e))}}},55384:(e,t,r)=>{"use strict";const n=r(93071),i=r(31900).varintEncode,s={};for(const e in n){const t=n[e];s[e]=i(t)}e.exports=Object.freeze(s)},84514:e=>{"use strict";e.exports=class{constructor(e,t,r,n){this.name=e,this.code=t,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}}},85637:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764);e.exports=function(e){return{encode:e=>"string"==typeof e?n.from(e).toString("hex"):e.toString("hex"),decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base16 character");return n.from(t,"hex")}}}},50923:e=>{"use strict";function t(e,t){const r=e.byteLength,n=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-1));let s=0,a=0,o="";for(let e=0;e<r;e++)for(a=a<<8|n[e],s+=8;s>=5;)o+=t[a>>>s-5&31],s-=5;if(s>0&&(o+=t[a<<5-s&31]),i)for(;o.length%8!=0;)o+="=";return o}e.exports=function(e){return{encode:r=>t("string"==typeof r?Uint8Array.from(r):r,e),decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base32 character");return function(e,t){const r=(e=e.replace(new RegExp("=","g"),"")).length;let n=0,i=0,s=0;const a=new Uint8Array(5*r/8|0);for(let o=0;o<r;o++)i=i<<5|t.indexOf(e[o]),n+=5,n>=8&&(a[s++]=i>>>n-8&255,n-=8);return a.buffer}(t,e)}}}},73338:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764);e.exports=function(e){const t=e.indexOf("=")>-1,r=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode(e){let i="";i="string"==typeof e?n.from(e).toString("base64"):e.toString("base64"),r&&(i=i.replace(/\+/g,"-").replace(/\//g,"_"));const s=i.indexOf("=");return s>0&&!t&&(i=i.substring(0,s)),i},decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base64 character");return n.from(t,"base64")}}}},56315:(e,t,r)=>{"use strict";const n=r(84514),i=r(58162),s=r(85637),a=r(50923),o=r(73338),c=[["base1","1","","1"],["base2","0",i,"01"],["base8","7",i,"01234567"],["base10","9",i,"0123456789"],["base16","f",s,"0123456789abcdef"],["base32","b",a,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",a,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",a,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",a,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",a,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new n(t[0],t[1],t[2],t[3]),e)),{}),l=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});e.exports={names:u,codes:l}},93554:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764),i=r(56315);function s(e,t){if(!t)throw new Error("requires an encoded buffer");const r=a(e),i=n.from(r.code);return function(e,t){a(e).decode(t.toString())}(r.name,t),n.concat([i,t])}function a(e){let t;if(i.names[e])t=i.names[e];else{if(!i.codes[e])throw new Error("Unsupported encoding");t=i.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}(t=e.exports=s).encode=function(e,t){const r=a(e);return s(r.name,n.from(r.encode(t)))},t.decode=function(e){n.isBuffer(e)&&(e=e.toString());const t=e.substring(0,1);"string"==typeof(e=e.substring(1,e.length))&&(e=n.from(e));const r=a(t);return n.from(r.decode(e.toString()))},t.isEncoded=function(e){n.isBuffer(e)&&(e=e.toString());if("[object String]"!==Object.prototype.toString.call(e))return!1;const t=e.substring(0,1);try{return a(t).name}catch(e){return!1}},t.names=Object.freeze(Object.keys(i.names)),t.codes=Object.freeze(Object.keys(i.codes))},42150:(e,t)=>{"use strict";t.names=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,md4:212,md5:213,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),t.codes=Object.freeze({0:"identity",17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",212:"md4",213:"md5",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46e3:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),t.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46e3:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},62300:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764),i=r(93554),s=r(94676),a=r(42150);function o(e){t.decode(e)}t.names=a.names,t.codes=a.codes,t.defaultLengths=a.defaultLengths,t.toHexString=function(e){if(!n.isBuffer(e))throw new Error("must be passed a buffer");return e.toString("hex")},t.fromHexString=function(e){return n.from(e,"hex")},t.toB58String=function(e){if(!n.isBuffer(e))throw new Error("must be passed a buffer");return i.encode("base58btc",e).toString().slice(1)},t.fromB58String=function(e){let t=e;return n.isBuffer(e)&&(t=e.toString()),i.decode("z"+t)},t.decode=function(e){if(!n.isBuffer(e))throw new Error("multihash must be a Buffer");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const r=s.decode(e);if(!t.isValidCode(r))throw new Error(`multihash unknown function code: 0x${r.toString(16)}`);e=e.slice(s.decode.bytes);const i=s.decode(e);if(i<0)throw new Error(`multihash invalid length: ${i}`);if((e=e.slice(s.decode.bytes)).length!==i)throw new Error(`multihash length inconsistent: 0x${e.toString("hex")}`);return{code:r,name:a.codes[r],length:i,digest:e}},t.encode=function(e,r,i){if(!e||void 0===r)throw new Error("multihash encode requires at least two args: digest, code");const a=t.coerceCode(r);if(!n.isBuffer(e))throw new Error("digest should be a Buffer");if(null==i&&(i=e.length),i&&e.length!==i)throw new Error("digest length should be equal to specified length.");return n.concat([n.from(s.encode(a)),n.from(s.encode(i)),e])},t.coerceCode=function(e){let r=e;if("string"==typeof e){if(void 0===a.names[e])throw new Error(`Unrecognized hash function named: ${e}`);r=a.names[e]}if("number"!=typeof r)throw new Error(`Hash function code should be a number. Got: ${r}`);if(void 0===a.codes[r]&&!t.isAppCode(r))throw new Error(`Unrecognized function code: ${r}`);return r},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!a.codes[e]},t.validate=o,t.prefix=function(e){return o(e),e.slice(0,2)}},41152:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(1191),s=r(40498).toCallback,a={init:i.blake2bInit,update:i.blake2bUpdate,digest:i.blake2bFinal},o={init:i.blake2sInit,update:i.blake2sUpdate,digest:i.blake2sFinal},c=(e,t)=>s((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));e.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=c(t+1,a);for(let t=0;t<32;t++)e[45633+t]=c(t+1,o)}},73472:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(93067),s=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function a(e){if(!s)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,r)=>{const a=s.digest({name:e},t);if("function"!=typeof a.then)return a.onerror=()=>{r(new Error(`hashing data using ${e}`))},void(a.oncomplete=e=>{r(null,e.target.result)});i(a.then((e=>n.from(new Uint8Array(e)))),r)}}e.exports={sha1:function(e,t){a("SHA-1")(e,t)},sha2256:function(e,t){a("SHA-256")(e,t)},sha2512:function(e,t){a("SHA-512")(e,t)}}},59318:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(91094),s=r(77139),a=r(40498),o=r(73472),c=a.toCallback,u=a.toBuf,l=a.fromString,f=a.fromNumberTo32BitBuf;e.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:c(u(i.sha3_512)),sha3384:c(u(i.sha3_384)),sha3256:c(u(i.sha3_256)),sha3224:c(u(i.sha3_224)),shake128:c(u(i.shake_128,128)),shake256:c(u(i.shake_256,256)),keccak224:c(u(i.keccak_224)),keccak256:c(u(i.keccak_256)),keccak384:c(u(i.keccak_384)),keccak512:c(u(i.keccak_512)),murmur3128:c(u(l(s.x64.hash128))),murmur332:c(f(l(s.x86.hash32))),addBlake:r(41152),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}},83555:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(62300),s=r(59318);function a(e,t,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");a.digest(e,t,r,((e,s)=>{if(e)return n(e);n(null,i.encode(s,t,r))}))}e.exports=a,a.Buffer=n,a.multihash=i,a.digest=function(e,t,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");let i,s=n;r&&(s=(e,t)=>{if(e)return n(e);n(null,t.slice(0,r))});try{i=a.createHash(t)}catch(e){return s(e)}i(e,s)},a.createHash=function(e){if(e=i.coerceCode(e),!a.functions[e])throw new Error("multihash function "+e+" not yet supported");return a.functions[e]},a.functions={17:s.sha1,18:s.sha2256,19:s.sha2512,20:s.sha3512,21:s.sha3384,22:s.sha3256,23:s.sha3224,24:s.shake128,25:s.shake256,26:s.keccak224,27:s.keccak256,28:s.keccak384,29:s.keccak512,34:s.murmur3128,35:s.murmur332,86:s.dblSha2256},s.addBlake(a.functions)},40498:(e,t,r)=>{"use strict";var n=r(34155),i=r(48764).Buffer;t.toCallback=e=>function(t,r){let i;try{i=e(t)}catch(e){return void n.nextTick(r,e)}n.nextTick(r,null,i)},t.toBuf=(e,t)=>r=>{let n=e(r,t);return i.from(n,"hex")},t.fromString=(e,t)=>r=>{const n=i.isBuffer(r)?r.toString():r;return e(n,t)},t.fromNumberTo32BitBuf=(e,t)=>r=>{let n=e(r,t);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&n,n>>=8;return i.from(s)}},67321:(e,t,r)=>{var n=r(52059);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.aes.Algorithm(e,t)}))}r(28810),r(81800),r(76655),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},n.aes.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},n.aes.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){l||f();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return h(r._w,e,t,!1)},decrypt:function(e,t){return h(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var s=t.length();if(16===s||24===s||32===s){s>>>=2;for(i=0;i<s;++i)r.push(t.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,o=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=d(r,e.decrypt&&!o),this._init=!0}},n.aes._expandKey=function(e,t){return l||f(),d(e,t)},n.aes._updateBlock=h,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var s,a,o,c,u,l=!1;function f(){l=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;s=new Array(256),a=new Array(256),c=new Array(4),u=new Array(4);for(t=0;t<4;++t)c[t]=new Array(256),u[t]=new Array(256);var r,n,i,f,d,h,p,g=0,m=0;for(t=0;t<256;++t){f=(f=m^m<<1^m<<2^m<<3^m<<4)>>8^255&f^99,s[g]=f,a[f]=g,h=(d=e[f])<<24^f<<16^f<<8^f^d,p=((r=e[g])^(n=e[r])^(i=e[n]))<<24^(g^i)<<16^(g^n^i)<<8^g^r^i;for(var b=0;b<4;++b)c[b][g]=h,u[b][f]=p,h=h<<24|h>>>8,p=p<<24|p>>>8;0===g?g=m=1:(g=r^e[e[e[r^i]]],m^=e[e[m]])}}function d(e,t){for(var r,n=e.slice(0),i=1,a=n.length,c=4*(a+6+1),l=a;l<c;++l)r=n[l-1],l%a==0?(r=s[r>>>16&255]<<24^s[r>>>8&255]<<16^s[255&r]<<8^s[r>>>24]^o[i]<<24,i++):a>6&&l%a==4&&(r=s[r>>>24]<<24^s[r>>>16&255]<<16^s[r>>>8&255]<<8^s[255&r]),n[l]=n[l-a]^r;if(t){for(var f,d=u[0],h=u[1],p=u[2],g=u[3],m=n.slice(0),b=(l=0,(c=n.length)-4);l<c;l+=4,b-=4)if(0===l||l===c-4)m[l]=n[b],m[l+1]=n[b+3],m[l+2]=n[b+2],m[l+3]=n[b+1];else for(var y=0;y<4;++y)f=n[b+y],m[l+(3&-y)]=d[s[f>>>24]]^h[s[f>>>16&255]]^p[s[f>>>8&255]]^g[s[255&f]];n=m}return n}function h(e,t,r,n){var i,o,l,f,d,h,p,g,m,b,y,v,k=e.length/4-1;n?(i=u[0],o=u[1],l=u[2],f=u[3],d=a):(i=c[0],o=c[1],l=c[2],f=c[3],d=s),h=t[0]^e[0],p=t[n?3:1]^e[1],g=t[2]^e[2],m=t[n?1:3]^e[3];for(var S=3,E=1;E<k;++E)b=i[h>>>24]^o[p>>>16&255]^l[g>>>8&255]^f[255&m]^e[++S],y=i[p>>>24]^o[g>>>16&255]^l[m>>>8&255]^f[255&h]^e[++S],v=i[g>>>24]^o[m>>>16&255]^l[h>>>8&255]^f[255&p]^e[++S],m=i[m>>>24]^o[h>>>16&255]^l[p>>>8&255]^f[255&g]^e[++S],h=b,p=y,g=v;r[0]=d[h>>>24]<<24^d[p>>>16&255]<<16^d[g>>>8&255]<<8^d[255&m]^e[++S],r[n?3:1]=d[p>>>24]<<24^d[g>>>16&255]<<16^d[m>>>8&255]<<8^d[255&h]^e[++S],r[2]=d[g>>>24]<<24^d[m>>>16&255]<<16^d[h>>>8&255]<<8^d[255&p]^e[++S],r[n?1:3]=d[m>>>24]<<24^d[h>>>16&255]<<16^d[p>>>8&255]<<8^d[255&g]^e[++S]}function p(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=e,i.call(t,r)},t}},286:(e,t,r)=>{var n=r(52059);r(67321),r(24237);var i=e.exports=n.tls;function s(e,t,r){var s=t.entity===n.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",s?r.keys.server_write_key:r.keys.client_write_key),iv:s?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",s?r.keys.client_write_key:r.keys.server_write_key),iv:s?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=u,e.write.cipherFunction=a,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=i.hmac_sha1}function a(e,t){var r,s=!1,a=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(a),t.updateSequenceNumber(),r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:n.random.getBytesSync(16),t.cipherState.init=!0;var c=t.cipherState.cipher;return c.start({iv:r}),e.version.minor>=i.Versions.TLS_1_1.minor&&c.output.putBytes(r),c.update(e.fragment),c.finish(o)&&(e.fragment=c.output,e.length=e.fragment.length(),s=!0),s}function o(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function c(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:s},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:s};function u(e,t){var r,s=!1;r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var a=t.cipherState.cipher;a.start({iv:r}),a.update(e.fragment),s=a.finish(c);var o=t.macLength,u=n.random.getBytesSync(o),l=a.output.length();l>=o?(e.fragment=a.output.getBytes(l-o),u=a.output.getBytes(o)):e.fragment=a.output.getBytes(),e.fragment=n.util.createBuffer(e.fragment),e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),s=function(e,t,r){var i=n.hmac.create();return i.start("SHA1",e),i.update(t),t=i.digest().getBytes(),i.start(null,null),i.update(r),r=i.digest().getBytes(),t===r}(t.macKey,u,f)&&s}},72447:(e,t,r)=>{var n=r(52059);r(76655),r(78529);var i=e.exports=n.asn1=n.asn1||{};function s(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,r,s,a){if(n.util.isArray(s)){for(var o=[],c=0;c<s.length;++c)void 0!==s[c]&&o.push(s[c]);s=o}var u={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(s),value:s};return a&&"bitStringContents"in a&&(u.bitStringContents=a.bitStringContents,u.original=i.copy(u)),u},i.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var s=0;s<e.length;++s)r.push(i.copy(e[s],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},i.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var s=0;s<e.length;++s)if(!i.equals(e[s],t[s]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},i.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};function a(e,t,r,n){var o;s(e,t,2);var c=e.getByte();t--;var u=192&c,l=31&c;o=e.length();var f,d,h=function(e,t){var r=e.getByte();if(t--,128!==r){var n;if(128&r){var i=127&r;s(e,t,i),n=e.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(e,t);if(t-=o-e.length(),void 0!==h&&h>t){if(n.strict){var p=new Error("Too few bytes to read ASN.1 value.");throw p.available=e.length(),p.remaining=t,p.requested=h,p}h=t}var g=32==(32&c);if(g)if(f=[],void 0===h)for(;;){if(s(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}o=e.length(),f.push(a(e,t,r+1,n)),t-=o-e.length()}else for(;h>0;)o=e.length(),f.push(a(e,h,r+1,n)),t-=o-e.length(),h-=o-e.length();if(void 0===f&&u===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&(d=e.bytes(h)),void 0===f&&n.decodeBitStrings&&u===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&h>1){var m=e.read,b=t,y=0;if(l===i.Type.BITSTRING&&(s(e,t,1),y=e.getByte(),t--),0===y)try{o=e.length();var v=a(e,t,r+1,{verbose:n.verbose,strict:!0,decodeBitStrings:!0}),k=o-e.length();t-=k,l==i.Type.BITSTRING&&k++;var S=v.tagClass;k!==h||S!==i.Class.UNIVERSAL&&S!==i.Class.CONTEXT_SPECIFIC||(f=[v])}catch(e){}void 0===f&&(e.read=m,t=b)}if(void 0===f){if(void 0===h){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");h=t}if(l===i.Type.BMPSTRING)for(f="";h>0;h-=2)s(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(h)}var E=void 0===d?null:{bitStringContents:d};return i.create(u,l,g,f,E)}i.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),a(e,e.length(),0,t)},i.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,s=n.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=i.equals(e,e.original))),a)s.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:s.putByte(0);for(var o=0;o<e.value.length;++o)void 0!==e.value[o]&&s.putBuffer(i.toDer(e.value[o]))}else if(e.type===i.Type.BMPSTRING)for(o=0;o<e.value.length;++o)s.putInt16(e.value.charCodeAt(o));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?s.putBytes(e.value.substr(1)):s.putBytes(e.value);if(t.putByte(r),s.length()<=127)t.putByte(127&s.length());else{var c=s.length(),u="";do{u+=String.fromCharCode(255&c),c>>>=8}while(c>0);t.putByte(128|u.length);for(o=u.length-1;o>=0;--o)t.putByte(u.charCodeAt(o))}return t.putBuffer(s),t},i.oidToDer=function(e){var t,r,i,s,a=e.split("."),o=n.util.createBuffer();o.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var c=2;c<a.length;++c){t=!0,r=[],i=parseInt(a[c],10);do{s=127&i,i>>>=7,t||(s|=128),r.push(s),t=!1}while(i>0);for(var u=r.length-1;u>=0;--u)o.putByte(r[u])}return o},i.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var i=0;e.length()>0;)i<<=7,128&(r=e.getByte())?i+=127&r:(t+="."+(i+r),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var c=e.charAt(10),u=10;"+"!==c&&"-"!==c&&(o=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,0),u&&("+"===(c=e.charAt(u))||"-"===c)){var l=60*parseInt(e.substr(u+1,2),10)+parseInt(e.substr(u+4,2),10);l*=6e4,"+"===c?t.setTime(+t-l):t.setTime(+t+l)}return t},i.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),c=0,u=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var f=e.length-5,d=e.charAt(f);"+"!==d&&"-"!==d||(u=60*parseInt(e.substr(f+1,2),10)+parseInt(e.substr(f+4,2),10),u*=6e4,"+"===d&&(u*=-1),l=!0);return"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,o,c)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},i.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,r,s){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)s&&(e.tagClass!==t.tagClass&&s.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&s.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&n.util.isArray(t.value))for(var o=0,c=0;a&&c<t.value.length;++c)a=t.value[c].optional||!1,e.value[o]&&((a=i.validate(e.value[o],t.value[c],r,s))?++o:t.value[c].optional&&(a=!0)),!a&&s&&s.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r)if(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else s&&s.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var o=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,r){var s="";r=r||2,(t=t||0)>0&&(s+="\n");for(var a="",c=0;c<t*r;++c)a+=" ";switch(s+=a+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:s+="Universal:";break;case i.Class.APPLICATION:s+="Application:";break;case i.Class.CONTEXT_SPECIFIC:s+="Context-Specific:";break;case i.Class.PRIVATE:s+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(s+=e.type,e.type){case i.Type.NONE:s+=" (None)";break;case i.Type.BOOLEAN:s+=" (Boolean)";break;case i.Type.INTEGER:s+=" (Integer)";break;case i.Type.BITSTRING:s+=" (Bit string)";break;case i.Type.OCTETSTRING:s+=" (Octet string)";break;case i.Type.NULL:s+=" (Null)";break;case i.Type.OID:s+=" (Object Identifier)";break;case i.Type.ODESC:s+=" (Object Descriptor)";break;case i.Type.EXTERNAL:s+=" (External or Instance of)";break;case i.Type.REAL:s+=" (Real)";break;case i.Type.ENUMERATED:s+=" (Enumerated)";break;case i.Type.EMBEDDED:s+=" (Embedded PDV)";break;case i.Type.UTF8:s+=" (UTF8)";break;case i.Type.ROID:s+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:s+=" (Sequence)";break;case i.Type.SET:s+=" (Set)";break;case i.Type.PRINTABLESTRING:s+=" (Printable String)";break;case i.Type.IA5String:s+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:s+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:s+=" (Generalized time)";break;case i.Type.BMPSTRING:s+=" (BMP String)"}else s+=e.type;if(s+="\n",s+=a+"Constructed: "+e.constructed+"\n",e.composed){var u=0,l="";for(c=0;c<e.value.length;++c)void 0!==e.value[c]&&(u+=1,l+=i.prettyPrint(e.value[c],t+1,r),c+1<e.value.length&&(l+=","));s+=a+"Sub values: "+u+l}else{if(s+=a+"Value: ",e.type===i.Type.OID){var f=i.derToOid(e.value);s+=f,n.pki&&n.pki.oids&&f in n.pki.oids&&(s+=" ("+n.pki.oids[f]+") ")}if(e.type===i.Type.INTEGER)try{s+=i.derToInteger(e.value)}catch(t){s+="0x"+n.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?s+="0x"+n.util.bytesToHex(e.value.slice(1)):s+="(none)",e.value.length>0){var d=e.value.charCodeAt(0);1==d?s+=" (1 unused bit shown)":d>1&&(s+=" ("+d+" unused bits shown)")}}else e.type===i.Type.OCTETSTRING?(o.test(e.value)||(s+="("+e.value+") "),s+="0x"+n.util.bytesToHex(e.value)):e.type===i.Type.UTF8?s+=n.util.decodeUtf8(e.value):e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?s+=e.value:o.test(e.value)?s+="0x"+n.util.bytesToHex(e.value):0===e.value.length?s+="[null]":s+=e.value}return s}},99239:(e,t,r)=>{var n=r(48764).Buffer,i={};e.exports=i;var s={};i.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,s=t.length,a=t.charAt(0),o=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<o.length;++c)u+=o[c]<<8,o[c]=u%s,u=u/s|0;for(;u>0;)o.push(u%s),u=u/s|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=o.length-1;i>=0;--i)n+=t[o[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,o=e.at(r);a<s.length;++a)o+=s[a]<<8,s[a]=o%n,o=o/n|0;for(;o>0;)s.push(o%n),o=o/n|0}var c="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},i.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var r=s[t];if(!r){r=s[t]=[];for(var i=0;i<t.length;++i)r[t.charCodeAt(i)]=i}e=e.replace(/\s/g,"");var a=t.length,o=t.charAt(0),c=[0];for(i=0;i<e.length;i++){var u=r[e.charCodeAt(i)];if(void 0===u)return;for(var l=0,f=u;l<c.length;++l)f+=c[l]*a,c[l]=255&f,f>>=8;for(;f>0;)c.push(255&f),f>>=8}for(var d=0;e[d]===o&&d<e.length-1;++d)c.push(0);return void 0!==n?n.from(c.reverse()):new Uint8Array(c.reverse())}},28810:(e,t,r)=>{var n=r(52059);r(76655),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},81800:(e,t,r)=>{var n=r(52059);r(76655),n.cipher=n.cipher||{};var i=e.exports=n.cipher.modes=n.cipher.modes||{};function s(e){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var t=e;e=n.util.createBuffer();for(var r=0;r<t.length;++r)e.putByte(t[r])}return n.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function o(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=o(8*t.length());var s=t.length()%this.blockSize;for(s&&t.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0===s||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(o(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var s=[];this.cipher.encrypt(this._j0,s);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^s[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var o=[0,0,0,0],c=(n-1-a%n)*t;o[a/n|0]=1<<t-1<<c,s[a]=this.generateSubHashTable(this.multiply(o,e),t)}return s},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var o=i[s],c=i[a];i[s+a]=[o[0]^c[0],o[1]^c[1],o[2]^c[2],o[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i}},9254:(e,t,r)=>{var n=r(52059);e.exports=n.debug=n.debug||{},n.debug.storage={},n.debug.get=function(e,t){var r;return void 0===e?r=n.debug.storage:e in n.debug.storage&&(r=void 0===t?n.debug.storage[e]:n.debug.storage[e][t]),r},n.debug.set=function(e,t,r){e in n.debug.storage||(n.debug.storage[e]={}),n.debug.storage[e][t]=r},n.debug.clear=function(e,t){void 0===e?n.debug.storage={}:e in n.debug.storage&&(void 0===t?delete n.debug.storage[e]:delete n.debug.storage[e][t])}},99132:(e,t,r)=>{var n=r(52059);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.des.Algorithm(e,t)}))}r(28810),r(81800),r(76655),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return h(r._keys,e,t,!1)},decrypt:function(e,t){return h(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,b=[],y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,k=0;k<m;k++){var S=e.getInt32(),E=e.getInt32();S^=(t=252645135&(S>>>4^E))<<4,S^=t=65535&((E^=t)>>>-16^S),S^=(t=858993459&(S>>>2^(E^=t<<-16)))<<2,S^=t=65535&((E^=t)>>>-16^S),S^=(t=1431655765&(S>>>1^(E^=t<<-16)))<<1,S^=t=16711935&((E^=t)>>>8^S),t=(S^=(t=1431655765&(S>>>1^(E^=t<<8)))<<1)<<8|(E^=t)>>>20&240,S=E<<24|E<<8&16711680|E>>>8&65280|E>>>24&240,E=t;for(var w=0;w<y.length;++w){y[w]?(S=S<<2|S>>>26,E=E<<2|E>>>26):(S=S<<1|S>>>27,E=E<<1|E>>>27),E&=-15;var C=r[(S&=-15)>>>28]|n[S>>>24&15]|i[S>>>20&15]|s[S>>>16&15]|a[S>>>12&15]|o[S>>>8&15]|c[S>>>4&15],A=u[E>>>28]|l[E>>>24&15]|f[E>>>20&15]|d[E>>>16&15]|h[E>>>12&15]|p[E>>>8&15]|g[E>>>4&15];t=65535&(A>>>16^C),b[v++]=C^t,b[v++]=A^t<<16}}return b}(t),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(e,t,r,n){var i,h,p=32===e.length?3:9;i=3===p?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],m=t[1];g^=(h=252645135&(g>>>4^m))<<4,g^=(h=65535&(g>>>16^(m^=h)))<<16,g^=h=858993459&((m^=h)>>>2^g),g^=h=16711935&((m^=h<<2)>>>8^g),g=(g^=(h=1431655765&(g>>>1^(m^=h<<8)))<<1)<<1|g>>>31,m=(m^=h)<<1|m>>>31;for(var b=0;b<p;b+=3){for(var y=i[b+1],v=i[b+2],k=i[b];k!=y;k+=v){var S=m^e[k],E=(m>>>4|m<<28)^e[k+1];h=g,g=m,m=h^(a[S>>>24&63]|c[S>>>16&63]|l[S>>>8&63]|d[63&S]|s[E>>>24&63]|o[E>>>16&63]|u[E>>>8&63]|f[63&E])}h=g,g=m,m=h}m=m>>>1|m<<31,m^=h=1431655765&((g=g>>>1|g<<31)>>>1^m),m^=(h=16711935&(m>>>8^(g^=h<<1)))<<8,m^=(h=858993459&(m>>>2^(g^=h)))<<2,m^=h=65535&((g^=h)>>>16^m),m^=h=252645135&((g^=h<<16)>>>4^m),g^=h<<4,r[0]=g,r[1]=m}function p(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=e,i.call(t,r)},t}},93991:(e,t,r)=>{var n=r(48764).Buffer,i=r(52059);if(r(60750),r(27174),r(89030),r(76655),void 0===s)var s=i.jsbn.BigInteger;var a=i.util.ByteBuffer,o=void 0===n?Uint8Array:n;i.pki=i.pki||{},e.exports=i.pki.ed25519=i.ed25519=i.ed25519||{};var c=i.ed25519;function u(e){var t=e.message;if(t instanceof Uint8Array)return t;var r=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),r="binary"}if("string"==typeof t&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if(void 0!==n)return new n(t,r);t=new a(t,r)}else if(!(t instanceof a))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new o(t.length()),s=0;s<i.length;++s)i[s]=t.at(s);return i}c.constants={},c.constants.PUBLIC_KEY_BYTE_LENGTH=32,c.constants.PRIVATE_KEY_BYTE_LENGTH=64,c.constants.SEED_BYTE_LENGTH=32,c.constants.SIGN_BYTE_LENGTH=64,c.constants.HASH_BYTE_LENGTH=64,c.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=i.random.getBytesSync(c.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==c.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+c.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=u({message:t,encoding:"binary"});for(var r=new o(c.constants.PUBLIC_KEY_BYTE_LENGTH),n=new o(c.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return function(e,t){var r,n=[x(),x(),x(),x()],i=y(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,B(n,i),w(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,n),{publicKey:r,privateKey:n}},c.publicKeyFromPrivateKey=function(e){var t=u({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new o(c.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},c.sign=function(e){var t=u(e=e||{}),r=u({message:e.privateKey,encoding:"binary"});if(r.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new o(c.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var i,s,a=new Float64Array(64),o=[x(),x(),x(),x()],c=y(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var l=y(e.subarray(32),r+32);for(k(l),B(o,l),w(e,o),i=32;i<64;++i)e[i]=n[i];var f=y(e,r+64);for(k(f),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=l[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=f[i]*c[s];v(e.subarray(32),a)}(n,t,t.length,r);for(var i=new o(c.constants.SIGN_BYTE_LENGTH),s=0;s<i.length;++s)i[s]=n[s];return i},c.verify=function(e){var t=u(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=u({message:e.signature,encoding:"binary"});if(r.length!==c.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+c.constants.SIGN_BYTE_LENGTH);var n=u({message:e.publicKey,encoding:"binary"});if(n.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+c.constants.PUBLIC_KEY_BYTE_LENGTH);var i,s=new o(c.constants.SIGN_BYTE_LENGTH+t.length),a=new o(c.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<c.constants.SIGN_BYTE_LENGTH;++i)s[i]=r[i];for(i=0;i<t.length;++i)s[i+c.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,r,n){var i,s=new o(32),a=[x(),x(),x(),x()],c=[x(),x(),x(),x()];if(-1,r<64)return-1;if(function(e,t){var r=x(),n=x(),i=x(),s=x(),a=x(),o=x(),c=x();N(e[2],f),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),D(i,e[1]),O(s,i,d),M(i,i,e[2]),L(s,e[2],s),D(a,s),D(o,a),O(c,o,a),O(r,c,i),O(r,r,s),function(e,t){var r,n=x();for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)D(n,n),1!==r&&O(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(r,r),O(r,r,i),O(r,r,s),O(r,r,s),O(e[0],r,s),D(n,e[0]),O(n,n,s),A(n,i)&&O(e[0],e[0],b);if(D(n,e[0]),O(n,n,s),A(n,i))return-1;T(e[0])===t[31]>>7&&M(e[0],l,e[0]);return O(e[3],e[0],e[1]),0}(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=y(e,r);if(k(u),_(a,c,u),B(c,t.subarray(32)),S(a,c),w(s,a),r-=64,I(t,0,s,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return r}(a,s,s.length,n)>=0};var l=x(),f=x([1]),d=x([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=x([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=x([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=x([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),b=x([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(e,t){var r=i.md.sha512.create(),s=new a(e);r.update(s.getBytes(t),"binary");var u=r.digest().getBytes();if(void 0!==n)return new n(u,"binary");for(var l=new o(c.constants.HASH_BYTE_LENGTH),f=0;f<64;++f)l[f]=u.charCodeAt(f);return l}function v(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*m[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*m[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*m[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function k(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;v(e,t)}function S(e,t){var r=x(),n=x(),i=x(),s=x(),a=x(),o=x(),c=x(),u=x(),l=x();M(r,e[1],e[0]),M(l,t[1],t[0]),O(r,r,l),L(n,e[0],e[1]),L(l,t[0],t[1]),O(n,n,l),O(i,e[3],t[3]),O(i,i,h),O(s,e[2],t[2]),L(s,s,s),M(a,n,r),M(o,s,i),L(c,s,i),L(u,n,r),O(e[0],a,o),O(e[1],u,c),O(e[2],c,o),O(e[3],a,u)}function E(e,t,r){for(var n=0;n<4;++n)P(e[n],t[n],r)}function w(e,t){var r=x(),n=x(),i=x();!function(e,t){var r,n=x();for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)D(n,n),2!==r&&4!==r&&O(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(i,t[2]),O(r,t[0],i),O(n,t[1],i),C(e,n),e[31]^=T(r)<<7}function C(e,t){var r,n,i,s=x(),a=x();for(r=0;r<16;++r)a[r]=t[r];for(R(a),R(a),R(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,P(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function A(e,t){var r=new o(32),n=new o(32);return C(r,e),C(n,t),I(r,0,n,0)}function I(e,t,r,n){return function(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}(e,t,r,n,32)}function T(e){var t=new o(32);return C(t,e),1&t[0]}function _(e,t,r){var n,i;for(N(e[0],l),N(e[1],f),N(e[2],f),N(e[3],l),i=255;i>=0;--i)E(e,t,n=r[i/8|0]>>(7&i)&1),S(t,e),S(e,e),E(e,t,n)}function B(e,t){var r=[x(),x(),x(),x()];N(r[0],p),N(r[1],g),N(r[2],f),O(r[3],p,g),_(e,r,t)}function N(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function R(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function x(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function L(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function M(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function D(e,t){O(e,t,t)}function O(e,t,r){var n,i,s=0,a=0,o=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,g=0,m=0,b=0,y=0,v=0,k=0,S=0,E=0,w=0,C=0,A=0,I=0,T=0,_=0,B=0,N=0,R=0,P=0,x=0,L=0,M=0,D=r[0],O=r[1],U=r[2],K=r[3],V=r[4],q=r[5],j=r[6],F=r[7],z=r[8],J=r[9],H=r[10],G=r[11],Y=r[12],Q=r[13],X=r[14],Z=r[15];s+=(n=t[0])*D,a+=n*O,o+=n*U,c+=n*K,u+=n*V,l+=n*q,f+=n*j,d+=n*F,h+=n*z,p+=n*J,g+=n*H,m+=n*G,b+=n*Y,y+=n*Q,v+=n*X,k+=n*Z,a+=(n=t[1])*D,o+=n*O,c+=n*U,u+=n*K,l+=n*V,f+=n*q,d+=n*j,h+=n*F,p+=n*z,g+=n*J,m+=n*H,b+=n*G,y+=n*Y,v+=n*Q,k+=n*X,S+=n*Z,o+=(n=t[2])*D,c+=n*O,u+=n*U,l+=n*K,f+=n*V,d+=n*q,h+=n*j,p+=n*F,g+=n*z,m+=n*J,b+=n*H,y+=n*G,v+=n*Y,k+=n*Q,S+=n*X,E+=n*Z,c+=(n=t[3])*D,u+=n*O,l+=n*U,f+=n*K,d+=n*V,h+=n*q,p+=n*j,g+=n*F,m+=n*z,b+=n*J,y+=n*H,v+=n*G,k+=n*Y,S+=n*Q,E+=n*X,w+=n*Z,u+=(n=t[4])*D,l+=n*O,f+=n*U,d+=n*K,h+=n*V,p+=n*q,g+=n*j,m+=n*F,b+=n*z,y+=n*J,v+=n*H,k+=n*G,S+=n*Y,E+=n*Q,w+=n*X,C+=n*Z,l+=(n=t[5])*D,f+=n*O,d+=n*U,h+=n*K,p+=n*V,g+=n*q,m+=n*j,b+=n*F,y+=n*z,v+=n*J,k+=n*H,S+=n*G,E+=n*Y,w+=n*Q,C+=n*X,A+=n*Z,f+=(n=t[6])*D,d+=n*O,h+=n*U,p+=n*K,g+=n*V,m+=n*q,b+=n*j,y+=n*F,v+=n*z,k+=n*J,S+=n*H,E+=n*G,w+=n*Y,C+=n*Q,A+=n*X,I+=n*Z,d+=(n=t[7])*D,h+=n*O,p+=n*U,g+=n*K,m+=n*V,b+=n*q,y+=n*j,v+=n*F,k+=n*z,S+=n*J,E+=n*H,w+=n*G,C+=n*Y,A+=n*Q,I+=n*X,T+=n*Z,h+=(n=t[8])*D,p+=n*O,g+=n*U,m+=n*K,b+=n*V,y+=n*q,v+=n*j,k+=n*F,S+=n*z,E+=n*J,w+=n*H,C+=n*G,A+=n*Y,I+=n*Q,T+=n*X,_+=n*Z,p+=(n=t[9])*D,g+=n*O,m+=n*U,b+=n*K,y+=n*V,v+=n*q,k+=n*j,S+=n*F,E+=n*z,w+=n*J,C+=n*H,A+=n*G,I+=n*Y,T+=n*Q,_+=n*X,B+=n*Z,g+=(n=t[10])*D,m+=n*O,b+=n*U,y+=n*K,v+=n*V,k+=n*q,S+=n*j,E+=n*F,w+=n*z,C+=n*J,A+=n*H,I+=n*G,T+=n*Y,_+=n*Q,B+=n*X,N+=n*Z,m+=(n=t[11])*D,b+=n*O,y+=n*U,v+=n*K,k+=n*V,S+=n*q,E+=n*j,w+=n*F,C+=n*z,A+=n*J,I+=n*H,T+=n*G,_+=n*Y,B+=n*Q,N+=n*X,R+=n*Z,b+=(n=t[12])*D,y+=n*O,v+=n*U,k+=n*K,S+=n*V,E+=n*q,w+=n*j,C+=n*F,A+=n*z,I+=n*J,T+=n*H,_+=n*G,B+=n*Y,N+=n*Q,R+=n*X,P+=n*Z,y+=(n=t[13])*D,v+=n*O,k+=n*U,S+=n*K,E+=n*V,w+=n*q,C+=n*j,A+=n*F,I+=n*z,T+=n*J,_+=n*H,B+=n*G,N+=n*Y,R+=n*Q,P+=n*X,x+=n*Z,v+=(n=t[14])*D,k+=n*O,S+=n*U,E+=n*K,w+=n*V,C+=n*q,A+=n*j,I+=n*F,T+=n*z,_+=n*J,B+=n*H,N+=n*G,R+=n*Y,P+=n*Q,x+=n*X,L+=n*Z,k+=(n=t[15])*D,a+=38*(E+=n*U),o+=38*(w+=n*K),c+=38*(C+=n*V),u+=38*(A+=n*q),l+=38*(I+=n*j),f+=38*(T+=n*F),d+=38*(_+=n*z),h+=38*(B+=n*J),p+=38*(N+=n*H),g+=38*(R+=n*G),m+=38*(P+=n*Y),b+=38*(x+=n*Q),y+=38*(L+=n*X),v+=38*(M+=n*Z),s=(n=(s+=38*(S+=n*O))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=g,e[11]=m,e[12]=b,e[13]=y,e[14]=v,e[15]=k}},52059:e=>{e.exports={options:{usePureJavaScript:!1}}},98385:(e,t,r)=>{var n=r(52059);r(88722),r(76655),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,i=null,s={start:function(s,a){if(null!==s)if("string"==typeof s){if(!((s=s.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+s+'"');t=n.md.algorithms[s].create()}else t=s;if(null===a)a=e;else{if("string"==typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){var o=a;a=n.util.createBuffer();for(var c=0;c<o.length;++c)a.putByte(o[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),u=a.length();for(c=0;c<u;++c){o=a.at(c);r.putByte(54^o),i.putByte(92^o)}if(u<t.blockLength)for(o=t.blockLength-u,c=0;c<o;++c)r.putByte(54),i.putByte(92);e=a,r=r.bytes(),i=i.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return s.digest=s.getMac,s}},1951:(e,t,r)=>{e.exports=r(52059),r(67321),r(286),r(72447),r(28810),r(9254),r(99132),r(93991),r(98385),r(88576),r(37353),r(30606),r(63146),r(55340),r(33106),r(67297),r(169),r(23374),r(13606),r(32272),r(55603),r(70274),r(27174),r(30564),r(71059),r(85308),r(24237),r(76655)},60750:(e,t,r)=>{var n,i=r(52059);e.exports=i.jsbn=i.jsbn||{};function s(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new s(null)}function o(e,t,r,n,i,s){for(var a=16383&t,o=t>>14;--s>=0;){var c=16383&this.data[e],u=this.data[e++]>>14,l=o*c+u*a;i=((c=a*c+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+o*u,r.data[n++]=268435455&c}return i}i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=o,n=28):"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(e,t,r,n,i,s){for(var a=32767&t,o=t>>15;--s>=0;){var c=32767&this.data[e],u=this.data[e++]>>15,l=o*c+u*a;i=((c=a*c+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+o*u+(i>>>30),r.data[n++]=1073741823&c}return i},n=30):"Netscape"!=navigator.appName?(s.prototype.am=function(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},n=26):(s.prototype.am=o,n=28),s.prototype.DB=n,s.prototype.DM=(1<<n)-1,s.prototype.DV=1<<n;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-n,s.prototype.F2=2*n-52;var c,u,l=new Array;for(c="0".charCodeAt(0),u=0;u<=9;++u)l[c++]=u;for(c="a".charCodeAt(0),u=10;u<36;++u)l[c++]=u;for(c="A".charCodeAt(0),u=10;u<36;++u)l[c++]=u;function f(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function d(e,t){var r=l[e.charCodeAt(t)];return null==r?-1:r}function h(e){var t=a();return t.fromInt(e),t}function p(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function g(e){this.m=e}function m(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function b(e,t){return e&t}function y(e,t){return e|t}function v(e,t){return e^t}function k(e,t){return e&~t}function S(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function E(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function w(){}function C(e){return e}function A(e){this.r2=a(),this.q3=a(),s.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}g.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},g.prototype.revert=function(e){return e},g.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},g.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},m.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},m.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},s.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var o=8==r?255&e[n]:d(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==a?this.data[this.t++]=o:a+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this.data[this.t++]=o>>this.DB-a):this.data[this.t-1]|=o<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,s=(1<<i)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>i|o,o=(this.data[r]&s)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},s.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},s.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var o=a(),c=this.s,u=e.s,l=this.DB-p(n.data[n.t-1]);l>0?(n.lShiftTo(l,o),i.lShiftTo(l,r)):(n.copyTo(o),i.copyTo(r));var f=o.t,d=o.data[f-1];if(0!=d){var h=d*(1<<this.F1)+(f>1?o.data[f-2]>>this.F2:0),g=this.FV/h,m=(1<<this.F1)/h,b=1<<this.F2,y=r.t,v=y-f,k=null==t?a():t;for(o.dlShiftTo(v,k),r.compareTo(k)>=0&&(r.data[r.t++]=1,r.subTo(k,r)),s.ONE.dlShiftTo(f,k),k.subTo(o,o);o.t<f;)o.data[o.t++]=0;for(;--v>=0;){var S=r.data[--y]==d?this.DM:Math.floor(r.data[y]*g+(r.data[y-1]+b)*m);if((r.data[y]+=o.am(0,S,r,v,0,f))<S)for(o.dlShiftTo(v,k),r.subTo(k,r);r.data[y]<--S;)r.subTo(k,r)}null!=t&&(r.drShiftTo(f,t),c!=u&&s.ZERO.subTo(t,t)),r.t=f,r.clamp(),l>0&&r.rShiftTo(l,r),c<0&&s.ZERO.subTo(r,r)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},s.prototype.exp=function(e,t){if(e>4294967295||e<1)return s.ONE;var r=a(),n=a(),i=t.convert(this),o=p(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var c=r;r=n,n=c}return t.revert(r)},s.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(r=this.data[a]>>o)>0&&(i=!0,s=f(r));a>=0;)o<t?(r=(this.data[a]&(1<<o)-1)<<t-o,r|=this.data[--a]>>(o+=this.DB-t)):(r=this.data[a]>>(o-=t)&n,o<=0&&(o+=this.DB,--a)),r>0&&(i=!0),i&&(s+=f(r));return i?s:"0"},s.prototype.negate=function(){var e=a();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this.data[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new g(t):new m(t),this.exp(e,r)},s.ZERO=h(0),s.ONE=h(1),w.prototype.convert=C,w.prototype.revert=C,w.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},w.prototype.sqrTo=function(e,t){e.squareTo(t)},A.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},A.prototype.revert=function(e){return e},A.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},A.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},A.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var I=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],T=(1<<26)/I[I.length-1];s.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},s.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=h(r),i=a(),s=a(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},s.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,o=0,c=0;c<e.length;++c){var u=d(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(o=t*o+u,++a>=r&&(this.dMultiply(n),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(s.ONE.shiftLeft(e-1),y,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(s.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},s.prototype.bitwiseTo=function(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},s.prototype.changeBit=function(e,t){var r=s.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},s.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},s.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},s.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},s.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},s.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},s.prototype.millerRabin=function(e){var t=this.subtract(s.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},o=0;o<e;++o){do{n=new s(this.bitLength(),a)}while(n.compareTo(s.ONE)<=0||n.compareTo(t)>=0);var c=n.modPow(i,this);if(0!=c.compareTo(s.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<r&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},s.prototype.clone=function(){var e=a();return this.copyTo(e),e},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},s.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},s.prototype.equals=function(e){return 0==this.compareTo(e)},s.prototype.min=function(e){return this.compareTo(e)<0?this:e},s.prototype.max=function(e){return this.compareTo(e)>0?this:e},s.prototype.and=function(e){var t=a();return this.bitwiseTo(e,b,t),t},s.prototype.or=function(e){var t=a();return this.bitwiseTo(e,y,t),t},s.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,v,t),t},s.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,k,t),t},s.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},s.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},s.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},s.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+S(this.data[e]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=E(this.data[r]^t);return e},s.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},s.prototype.setBit=function(e){return this.changeBit(e,y)},s.prototype.clearBit=function(e){return this.changeBit(e,k)},s.prototype.flipBit=function(e){return this.changeBit(e,v)},s.prototype.add=function(e){var t=a();return this.addTo(e,t),t},s.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},s.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},s.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},s.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},s.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),s=h(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new g(t):t.isEven()?new A(t):new m(t);var o=new Array,c=3,u=r-1,l=(1<<r)-1;if(o[1]=n.convert(this),r>1){var f=a();for(n.sqrTo(o[1],f);c<=l;)o[c]=a(),n.mulTo(f,o[c-2],o[c]),c+=2}var d,b,y=e.t-1,v=!0,k=a();for(i=p(e.data[y])-1;y>=0;){for(i>=u?d=e.data[y]>>i-u&l:(d=(e.data[y]&(1<<i+1)-1)<<u-i,y>0&&(d|=e.data[y-1]>>this.DB+i-u)),c=r;0==(1&d);)d>>=1,--c;if((i-=c)<0&&(i+=this.DB,--y),v)o[d].copyTo(s),v=!1;else{for(;c>1;)n.sqrTo(s,k),n.sqrTo(k,s),c-=2;c>0?n.sqrTo(s,k):(b=s,s=k,k=b),n.mulTo(k,o[d],s)}for(;y>=0&&0==(e.data[y]&1<<i);)n.sqrTo(s,k),b=s,s=k,k=b,--i<0&&(i=this.DB-1,--y)}return n.revert(s)},s.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return s.ZERO;for(var r=e.clone(),n=this.clone(),i=h(1),a=h(0),o=h(0),c=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&c.isEven()||(o.addTo(this,o),c.subTo(e,c)),o.rShiftTo(1,o)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),a.subTo(c,a)):(n.subTo(r,n),t&&o.subTo(i,o),c.subTo(a,c))}return 0!=n.compareTo(s.ONE)?s.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},s.prototype.pow=function(e){return this.exp(e,new w)},s.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},s.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=I[I.length-1]){for(t=0;t<I.length;++t)if(r.data[0]==I[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<I.length;){for(var n=I[t],i=t+1;i<I.length&&n<T;)n*=I[i++];for(n=r.modInt(n);t<i;)if(n%I[t++]==0)return!1}return r.millerRabin(e)}},88576:(e,t,r)=>{var n=r(52059);r(76655),r(27174),r(60750),e.exports=n.kem=n.kem||{};var i=n.jsbn.BigInteger;function s(e,t,r,i){e.generate=function(e,s){for(var a=new n.util.ByteBuffer,o=Math.ceil(s/i)+r,c=new n.util.ByteBuffer,u=r;u<o;++u){c.putInt32(u),t.start(),t.update(e+c.getBytes());var l=t.digest();a.putBytes(l.getBytes(i))}return a.truncate(a.length()-s),a.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||n.random,s={encrypt:function(t,s){var a,o=Math.ceil(t.n.bitLength()/8);do{a=new i(n.util.bytesToHex(r.getBytesSync(o)),16).mod(t.n)}while(a.equals(i.ZERO));var c=o-(a=n.util.hexToBytes(a.toString(16))).length;return c>0&&(a=n.util.fillString(String.fromCharCode(0),c)+a),{encapsulation:t.encrypt(a,"NONE"),key:e.generate(a,s)}},decrypt:function(t,r,n){var i=t.decrypt(r,"NONE");return e.generate(i,n)}};return s},n.kem.kdf1=function(e,t){s(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){s(this,e,1,t||e.digestLength)}},37353:(e,t,r)=>{var n=r(52059);r(76655),e.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},s=[],a=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var o=0;o<n.log.levels.length;++o){var c=n.log.levels[o];i[c]={index:o,name:c.toUpperCase()}}n.log.logMessage=function(e){for(var t=i[e.level].index,r=0;r<s.length;++r){var a=s[r];if(a.flags&n.log.NO_LEVEL_CHECK)a.f(e);else t<=i[a.level].index&&a.f(a,e)}},n.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)},n.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||0),e.full=n.util.format.apply(this,t)}},n.log.prepareStandardFull=function(e){"standardFull"in e||(n.log.prepareStandard(e),e.standardFull=e.standard)};var u=["error","warning","info","debug","verbose"];for(o=0;o<u.length;++o)!function(e){n.log[e]=function(t,r){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:e,category:t,message:r,arguments:i};n.log.logMessage(s)}}(u[o]);if(n.log.makeLogger=function(e){var t={flags:0,f:e};return n.log.setLevel(t,"none"),t},n.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&n.log.LEVEL_LOCKED))for(var i=0;i<n.log.levels.length;++i){if(t==n.log.levels[i]){e.level=t,r=!0;break}}return r},n.log.lock=function(e,t){void 0===t||t?e.flags|=n.log.LEVEL_LOCKED:e.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(e){s.push(e)},"undefined"!=typeof console&&"log"in console){var l;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},d=function(e,t){n.log.prepareStandard(t);var r=f[t.level],i=[t.standard];i=i.concat(t.arguments.slice()),r.apply(console,i)};l=n.log.makeLogger(d)}else{d=function(e,t){n.log.prepareStandardFull(t),console.log(t.standardFull)};l=n.log.makeLogger(d)}n.log.setLevel(l,"debug"),n.log.addLogger(l),a=l}else console={log:function(){}};if(null!==a){var h=n.util.getQueryVariables();if("console.level"in h&&n.log.setLevel(a,h["console.level"].slice(-1)[0]),"console.lock"in h)"true"==h["console.lock"].slice(-1)[0]&&n.log.lock(a)}n.log.consoleLogger=a},30606:(e,t,r)=>{e.exports=r(88722),r(91292),r(29166),r(98855),r(89030)},88722:(e,t,r)=>{var n=r(52059);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},91292:(e,t,r)=>{var n=r(52059);r(88722),r(76655);var i=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=i,i.create=function(){u||function(){s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var e=0;e<64;++e)c[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));u=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),i={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var o=s.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=o[1],o[1]=o[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),l(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var o=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-o));for(var c,u=0,f=i.fullMessageLength.length-1;f>=0;--f)u=(c=8*i.fullMessageLength[f]+u)/4294967296>>>0,a.putInt32Le(c>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};l(d,r,a);var h=n.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},i};var s=null,a=null,o=null,c=null,u=!1;function l(e,t,r){for(var n,i,s,u,l,f,d,h=r.length();h>=64;){for(i=e.h0,s=e.h1,u=e.h2,l=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),n=i+(l^s&(u^l))+c[d]+t[d],i=l,l=u,u=s,s+=n<<(f=o[d])|n>>>32-f;for(;d<32;++d)n=i+(u^l&(s^u))+c[d]+t[a[d]],i=l,l=u,u=s,s+=n<<(f=o[d])|n>>>32-f;for(;d<48;++d)n=i+(s^u^l)+c[d]+t[a[d]],i=l,l=u,u=s,s+=n<<(f=o[d])|n>>>32-f;for(;d<64;++d)n=i+(u^(s|~l))+c[d]+t[a[d]],i=l,l=u,u=s,s+=n<<(f=o[d])|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+u|0,e.h3=e.h3+l|0,h-=64}}},23299:(e,t,r)=>{var n=r(52059);r(63146),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},63146:(e,t,r)=>{var n=r(52059);r(76655),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var i=new n.util.ByteBuffer,s=Math.ceil(r/e.digestLength),a=0;a<s;a++){var o=new n.util.ByteBuffer;o.putInt32(a),e.start(),e.update(t+o.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},78529:(e,t,r)=>{var n=r(52059);n.pki=n.pki||{};var i=e.exports=n.pki.oids=n.oids=n.oids||{};function s(e,t){i[e]=t,i[t]=e}function a(e,t){i[e]=t}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.5","serialName"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.16.840.1.113730.1.1","nsCertType"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")},26730:(e,t,r)=>{var n=r(52059);if(r(67321),r(72447),r(99132),r(88722),r(78529),r(55340),r(33106),r(27174),r(30564),r(1120),r(76655),void 0===i)var i=n.jsbn.BigInteger;var s=n.asn1,a=n.pki=n.pki||{};e.exports=a.pbe=n.pbe=n.pbe||{};var o=a.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},u={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(e,t){return e.start().update(t).digest().getBytes()}function d(e){var t;if(e){if(!(t=a.oids[s.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return h(t)}function h(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,c,u,l=n.random.getBytesSync(r.saltSize),f=r.count,d=s.integerToDer(f);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var p,g,m;switch(r.algorithm){case"aes128":i=16,p=16,g=o["aes128-CBC"],m=n.aes.createEncryptionCipher;break;case"aes192":i=24,p=16,g=o["aes192-CBC"],m=n.aes.createEncryptionCipher;break;case"aes256":i=32,p=16,g=o["aes256-CBC"],m=n.aes.createEncryptionCipher;break;case"des":i=8,p=8,g=o.desCBC,m=n.des.createEncryptionCipher;break;default:throw(E=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,E}var b="hmacWith"+r.prfAlgorithm.toUpperCase(),y=h(b),v=n.pkcs5.pbkdf2(t,l,f,i,y),k=n.random.getBytesSync(p);(w=m(v)).start(k),w.update(s.toDer(e)),w.finish(),u=w.output.getBytes();var S=function(e,t,r,i){var o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&o.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids[i]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]));return o}(l,d,i,b);c=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBKDF2).getBytes()),S]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(g).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,k)])])])}else{var E;if("3des"!==r.algorithm)throw(E=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,E;i=24;var w,C=new n.util.ByteBuffer(l);v=a.pbe.generatePkcs12Key(t,C,1,f,i),k=a.pbe.generatePkcs12Key(t,C,2,f,i);(w=n.des.createEncryptionCipher(v)).start(k),w.update(s.toDer(e)),w.finish(),u=w.output.getBytes(),c=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,l),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,d.getBytes())])])}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[c,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,u)])},a.decryptPrivateKeyInfo=function(e,t){var r=null,i={},o=[];if(!s.validate(e,c,i,o)){var u=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=o,u}var l=s.derToOid(i.encryptionOid),f=a.pbe.getCipher(l,i.encryptionParams,t),d=n.util.createBuffer(i.encryptedData);return f.update(d),f.finish()&&(r=s.fromDer(f.output)),r},a.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return i=a.encryptPrivateKeyInfo(i,t,r),a.encryptedPrivateKeyToPem(i)}var o,c,u,l;switch(r.algorithm){case"aes128":o="AES-128-CBC",u=16,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",u=24,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",u=32,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",u=24,c=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;case"des":o="DES-CBC",u=8,c=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var d=l(n.pbe.opensslDeriveBytes(t,c.substr(0,8),u));d.start(c),d.update(s.toDer(a.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:n.util.bytesToHex(c).toUpperCase()},body:d.output.getBytes()};return n.pem.encode(h)},a.decryptRsaPrivateKey=function(e,t){var r=null,i=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(u=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=u,u;if(i.procType&&"ENCRYPTED"===i.procType.type){var o,c;switch(i.dekInfo.algorithm){case"DES-CBC":o=8,c=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,c=n.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,c=n.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,c=n.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,c=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,c=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":o=8,c=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":o=16,c=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var u;throw(u=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,u}var l=n.util.hexToBytes(i.dekInfo.parameters),f=c(n.pbe.opensslDeriveBytes(t,l.substr(0,8),o));if(f.start(l),f.update(n.util.createBuffer(i.body)),!f.finish())return r;r=f.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(s.fromDer(r),t):s.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(e,t,r,i,s,a){var o,c;if(null==a){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');a=n.md.sha1.create()}var u=a.digestLength,l=a.blockLength,f=new n.util.ByteBuffer,d=new n.util.ByteBuffer;if(null!=e){for(c=0;c<e.length;c++)d.putInt16(e.charCodeAt(c));d.putInt16(0)}var h=d.length(),p=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,l);var m=l*Math.ceil(p/l),b=new n.util.ByteBuffer;for(c=0;c<m;c++)b.putByte(t.at(c%p));var y=l*Math.ceil(h/l),v=new n.util.ByteBuffer;for(c=0;c<y;c++)v.putByte(d.at(c%h));var k=b;k.putBuffer(v);for(var S=Math.ceil(s/u),E=1;E<=S;E++){var w=new n.util.ByteBuffer;w.putBytes(g.bytes()),w.putBytes(k.bytes());for(var C=0;C<i;C++)a.start(),a.update(w.getBytes()),w=a.digest();var A=new n.util.ByteBuffer;for(c=0;c<l;c++)A.putByte(w.at(c%u));var I=Math.ceil(p/l)+Math.ceil(h/l),T=new n.util.ByteBuffer;for(o=0;o<I;o++){var _=new n.util.ByteBuffer(k.getBytes(l)),B=511;for(c=A.length()-1;c>=0;c--)B>>=8,B+=A.at(c)+_.at(c),_.setAt(c,255&B);T.putBuffer(_)}k=T,f.putBuffer(w)}return f.truncate(f.length()-s),f},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(e,t,r){var i,o={},c=[];if(!s.validate(t,u,o,c))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=c,i;if((e=s.derToOid(o.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=s.derToOid(o.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var l,f,h=o.kdfSalt,p=n.util.createBuffer(o.kdfIterationCount);switch(p=p.getInt(p.length()<<3),a.oids[e]){case"aes128-CBC":l=16,f=n.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,f=n.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,f=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,f=n.des.createDecryptionCipher;break;case"desCBC":l=8,f=n.des.createDecryptionCipher}var g=d(o.prfOid),m=n.pkcs5.pbkdf2(r,h,p,l,g),b=o.encIv,y=f(m);return y.start(b),y},a.pbe.getCipherForPKCS12PBE=function(e,t,r){var i={},o=[];if(!s.validate(t,l,i,o))throw(g=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o,g;var c,u,f,h=n.util.createBuffer(i.salt),p=n.util.createBuffer(i.iterations);switch(p=p.getInt(p.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=n.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var m=d(i.prfOid),b=a.pbe.generatePkcs12Key(r,h,1,p,c,m);return m.start(),f(b,a.pbe.generatePkcs12Key(r,h,2,p,u,m))},a.pbe.opensslDeriveBytes=function(e,t,r,i){if(null==i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===t&&(t="");for(var s=[f(i,e+t)],a=16,o=1;a<r;++o,a+=16)s.push(f(i,s[o-1]+e+t));return s.join("").substr(0,r)}},55340:(e,t,r)=>{var n=r(48764).Buffer,i=r(52059);r(98385),r(88722),r(76655);var s,a=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(s=r(63906)),e.exports=i.pbkdf2=a.pbkdf2=function(e,t,r,a,o,c){if("function"==typeof o&&(c=o,o=null),i.util.isNodejs&&!i.options.usePureJavaScript&&s.pbkdf2&&(null===o||"object"!=typeof o)&&(s.pbkdf2Sync.length>4||!o||"sha1"===o))return"string"!=typeof o&&(o="sha1"),e=new n(e,"binary"),t=new n(t,"binary"),c?4===s.pbkdf2Sync.length?s.pbkdf2(e,t,r,a,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):s.pbkdf2(e,t,r,a,o,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):4===s.pbkdf2Sync.length?s.pbkdf2Sync(e,t,r,a).toString("binary"):s.pbkdf2Sync(e,t,r,a,o).toString("binary");if(null==o&&(o="sha1"),"string"==typeof o){if(!(o in i.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=i.md[o].create()}var u=o.digestLength;if(a>4294967295*u){var l=new Error("Derived key is too long.");if(c)return c(l);throw l}var f=Math.ceil(a/u),d=a-(f-1)*u,h=i.hmac.create();h.start(o,e);var p,g,m,b="";if(!c){for(var y=1;y<=f;++y){h.start(null,null),h.update(t),h.update(i.util.int32ToBytes(y)),p=m=h.digest().getBytes();for(var v=2;v<=r;++v)h.start(null,null),h.update(m),g=h.digest().getBytes(),p=i.util.xorBytes(p,g,u),m=g;b+=y<f?p:p.substr(0,d)}return b}y=1;function k(){if(y>f)return c(null,b);h.start(null,null),h.update(t),h.update(i.util.int32ToBytes(y)),p=m=h.digest().getBytes(),v=2,S()}function S(){if(v<=r)return h.start(null,null),h.update(m),g=h.digest().getBytes(),p=i.util.xorBytes(p,g,u),m=g,++v,i.util.setImmediate(S);b+=y<f?p:p.substr(0,d),++y,k()}k()}},33106:(e,t,r)=>{var n=r(52059);r(76655);var i=e.exports=n.pem=n.pem||{};function s(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var s=0,a=-1;for(i=0;i<t.length;++i,++s)if(s>65&&-1!==a){var o=t[a];","===o?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+o+t.substr(a+1),s=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function a(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var r,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=s(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=s(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),i+=s(r)),e.headers)for(var a=0;a<e.headers.length;++a)i+=s(e.headers[a]);return e.procType&&(i+="\r\n"),i+=n.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;t=i.exec(e);){var c={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(c),t[2]){for(var u=t[2].split(o),l=0;t&&l<u.length;){for(var f=u[l].replace(/\s+$/,""),d=l+1;d<u.length;++d){var h=u[d];if(!/\s/.test(h[0]))break;f+=h,l=d}if(t=f.match(s)){for(var p={name:t[1],values:[]},g=t[2].split(","),m=0;m<g.length;++m)p.values.push(a(g[m]));if(c.procType)if(c.contentDomain||"Content-Domain"!==p.name)if(c.dekInfo||"DEK-Info"!==p.name)c.headers.push(p);else{if(0===p.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:g[0],parameters:g[1]||null}}else c.contentDomain=g[0]||"";else{if("Proc-Type"!==p.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==p.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:g[0],type:g[1]}}}++l}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},67297:(e,t,r)=>{var n=r(52059);r(76655),r(27174),r(29166);var i=e.exports=n.pkcs1=n.pkcs1||{};function s(e,t,r){r||(r=n.md.sha1.create());for(var i="",s=Math.ceil(t/r.digestLength),a=0;a<s;++a){var o=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(e+o),i+=r.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,r){var i,a,o,c;"string"==typeof r?(i=r,a=arguments[3]||void 0,o=arguments[4]||void 0):r&&(i=r.label||void 0,a=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),o?o.start():o=n.md.sha1.create(),c||(c=o);var u=Math.ceil(e.n.bitLength()/8),l=u-2*o.digestLength-2;if(t.length>l)throw(m=new Error("RSAES-OAEP input message length is too long.")).length=t.length,m.maxLength=l,m;i||(i=""),o.update(i,"raw");for(var f=o.digest(),d="",h=l-t.length,p=0;p<h;p++)d+="\0";var g=f.getBytes()+d+""+t;if(a){if(a.length!==o.digestLength){var m;throw(m=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,m.digestLength=o.digestLength,m}}else a=n.random.getBytes(o.digestLength);var b=s(a,u-o.digestLength-1,c),y=n.util.xorBytes(g,b,g.length),v=s(y,o.digestLength,c),k=n.util.xorBytes(a,v,a.length);return"\0"+k+y},i.decode_rsa_oaep=function(e,t,r){var i,a,o;"string"==typeof r?(i=r,a=arguments[3]||void 0):r&&(i=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var c=Math.ceil(e.n.bitLength()/8);if(t.length!==c)throw(y=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,y.expectedLength=c,y;if(void 0===a?a=n.md.sha1.create():a.start(),o||(o=a),c<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var u=a.digest().getBytes(),l=t.charAt(0),f=t.substring(1,a.digestLength+1),d=t.substring(1+a.digestLength),h=s(d,a.digestLength,o),p=n.util.xorBytes(f,h,f.length),g=s(p,c-a.digestLength-1,o),m=n.util.xorBytes(d,g,d.length),b=m.substring(0,a.digestLength),y="\0"!==l,v=0;v<a.digestLength;++v)y|=u.charAt(v)!==b.charAt(v);for(var k=1,S=a.digestLength,E=a.digestLength;E<m.length;E++){var w=m.charCodeAt(E),C=1&w^1,A=k?65534:0;y|=w&A,S+=k&=C}if(y||1!==m.charCodeAt(S))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(S+1)}},169:(e,t,r)=>{var n=r(52059);r(72447),r(98385),r(78529),r(73029),r(26730),r(27174),r(1120),r(29166),r(76655),r(57793);var i=n.asn1,s=n.pki,a=e.exports=n.pkcs12=n.pkcs12||{},o={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},o,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},l={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function d(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var o=e[s].safeBags[a];void 0!==n&&o.type!==n||(null!==t?void 0!==o.attributes[t]&&o.attributes[t].indexOf(r)>=0&&i.push(o):i.push(o))}return i}function h(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function p(e,t){var r={},a=[];if(!i.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,a))throw(o=new Error("Cannot read EncryptedContentInfo.")).errors=a,o;var o,c=i.derToOid(r.contentType);if(c!==s.oids.data)throw(o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=c,o;c=i.derToOid(r.encAlgorithm);var u=s.pbe.getCipher(c,r.encParameter,t),l=h(r.encryptedContentAsn1),f=n.util.createBuffer(l.value);if(u.update(f),!u.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return u.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<e.value.length;a++){var o=e.value[a],c={},l=[];if(!i.validate(o,u,c,l))throw(b=new Error("Cannot read SafeBag.")).errors=l,b;var d,h,p={type:i.derToOid(c.bagId),attributes:m(c.bagAttributes)};n.push(p);var g=c.bagValue.value[0];switch(p.type){case s.oids.pkcs8ShroudedKeyBag:if(null===(g=s.decryptPrivateKeyInfo(g,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{p.key=s.privateKeyFromAsn1(g)}catch(e){p.key=null,p.asn1=g}continue;case s.oids.certBag:d=f,h=function(){if(i.derToOid(c.certId)!==s.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(c.certId),e}var r=i.fromDer(c.cert,t);try{p.cert=s.certificateFromAsn1(r,!0)}catch(e){p.cert=null,p.asn1=r}};break;default:var b;throw(b=new Error("Unsupported PKCS#12 SafeBag type.")).oid=p.type,b}if(void 0!==d&&!i.validate(g,d,c,l))throw(b=new Error("Cannot read PKCS#12 "+d.name)).errors=l,b;h()}return n}function m(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},a=[];if(!i.validate(e[r],l,n,a)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=a,o}var c=i.derToOid(n.oid);if(void 0!==s.oids[c]){t[s.oids[c]]=[];for(var u=0;u<n.values.length;++u)t[s.oids[c]].push(n.values[u].value)}}return t}a.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var u={};if(!i.validate(e,c,u,[]))throw(l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=l,l;var l,f={version:u.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=d(f.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=d(f.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=d(f.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return d(f.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return d(f.safeContents,"localKeyId",e,t)}};if(3!==u.version.charCodeAt(0))throw(l=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=u.version.charCodeAt(0),l;if(i.derToOid(u.contentType)!==s.oids.data)throw(l=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(u.contentType),l;var m=u.content.value[0];if(m.tagClass!==i.Class.UNIVERSAL||m.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=h(m),u.mac){var b=null,y=0,v=i.derToOid(u.macAlgorithm);switch(v){case s.oids.sha1:b=n.md.sha1.create(),y=20;break;case s.oids.sha256:b=n.md.sha256.create(),y=32;break;case s.oids.sha384:b=n.md.sha384.create(),y=48;break;case s.oids.sha512:b=n.md.sha512.create(),y=64;break;case s.oids.md5:b=n.md.md5.create(),y=16}if(null===b)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+v);var k=new n.util.ByteBuffer(u.macSalt),S="macIterations"in u?parseInt(n.util.bytesToHex(u.macIterations),16):1,E=a.generateKey(r,k,3,S,y,b),w=n.hmac.create();if(w.start(b,E),w.update(m.value),w.getMac().getBytes()!==u.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,n){if((t=i.fromDer(t,r)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var c=t.value[a],u={},l=[];if(!i.validate(c,o,u,l))throw(b=new Error("Cannot read ContentInfo.")).errors=l,b;var f={encrypted:!1},d=null,m=u.content.value[0];switch(i.derToOid(u.contentType)){case s.oids.data:if(m.tagClass!==i.Class.UNIVERSAL||m.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=h(m).value;break;case s.oids.encryptedData:d=p(m,n),f.encrypted=!0;break;default:var b;throw(b=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(u.contentType),b}f.safeBags=g(d,r,n),e.safeContents.push(f)}}(f,m.value,t,r),f},a.toPkcs12Asn1=function(e,t,r,o){(o=o||{}).saltSize=o.saltSize||8,o.count=o.count||2048,o.algorithm=o.algorithm||o.encAlgorithm||"aes128","useMac"in o||(o.useMac=!0),"localKeyId"in o||(o.localKeyId=null),"generateLocalKeyId"in o||(o.generateLocalKeyId=!0);var c,u=o.localKeyId;if(null!==u)u=n.util.hexToBytes(u);else if(o.generateLocalKeyId)if(t){var l=n.util.isArray(t)?t[0]:t;"string"==typeof l&&(l=s.certificateFromPem(l)),(T=n.md.sha1.create()).update(i.toDer(s.certificateToAsn1(l)).getBytes()),u=T.digest().getBytes()}else u=n.random.getBytes(20);var f=[];null!==u&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,u)])])),"friendlyName"in o&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,o.friendlyName)])])),f.length>0&&(c=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,f));var d=[],h=[];null!==t&&(h=n.util.isArray(t)?t:[t]);for(var p=[],g=0;g<h.length;++g){"string"==typeof(t=h[g])&&(t=s.certificateFromPem(t));var m=0===g?c:void 0,b=s.certificateToAsn1(t),y=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])])]),m]);p.push(y)}if(p.length>0){var v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,p),k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(v).getBytes())])]);d.push(k)}var S=null;if(null!==e){var E=s.wrapRsaPrivateKey(s.privateKeyToAsn1(e));S=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[E]),c]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(E,r,o)]),c]);var w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[S]),C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(w).getBytes())])]);d.push(C)}var A,I=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d);if(o.useMac){var T=n.md.sha1.create(),_=new n.util.ByteBuffer(n.random.getBytes(o.saltSize)),B=o.count,N=(e=a.generateKey(r,_,3,B,20),n.hmac.create());N.start(T,e),N.update(i.toDer(I).getBytes());var R=N.getMac();A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,R.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,_.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(B).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(I).getBytes())])]),A])},a.generateKey=n.pbe.generatePkcs12Key},23374:(e,t,r)=>{var n=r(52059);r(67321),r(72447),r(99132),r(78529),r(33106),r(73029),r(27174),r(76655),r(57793);var i=n.asn1,s=e.exports=n.pkcs7=n.pkcs7||{};function a(e){var t={},r=[];if(!i.validate(e,s.asn1.recipientInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function o(e){for(var t,r=[],s=0;s<e.length;++s)r.push((t=e[s],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function c(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),s=0;s<e.unauthenticatedAttributes.length;++s){var a=e.unauthenticatedAttributes[s];r.values.push(u(a))}t.value.push(r)}return t}function u(e){var t;if(e.type===n.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),s=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var o=Date.parse(a);a=isNaN(o)?13===a.length?i.utcTimeToDate(a):i.generalizedTimeToDate(a):new Date(o)}t=a>=r&&a<s?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(a)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(a))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function l(e,t,r){var s={};if(!i.validate(t,r,s,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(i.derToOid(s.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(s.encryptedContent){var o="";if(n.util.isArray(s.encryptedContent))for(var c=0;c<s.encryptedContent.length;++c){if(s.encryptedContent[c].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=s.encryptedContent[c].value}else o=s.encryptedContent;e.encryptedContent={algorithm:i.derToOid(s.encAlgorithm),parameter:n.util.createBuffer(s.encParameter.value),content:n.util.createBuffer(o)}}if(s.content){o="";if(n.util.isArray(s.content))for(c=0;c<s.content.length;++c){if(s.content[c].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=s.content[c].value}else o=s.content;e.content=n.util.createBuffer(o)}return e.version=s.version.charCodeAt(0),e.rawCapture=s,s}function f(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.messageFromAsn1(a)},s.messageToPem=function(e,t){var r={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},s.messageFromAsn1=function(e){var t={},r=[];if(!i.validate(e,s.asn1.contentInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=r,a}var o,c=i.derToOid(t.contentType);switch(c){case n.pki.oids.envelopedData:o=s.createEnvelopedData();break;case n.pki.oids.encryptedData:o=s.createEncryptedData();break;case n.pki.oids.signedData:o=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o},s.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(l(e,t,s.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,i=0;i<r.length;++i)e.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var s=[],a=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),s.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var s=t.certificate;"string"==typeof s&&(s=n.pki.certificateFromPem(s)),r=s.issuer.attributes,i=s.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=n.pki.privateKeyFromPem(a));var o=t.digestAlgorithm||n.pki.oids.sha1;switch(o){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+o)}var c=t.authenticatedAttributes||[];if(c.length>0){for(var u=!1,l=!1,f=0;f<c.length;++f){var d=c[f];if(u||d.type!==n.pki.oids.contentType){if(l||d.type!==n.pki.oids.messageDigest);else if(l=!0,u)break}else if(u=!0,l)break}if(!u||!l)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:r,serialNumber:i,digestAlgorithm:o,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(t){var r;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)]))));0!==e.signers.length&&function(t){var r;r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=i.derToOid(e.contentInfo.value[0].value),a=i.toDer(r);for(var o in a.getByte(),i.getBerValueLength(a),a=a.getBytes(),t)t[o].start().update(a);for(var l=new Date,f=0;f<e.signers.length;++f){var d=e.signers[f];if(0===d.authenticatedAttributes.length){if(s!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),p=0;p<d.authenticatedAttributes.length;++p){var g=d.authenticatedAttributes[p];g.type===n.pki.oids.messageDigest?g.value=t[d.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=l)),h.value.push(u(g)),d.authenticatedAttributesAsn1.value.push(u(g))}a=i.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var s=e.signers[r];(a=s.digestAlgorithm)in t||(t[a]=n.md[n.pki.oids[a]].create()),0===s.authenticatedAttributes.length?s.md=t[a]:s.md=n.md[n.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){l(e,t,s.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),f(e)}}},s.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=l(e,t,s.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,o(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,o=0;o<r.length;++o)if(s[o].type!==r[o].type||s[o].value!==r[o].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}f(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var i,s,a;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,s=8,a=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(s));var o=a(t);if(o.start(e.encryptedContent.parameter.copy()),o.update(e.content),!o.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=o.output}for(var c=0;c<e.recipients.length;++c){var u=e.recipients[c];if(void 0===u.encryptedContent.content)switch(u.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}}}},73029:(e,t,r)=>{var n=r(52059);r(72447),r(76655);var i=n.asn1,s=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=s;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=a;var o={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},s.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var c={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},13606:(e,t,r)=>{var n=r(52059);r(72447),r(78529),r(26730),r(33106),r(55340),r(169),r(70274),r(1120),r(76655),r(57793);var i=n.asn1,s=e.exports=n.pki=n.pki||{};s.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},s.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.privateKeyFromAsn1(a)},s.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:i.toDer(s.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},32272:(e,t,r)=>{var n=r(52059);r(76655),r(60750),r(27174),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],s=new r(null);s.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var s=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof s&&(s={name:s}),s.options=s.options||{};var a=t.prng||n.random,c={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===s.name)return function(e,t,i,s){if("workers"in i)return function(e,t,i,s){if("undefined"==typeof Worker)return o(e,t,i,s);var a=u(e,t),c=i.workers,l=i.workLoad||100,f=30*l/8,d=i.workerScript||"forge/prime.worker.js";if(-1===c)return n.util.estimateCores((function(e,t){e&&(t=2),c=t-1,h()}));function h(){c=Math.max(1,c);for(var n=[],i=0;i<c;++i)n[i]=new Worker(d);for(i=0;i<c;++i)n[i].addEventListener("message",h);var o=!1;function h(i){if(!o){0;var c=i.data;if(c.found){for(var d=0;d<n.length;++d)n[d].terminate();return o=!0,s(null,new r(c.prime,16))}a.bitLength()>e&&(a=u(e,t));var h=a.toString(16);i.target.postMessage({hex:h,workLoad:l}),a.dAddOffset(f,0)}}}h()}(e,t,i,s);return o(e,t,i,s)}(e,c,s.options,i);throw new Error("Invalid prime generation algorithm: "+s.name)}}function o(e,t,r,n){var i=u(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(i.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var a=10;"maxBlockTime"in r&&(a=r.maxBlockTime),c(i,e,t,0,s,a,n)}function c(e,t,r,s,a,o,l){var f=+new Date;do{if(e.bitLength()>t&&(e=u(t,r)),e.isProbablePrime(a))return l(null,e);e.dAddOffset(i[s++%8],0)}while(o<0||+new Date-f<o);n.util.setImmediate((function(){c(e,t,r,s,a,o,l)}))}function u(e,t){var n=new r(e,t),i=e-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),a,n),n.dAddOffset(31-n.mod(s).byteValue(),0),n}}()},55603:(e,t,r)=>{var n=r(34155),i=r(52059);r(76655);var s=null;!i.util.isNodejs||i.options.usePureJavaScript||n.versions["node-webkit"]||(s=r(63906)),(e.exports=i.prng=i.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),a=0;a<32;++a)n[a]=r.create();function o(){if(t.pools[0].messageLength>=32)return c();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),c()}function c(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function u(e){var t=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)})}var n=i.util.createBuffer();if(t)for(;n.length()<e;){var s=Math.max(1,Math.min(e-n.length(),65536)/4),a=new Uint32Array(Math.floor(s));try{t(a);for(var o=0;o<a.length;++o)n.putInt32(a[o])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(n.length()<e)for(var c,u,l,f=Math.floor(65536*Math.random());n.length()<e;){u=16807*(65535&f),u+=(32767&(c=16807*(f>>16)))<<16,f=4294967295&(u=(2147483647&(u+=c>>15))+(u>>31));for(o=0;o<3;++o)l=f>>>(o<<3),l^=Math.floor(256*Math.random()),n.putByte(String.fromCharCode(255&l))}return n.getBytes(e)}return t.pools=n,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var n=t.plugin.cipher,s=t.plugin.increment,a=t.plugin.formatKey,o=t.plugin.formatSeed,u=i.util.createBuffer();t.key=null,function l(f){if(f)return r(f);if(u.length()>=e)return r(null,u.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return i.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return c(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),c(),e()}))}(l)}));var d=n(t.key,t.seed);t.generated+=d.length,u.putBytes(d),t.key=a(n(t.key,s(t.seed))),t.seed=o(n(t.key,t.seed)),i.util.setImmediate(l)}()},t.generateSync=function(e){var r=t.plugin.cipher,n=t.plugin.increment,s=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var c=i.util.createBuffer();c.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&o();var u=r(t.key,t.seed);t.generated+=u.length,c.putBytes(u),t.key=s(r(t.key,n(t.seed))),t.seed=a(r(t.key,t.seed))}return c.getBytes(e)},s?(t.seedFile=function(e,t){s.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return s.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,u(e))}catch(e){t(e)}},t.seedFileSync=u),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}},70274:(e,t,r)=>{var n=r(52059);r(27174),r(76655),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,i=e.mgf,s=r.digestLength,a=e.salt||null;if("string"==typeof a&&(a=n.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||n.random,c={encode:function(e,c){var u,l,f=c-1,d=Math.ceil(f/8),h=e.digest().getBytes();if(d<s+t+2)throw new Error("Message is too long to encrypt.");l=null===a?o.getBytesSync(t):a.bytes();var p=new n.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(h),p.putBytes(l),r.start(),r.update(p.getBytes());var g=r.digest().getBytes(),m=new n.util.ByteBuffer;m.fillWithByte(0,d-t-s-2),m.putByte(1),m.putBytes(l);var b=m.getBytes(),y=d-s-1,v=i.generate(g,y),k="";for(u=0;u<y;u++)k+=String.fromCharCode(b.charCodeAt(u)^v.charCodeAt(u));var S=65280>>8*d-f&255;return(k=String.fromCharCode(k.charCodeAt(0)&~S)+k.substr(1))+g+String.fromCharCode(188)},verify:function(e,a,o){var c,u=o-1,l=Math.ceil(u/8);if(a=a.substr(-l),l<s+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var f=l-s-1,d=a.substr(0,f),h=a.substr(f,s),p=65280>>8*l-u&255;if(0!=(d.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var g=i.generate(h,f),m="";for(c=0;c<f;c++)m+=String.fromCharCode(d.charCodeAt(c)^g.charCodeAt(c));m=String.fromCharCode(m.charCodeAt(0)&~p)+m.substr(1);var b=l-s-t-2;for(c=0;c<b;c++)if(0!==m.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==m.charCodeAt(b))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var y=m.substr(-t),v=new n.util.ByteBuffer;return v.fillWithByte(0,8),v.putBytes(e),v.putBytes(y),r.start(),r.update(v.getBytes()),h===r.digest().getBytes()}};return c}},27174:(e,t,r)=>{var n=r(52059);r(67321),r(98855),r(55603),r(76655),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},i=new Array(4),s=n.util.createBuffer();function a(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var o=a(),c=null;if("undefined"!=typeof window){var u=window.crypto||window.msCrypto;u&&u.getRandomValues&&(c=function(e){return u.getRandomValues(e)})}if(n.options.usePureJavaScript||!n.util.isNodejs&&!c){if("undefined"==typeof window||window.document,o.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var f in navigator)try{"string"==typeof navigator[f]&&(l+=navigator[f])}catch(e){}o.collect(l),l=null}t&&(t().mousemove((function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)})),t().keypress((function(e){o.collectInt(e.charCode,8)})))}if(n.random)for(var f in o)n.random[f]=o[f];else n.random=o;n.random.createInstance=a,e.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},30564:(e,t,r)=>{var n=r(52059);r(76655);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,s=e,a=e.length(),o=t,c=Math.ceil(o/8),u=255>>(7&o);for(r=a;r<128;r++)s.putByte(i[s.at(r-1)+s.at(r-a)&255]);for(s.setAt(128-c,i[s.at(128-c)&u]),r=127-c;r>=0;r--)s.setAt(r,i[s.at(r+1)^s.at(r+c)]);return s};var c=function(e,t,r){var i,c,u,l,f=!1,d=null,h=null,p=null,g=[];for(e=n.rc2.expandKey(e,t),u=0;u<64;u++)g.push(e.getInt16Le());r?(i=function(e){for(u=0;u<4;u++)e[u]+=g[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),e[u]=a(e[u],s[u]),l++},c=function(e){for(u=0;u<4;u++)e[u]+=g[63&e[(u+3)%4]]}):(i=function(e){for(u=3;u>=0;u--)e[u]=o(e[u],s[u]),e[u]-=g[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),l--},c=function(e){for(u=3;u>=0;u--)e[u]-=g[63&e[(u+3)%4]]});var m=function(e){var t=[];for(u=0;u<4;u++){var n=d.getInt16Le();null!==p&&(r?n^=p.getInt16Le():p.putInt16Le(n)),t.push(65535&n)}l=r?0:63;for(var i=0;i<e.length;i++)for(var s=0;s<e[i][0];s++)e[i][1](t);for(u=0;u<4;u++)null!==p&&(r?p.putInt16Le(t[u]):t[u]^=p.getInt16Le()),h.putInt16Le(t[u])},b=null;return b={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),f=!1,d=n.util.createBuffer(),h=t||new n.util.createBuffer,p=e,b.output=h},update:function(e){for(f||d.putBuffer(e);d.length()>=8;)m([[5,i],[1,c],[6,i],[1,c],[5,i]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,d,!r);else{var n=8===d.length()?8:8-d.length();d.fillWithByte(n,n)}if(t&&(f=!0,b.update()),!r&&(t=0===d.length()))if(e)t=e(8,h,!r);else{var i=h.length(),s=h.at(i-1);s>i?t=!1:h.truncate(s)}return t}}};n.rc2.startEncrypting=function(e,t,r){var i=n.rc2.createEncryptionCipher(e,128);return i.start(t,r),i},n.rc2.createEncryptionCipher=function(e,t){return c(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var i=n.rc2.createDecryptionCipher(e,128);return i.start(t,r),i},n.rc2.createDecryptionCipher=function(e,t){return c(e,t,!1)}},1120:(e,t,r)=>{var n=r(52059);if(r(72447),r(60750),r(78529),r(67297),r(32272),r(27174),r(76655),void 0===i)var i=n.jsbn.BigInteger;var s=n.asn1;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var a=n.pki,o=[6,4,2,4,2,4,6,2],c={name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},l={name:"RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},d=function(e){var t;if(!(e.algorithm in a.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=a.oids[e.algorithm];var n=s.oidToDer(t).getBytes(),i=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);o.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,n)),o.value.push(s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,""));var c=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(c),s.toDer(i).getBytes()},h=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var s;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{s=new i(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(s.compareTo(t.n)>=0||!s.gcd(t.n).equals(i.ONE));for(var a=(e=e.multiply(s.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(o)<0;)a=a.add(t.p);var c=a.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return c=c.multiply(s.modInverse(t.n)).mod(t.n)};function p(e,t,r){var i=n.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=s-11,a}i.putByte(0),i.putByte(r);var o,c=s-3-e.length;if(0===r||1===r){o=0===r?0:255;for(var u=0;u<c;++u)i.putByte(o)}else for(;c>0;){var l=0,f=n.random.getBytes(c);for(u=0;u<c;++u)0===(o=f.charCodeAt(u))?++l:i.putByte(o);c=l}return i.putByte(0),i.putBytes(e),i}function g(e,t,r,i){var s=Math.ceil(t.n.bitLength()/8),a=n.util.createBuffer(e),o=a.getByte(),c=a.getByte();if(0!==o||r&&0!==c&&1!==c||!r&&2!=c||r&&0===c&&void 0===i)throw new Error("Encryption block is invalid.");var u=0;if(0===c){u=s-3-i;for(var l=0;l<u;++l)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===c)for(u=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++u}else if(2===c)for(u=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++u}if(0!==a.getByte()||u!==s-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function m(e,t,r){"function"==typeof t&&(r=t,t={});var s={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function o(){c(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?u(t,e.q):void c(e.qBits,u))}))}function c(e,t){n.prime.generateProbablePrime(e,s,t)}function u(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var s=e.p;e.p=e.q,e.q=s}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void o();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void c(e.qBits,u);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void o();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void c(e.qBits,u);var l=e.e.modInverse(e.phi);e.keys={privateKey:a.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:a.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(s.prng=t.prng),o()}function b(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function y(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function v(e){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[e]}function k(e){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[e]}function S(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),i=0;i<t.length;++i)r[i]=t.charCodeAt(i);return r}a.rsa.encrypt=function(e,t,r){var s,a=r,o=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,s=p(e,t,r)):(s=n.util.createBuffer()).putBytes(e);for(var c=new i(s.toHex(),16),u=h(c,t,a).toString(16),l=n.util.createBuffer(),f=o-Math.ceil(u.length/2);f>0;)l.putByte(0),--f;return l.putBytes(n.util.hexToBytes(u)),l.getBytes()},a.rsa.decrypt=function(e,t,r,s){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=a,o}var c=new i(n.util.createBuffer(e).toHex(),16);if(c.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=h(c,t,r).toString(16),l=n.util.createBuffer(),f=a-Math.ceil(u.length/2);f>0;)l.putByte(0),--f;return l.putBytes(n.util.hexToBytes(u)),!1!==s?g(l.getBytes(),t,r):l.getBytes()},a.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var s,a=(r=r||{}).prng||n.random,o={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},c=r.algorithm||"PRIMEINC";if("PRIMEINC"!==c)throw new Error("Invalid key generation algorithm: "+c);return(s={algorithm:c,state:0,bits:e,rng:o,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(s.eInt),s},a.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,s=0,c=function(e,t){return e|t},u=+new Date,l=0;null===e.keys&&(t<=0||l<t);){if(0===e.state){var f=null===e.p?e.pBits:e.qBits,d=f-1;0===e.pqState?(e.num=new i(f,e.rng),e.num.testBit(d)||e.num.bitwiseTo(i.ONE.shiftLeft(d),c,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),s=0,++e.pqState):1===e.pqState?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(y(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(o[s++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var h=e.e.modInverse(e.phi);e.keys={privateKey:a.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:a.rsa.setPublicKey(e.n,e.e)}}l+=(n=+new Date)-u,u=n}return null!==e.keys},a.rsa.generateKeyPair=function(e,t,r,i){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(i=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(i=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,i=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(i=r,r=void 0):(i=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&i&&e>=256&&e<=16384&&(65537===t||3===t)){if(v("generateKey")&&v("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){i(e)})).then((function(e){if(e){var t=a.privateKeyFromAsn1(s.fromDer(n.util.createBuffer(e)));i(null,{privateKey:t,publicKey:a.setRsaPublicKey(t.n,t.e)})}}));if(k("generateKey")&&k("exportKey")){var o=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return o.oncomplete=function(e){var t=e.target.result,r=window.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=a.privateKeyFromAsn1(s.fromDer(n.util.createBuffer(t)));i(null,{privateKey:r,publicKey:a.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){i(e)}},void(o.onerror=function(e){i(e)})}}var c=a.rsa.createKeyPairGenerationState(e,t,r);if(!i)return a.rsa.stepKeyPairGenerationState(c,0),c.keys;m(c,r,i)},a.setRsaPublicKey=a.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return p(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var s=t.encode(e,r,!0);return a.rsa.encrypt(s,r,!0)},verify:function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){return t=g(t,r,!0),e===s.fromDer(t).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===(t=g(t,r,!0))}});var i=a.rsa.decrypt(t,r,!0,!1);return n.verify(e,i,r.n.bitLength())}};return r},a.setRsaPrivateKey=a.rsa.setPrivateKey=function(e,t,r,i,s,o,c,u){var l={n:e,e:t,d:r,p:i,q:s,dP:o,dQ:c,qInv:u,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var i=a.rsa.decrypt(e,l,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:g};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,l,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:d},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,l.n.bitLength());return a.rsa.encrypt(n,l,r)}};return l},a.wrapRsaPrivateKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(e).getBytes())])},a.privateKeyFromAsn1=function(e){var t,r,o,l,f,d,h,p,g={},m=[];if(s.validate(e,c,g,m)&&(e=s.fromDer(n.util.createBuffer(g.privateKey))),g={},m=[],!s.validate(e,u,g,m)){var b=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw b.errors=m,b}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),o=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),l=n.util.createBuffer(g.privateKeyPrime1).toHex(),f=n.util.createBuffer(g.privateKeyPrime2).toHex(),d=n.util.createBuffer(g.privateKeyExponent1).toHex(),h=n.util.createBuffer(g.privateKeyExponent2).toHex(),p=n.util.createBuffer(g.privateKeyCoefficient).toHex(),a.setRsaPrivateKey(new i(t,16),new i(r,16),new i(o,16),new i(l,16),new i(f,16),new i(d,16),new i(h,16),new i(p,16))},a.privateKeyToAsn1=a.privateKeyToRSAPrivateKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.e)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.d)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.p)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.q)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.dP)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.dQ)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.qInv))])},a.publicKeyFromAsn1=function(e){var t={},r=[];if(s.validate(e,f,t,r)){var o,c=s.derToOid(t.publicKeyOid);if(c!==a.oids.rsaEncryption)throw(o=new Error("Cannot read public key. Unknown OID.")).oid=c,o;e=t.rsaPublicKey}if(r=[],!s.validate(e,l,t,r))throw(o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,o;var u=n.util.createBuffer(t.publicKeyModulus).toHex(),d=n.util.createBuffer(t.publicKeyExponent).toHex();return a.setRsaPublicKey(new i(u,16),new i(d,16))},a.publicKeyToAsn1=a.publicKeyToSubjectPublicKeyInfo=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,[a.publicKeyToRSAPublicKey(e)])])},a.publicKeyToRSAPublicKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.e))])}},29166:(e,t,r)=>{var n=r(52059);r(88722),r(76655);var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var c=s.length;i.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=c[1],c[1]=c[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(s),o(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var c,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-u));for(var l=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)l+=(c=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(l>>>0),l=c>>>0;a.putInt32(l);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};o(d,r,a);var h=n.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h},i};var s=null,a=!1;function o(e,t,r){for(var n,i,s,a,o,c,u,l=r.length();l>=64;){for(i=e.h0,s=e.h1,a=e.h2,o=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+c+1518500249+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<20;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+c+1518500249+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<32;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(s^a^o)+c+1859775393+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<40;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(s^a^o)+c+1859775393+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<60;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(s&a|o&(s^a))+c+2400959708+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<80;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(s^a^o)+c+3395469782+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+o|0,e.h4=e.h4+c|0,l-=64}}},98855:(e,t,r)=>{var n=r(52059);r(88722),r(76655);var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var o=s.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=o[1],o[1]=o[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),c(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var o,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-u));for(var l=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)l+=(o=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(l>>>0),l=o>>>0;a.putInt32(l);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};c(d,r,a);var h=n.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h.putInt32(d.h5),h.putInt32(d.h6),h.putInt32(d.h7),h},i};var s=null,a=!1,o=null;function c(e,t,r){for(var n,i,s,a,c,u,l,f,d,h,p,g,m,b=r.length();b>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=((n=t[c-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[c-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[c]=n+t[c-7]+i+t[c-16]|0;for(u=e.h0,l=e.h1,f=e.h2,d=e.h3,h=e.h4,p=e.h5,g=e.h6,m=e.h7,c=0;c<64;++c)s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),a=u&l|f&(u^l),n=m+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(g^h&(p^g))+o[c]+t[c],m=g,g=p,p=h,h=d+n>>>0,d=f,f=l,l=u,u=n+(i=s+a)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+l|0,e.h2=e.h2+f|0,e.h3=e.h3+d|0,e.h4=e.h4+h|0,e.h5=e.h5+p|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,b-=64}}},89030:(e,t,r)=>{var n=r(52059);r(88722),r(76655);var i=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var s=n.sha384=n.sha512.sha384=n.sha512.sha384||{};s.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=s,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(e){if(o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(u={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],u["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],u["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],u["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],o=!0),void 0===e&&(e="SHA-512"),!(e in u))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=u[e],r=null,i=n.util.createBuffer(),s=new Array(80),f=0;f<80;++f)s[f]=new Array(2);var d=64;switch(e){case"SHA-384":d=48;break;case"SHA-512/256":d=32;break;case"SHA-512/224":d=28}var h={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:d,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){h.messageLength=0,h.fullMessageLength=h.messageLength128=[];for(var e=h.messageLengthSize/4,s=0;s<e;++s)h.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(t.length);for(s=0;s<t.length;++s)r[s]=t[s].slice(0);return h}};return h.start(),h.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var a=e.length;h.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=h.fullMessageLength.length-1;o>=0;--o)h.fullMessageLength[o]+=a[1],a[1]=a[0]+(h.fullMessageLength[o]/4294967296>>>0),h.fullMessageLength[o]=h.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(e),l(r,s,i),(i.read>2048||0===i.length())&&i.compact(),h},h.digest=function(){var t=n.util.createBuffer();t.putBytes(i.bytes());var o,c=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize&h.blockLength-1;t.putBytes(a.substr(0,h.blockLength-c));for(var u=8*h.fullMessageLength[0],f=0;f<h.fullMessageLength.length-1;++f)u+=(o=8*h.fullMessageLength[f+1])/4294967296>>>0,t.putInt32(u>>>0),u=o>>>0;t.putInt32(u);var d=new Array(r.length);for(f=0;f<r.length;++f)d[f]=r[f].slice(0);l(d,s,t);var p,g=n.util.createBuffer();p="SHA-512"===e?d.length:"SHA-384"===e?d.length-2:d.length-4;for(f=0;f<p;++f)g.putInt32(d[f][0]),f===p-1&&"SHA-512/224"===e||g.putInt32(d[f][1]);return g},h};var a=null,o=!1,c=null,u=null;function l(e,t,r){for(var n,i,s,a,o,u,l,f,d,h,p,g,m,b,y,v,k,S,E,w,C,A,I,T,_,B,N,R,P,x,L,M,D,O=r.length();O>=128;){for(N=0;N<16;++N)t[N][0]=r.getInt32()>>>0,t[N][1]=r.getInt32()>>>0;for(;N<80;++N)n=(((R=(x=t[N-2])[0])>>>19|(P=x[1])<<13)^(P>>>29|R<<3)^R>>>6)>>>0,i=((R<<13|P>>>19)^(P<<3|R>>>29)^(R<<26|P>>>6))>>>0,s=(((R=(M=t[N-15])[0])>>>1|(P=M[1])<<31)^(R>>>8|P<<24)^R>>>7)>>>0,a=((R<<31|P>>>1)^(R<<24|P>>>8)^(R<<25|P>>>7))>>>0,L=t[N-7],D=t[N-16],P=i+L[1]+a+D[1],t[N][0]=n+L[0]+s+D[0]+(P/4294967296>>>0)>>>0,t[N][1]=P>>>0;for(p=e[0][0],g=e[0][1],m=e[1][0],b=e[1][1],y=e[2][0],v=e[2][1],k=e[3][0],S=e[3][1],E=e[4][0],w=e[4][1],C=e[5][0],A=e[5][1],I=e[6][0],T=e[6][1],_=e[7][0],B=e[7][1],N=0;N<80;++N)l=((E>>>14|w<<18)^(E>>>18|w<<14)^(w>>>9|E<<23))>>>0,f=(I^E&(C^I))>>>0,o=((p>>>28|g<<4)^(g>>>2|p<<30)^(g>>>7|p<<25))>>>0,u=((p<<4|g>>>28)^(g<<30|p>>>2)^(g<<25|p>>>7))>>>0,d=(p&m|y&(p^m))>>>0,h=(g&b|v&(g^b))>>>0,P=B+(((E<<18|w>>>14)^(E<<14|w>>>18)^(w<<23|E>>>9))>>>0)+((T^w&(A^T))>>>0)+c[N][1]+t[N][1],n=_+l+f+c[N][0]+t[N][0]+(P/4294967296>>>0)>>>0,i=P>>>0,s=o+d+((P=u+h)/4294967296>>>0)>>>0,a=P>>>0,_=I,B=T,I=C,T=A,C=E,A=w,E=k+n+((P=S+i)/4294967296>>>0)>>>0,w=P>>>0,k=y,S=v,y=m,v=b,m=p,b=g,p=n+s+((P=i+a)/4294967296>>>0)>>>0,g=P>>>0;P=e[0][1]+g,e[0][0]=e[0][0]+p+(P/4294967296>>>0)>>>0,e[0][1]=P>>>0,P=e[1][1]+b,e[1][0]=e[1][0]+m+(P/4294967296>>>0)>>>0,e[1][1]=P>>>0,P=e[2][1]+v,e[2][0]=e[2][0]+y+(P/4294967296>>>0)>>>0,e[2][1]=P>>>0,P=e[3][1]+S,e[3][0]=e[3][0]+k+(P/4294967296>>>0)>>>0,e[3][1]=P>>>0,P=e[4][1]+w,e[4][0]=e[4][0]+E+(P/4294967296>>>0)>>>0,e[4][1]=P>>>0,P=e[5][1]+A,e[5][0]=e[5][0]+C+(P/4294967296>>>0)>>>0,e[5][1]=P>>>0,P=e[6][1]+T,e[6][0]=e[6][0]+I+(P/4294967296>>>0)>>>0,e[6][1]=P>>>0,P=e[7][1]+B,e[7][0]=e[7][0]+_+(P/4294967296>>>0)>>>0,e[7][1]=P>>>0,O-=128}}},71059:(e,t,r)=>{var n=r(52059);r(67321),r(98385),r(91292),r(29166),r(76655);var i=e.exports=n.ssh=n.ssh||{};function s(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var i=n.util.hexToBytes(r);e.putInt32(i.length),e.putBytes(i)}function a(e,t){e.putInt32(t.length),e.putString(t)}function o(){for(var e=n.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}i.privateKeyToPutty=function(e,t,r){var i="ssh-rsa",c=""===(t=t||"")?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: ssh-rsa\r\n";u+="Encryption: "+c+"\r\n",u+="Comment: "+(r=r||"")+"\r\n";var l=n.util.createBuffer();a(l,i),s(l,e.e),s(l,e.n);var f=n.util.encode64(l.bytes(),64),d=Math.floor(f.length/66)+1;u+="Public-Lines: "+d+"\r\n",u+=f;var h,p=n.util.createBuffer();if(s(p,e.d),s(p,e.p),s(p,e.q),s(p,e.qInv),t){var g=p.length()+16-1;g-=g%16;var m=o(p.bytes());m.truncate(m.length()-g+p.length()),p.putBuffer(m);var b=n.util.createBuffer();b.putBuffer(o("\0\0\0\0",t)),b.putBuffer(o("\0\0\0",t));var y=n.aes.createEncryptionCipher(b.truncate(8),"CBC");y.start(n.util.createBuffer().fillWithByte(0,16)),y.update(p.copy()),y.finish();var v=y.output;v.truncate(16),h=n.util.encode64(v.bytes(),64)}else h=n.util.encode64(p.bytes(),64);u+="\r\nPrivate-Lines: "+(d=Math.floor(h.length/66)+1)+"\r\n",u+=h;var k=o("putty-private-key-file-mac-key",t),S=n.util.createBuffer();a(S,i),a(S,c),a(S,r),S.putInt32(l.length()),S.putBuffer(l),S.putInt32(p.length()),S.putBuffer(p);var E=n.hmac.create();return E.start("sha1",k),E.update(S.bytes()),u+="\r\nPrivate-MAC: "+E.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var i=n.util.createBuffer();return a(i,r),s(i,e.e),s(i,e.n),r+" "+n.util.encode64(i.bytes())+" "+t},i.privateKeyToOpenSSH=function(e,t){return t?n.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(e)},i.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||n.md.md5.create(),i=n.util.createBuffer();a(i,"ssh-rsa"),s(i,e.e),s(i,e.n),r.start(),r.update(i.getBytes());var o=r.digest();if("hex"===t.encoding){var c=o.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o}},85308:(e,t,r)=>{var n=r(52059);r(9254),r(37353),r(76655);var i="forge.task",s={},a=0;n.debug.set(i,"tasks",s);var o={};n.debug.set(i,"queues",o);var c="ready",u="running",l="blocked",f="sleeping",d="done",h="error",p={ready:{}};p.ready.stop=c,p.ready.start=u,p.ready.cancel=d,p.ready.fail=h,p.running={},p.running.stop=c,p.running.start=u,p.running.block=l,p.running.unblock=u,p.running.sleep=f,p.running.wakeup=u,p.running.cancel=d,p.running.fail=h,p.blocked={},p.blocked.stop=l,p.blocked.start=l,p.blocked.block=l,p.blocked.unblock=l,p.blocked.sleep=l,p.blocked.wakeup=l,p.blocked.cancel=d,p.blocked.fail=h,p.sleeping={},p.sleeping.stop=f,p.sleeping.start=f,p.sleeping.block=f,p.sleeping.unblock=f,p.sleeping.sleep=f,p.sleeping.wakeup=f,p.sleeping.cancel=d,p.sleeping.fail=h,p.done={},p.done.stop=d,p.done.start=d,p.done.block=d,p.done.unblock=d,p.done.sleep=d,p.done.wakeup=d,p.done.cancel=d,p.done.fail=h,p.error={},p.error.stop=h,p.error.start=h,p.error.block=h,p.error.unblock=h,p.error.sleep=h,p.error.wakeup=h,p.error.cancel=h,p.error.fail=h;var g=function(e){this.id=-1,this.name=e.name||"?",this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=c,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=a++,s[this.id]=this};g.prototype.debug=function(e){e=e||"",n.log.debug(i,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",o)},g.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new g({run:t,name:e,parent:this});return r.state=u,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},g.prototype.parallel=function(e,t){return n.util.isArray(e)&&(t=e,e=this.name),this.next(e,(function(r){var i=r;i.block(t.length);for(var s=function(e,r){n.task.start({type:e,run:function(e){t[r](e)},success:function(e){i.unblock()},failure:function(e){i.unblock()}})},a=0;a<t.length;a++){s(e+"__parallel-"+r.id+"-"+a,a)}}))},g.prototype.stop=function(){this.state=p[this.state].stop},g.prototype.start=function(){this.error=!1,this.state=p[this.state].start,this.state===u&&(this.start=new Date,this.run(this),m(this,0))},g.prototype.block=function(e){e=void 0===e?1:e,this.blocks+=e,this.blocks>0&&(this.state=p[this.state].block)},g.prototype.unblock=function(e){return e=void 0===e?1:e,this.blocks-=e,0===this.blocks&&this.state!==d&&(this.state=u,m(this,0)),this.blocks},g.prototype.sleep=function(e){e=void 0===e?0:e,this.state=p[this.state].sleep;var t=this;this.timeoutId=setTimeout((function(){t.timeoutId=null,t.state=u,m(t,0)}),e)},g.prototype.wait=function(e){e.wait(this)},g.prototype.wakeup=function(){this.state===f&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=u,m(this,0))},g.prototype.cancel=function(){this.state=p[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},g.prototype.fail=function(e){if(this.error=!0,b(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,m(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;b(t,!0)}this.failureCallback&&this.failureCallback(this)}};var m=function(e,t){var r=t>30||+new Date-e.swapTime>20,n=function(t){if(t++,e.state===u)if(r&&(e.swapTime=+new Date),e.subtasks.length>0){var n=e.subtasks.shift();n.error=e.error,n.swapTime=e.swapTime,n.userData=e.userData,n.run(n),n.error||m(n,t)}else b(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,m(e.parent,t))};r?setTimeout(n,0):n(t)},b=function(e,t){e.state=d,delete s[e.id],null===e.parent&&(e.type in o?0===o[e.type].length?n.log.error(i,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):o[e.type][0]!==e?n.log.error(i,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(o[e.type].shift(),0===o[e.type].length?delete o[e.type]:o[e.type][0].start()):n.log.error(i,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};e.exports=n.task=n.task||{},n.task.start=function(e){var t=new g({run:e.run,name:e.name||"?"});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in o?o[e.type].push(t):(o[t.type]=[t],function(e){e.error=!1,e.state=p[e.state].start,setTimeout((function(){e.state===u&&(e.swapTime=+new Date,e.run(e),m(e,0))}),0)}(t))},n.task.cancel=function(e){e in o&&(o[e]=[o[e][0]])},n.task.createCondition=function(){var e={tasks:{},wait:function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},notify:function(){var t=e.tasks;for(var r in e.tasks={},t)t[r].unblock()}};return e}},24237:(e,t,r)=>{var n=r(52059);r(72447),r(98385),r(91292),r(33106),r(13606),r(27174),r(29166),r(76655);var i=function(e,t,r,i){var s=n.util.createBuffer(),a=e.length>>1,o=a+(1&e.length),c=e.substr(0,o),u=e.substr(a,o),l=n.util.createBuffer(),f=n.hmac.create();r=t+r;var d=Math.ceil(i/16),h=Math.ceil(i/20);f.start("MD5",c);var p=n.util.createBuffer();l.putBytes(r);for(var g=0;g<d;++g)f.start(null,null),f.update(l.getBytes()),l.putBuffer(f.digest()),f.start(null,null),f.update(l.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",u);var m=n.util.createBuffer();l.clear(),l.putBytes(r);for(g=0;g<h;++g)f.start(null,null),f.update(l.getBytes()),l.putBuffer(f.digest()),f.start(null,null),f.update(l.bytes()+r),m.putBuffer(f.digest());return s.putBytes(n.util.xorBytes(p.getBytes(),m.getBytes(),i)),s},s=function(e,t,r){var i=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(s),t.length=s.length,i=!0}catch(e){}return i},a=function(e,t,r){var i=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(s),t.length=s.length,i=!0}catch(e){}return i},o=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return n.util.createBuffer(e.getBytes(r))},c=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},u={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};u.SupportedVersions=[u.Versions.TLS_1_1,u.Versions.TLS_1_0],u.Version=u.SupportedVersions[0],u.MaxFragment=15360,u.ConnectionEnd={server:0,client:1},u.PRFAlgorithm={tls_prf_sha256:0},u.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},u.CipherType={stream:0,block:1,aead:2},u.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},u.CompressionMethod={none:0,deflate:1},u.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},u.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},u.Alert={},u.Alert.Level={warning:1,fatal:2},u.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},u.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},u.CipherSuites={},u.getCipherSuite=function(e){var t=null;for(var r in u.CipherSuites){var n=u.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},u.handleUnexpected=function(e,t){!e.open&&e.entity===u.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})},u.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(u.queue(e,u.createAlert(e,{level:u.Alert.Level.warning,description:u.Alert.Description.no_renegotiation})),u.flush(e)),e.process()},u.parseHelloMessage=function(e,t,r){var i=null,s=e.entity===u.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});else{var a=t.fragment,c=a.length();if(i={version:{major:a.getByte(),minor:a.getByte()},random:n.util.createBuffer(a.getBytes(32)),session_id:o(a,1),extensions:[]},s?(i.cipher_suite=a.getBytes(2),i.compression_method=a.getByte()):(i.cipher_suites=o(a,2),i.compression_methods=o(a,1)),(c=r-(c-a.length()))>0){for(var l=o(a,2);l.length()>0;)i.extensions.push({type:[l.getByte(),l.getByte()],data:o(l,2)});if(!s)for(var f=0;f<i.extensions.length;++f){var d=i.extensions[f];if(0===d.type[0]&&0===d.type[1])for(var h=o(d.data,2);h.length()>0;){if(0!==h.getByte())break;e.session.extensions.server_name.serverNameList.push(o(h,2).getBytes())}}}if(e.session.version&&(i.version.major!==e.session.version.major||i.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=u.getCipherSuite(i.cipher_suite);else for(var p=n.util.createBuffer(i.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=u.getCipherSuite(p.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(i.cipher_suite)});e.session.compressionMethod=s?i.compression_method:u.CompressionMethod.none}return i},u.createSecurityParameters=function(e,t){var r=e.entity===u.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:u.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:u.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}},u.handleServerHello=function(e,t,r){var n=u.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=p,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=l,e.session.resuming=!1,u.createSecurityParameters(e,n)),e.session.id=i,e.process()}},u.handleClientHello=function(e,t,r){var i=u.parseHelloMessage(e,t,r);if(!e.fail){var s=i.session_id.bytes(),a=null;if(e.sessionCache&&(null===(a=e.sessionCache.getSession(s))?s="":(a.version.major!==i.version.major||a.version.minor>i.version.minor)&&(a=null,s="")),0===s.length&&(s=n.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=i.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var o,c=1;c<u.SupportedVersions.length&&!((o=u.SupportedVersions[c]).minor<=i.version.minor);++c);e.version={major:o.major,minor:o.minor},e.session.version=e.version}null!==a?(e.expect=S,e.session.resuming=!0,e.session.sp.client_random=i.random.bytes()):(e.expect=!1!==e.verifyClient?y:v,e.session.resuming=!1,u.createSecurityParameters(e,i)),e.open=!0,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHello(e)})),e.session.resuming?(u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.pending=u.createConnectionState(e),e.state.current.write=e.state.pending.write,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))):(u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)})),e.fail||(u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerKeyExchange(e)})),!1!==e.verifyClient&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateRequest(e)})),u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHelloDone(e)})))),u.flush(e),e.process()}},u.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i,s,a=t.fragment,c={certificate_list:o(a,3)},l=[];try{for(;c.certificate_list.length()>0;)i=o(c.certificate_list,3),s=n.asn1.fromDer(i),i=n.pki.certificateFromAsn1(s,!0),l.push(i)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var d=e.entity===u.ConnectionEnd.client;!d&&!0!==e.verifyClient||0!==l.length?0===l.length?e.expect=d?f:v:(d?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],u.verifyCertificateChain(e,l)&&(e.expect=d?f:v)):e.error(e,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}}),e.process()},u.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});e.expect=d,e.process()},u.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});var i=t.fragment,s={enc_pre_master_secret:o(i,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=n.pki.privateKeyFromPem(a)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}if(null===a)return e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}});try{var c=e.session.sp;c.pre_master_secret=a.decrypt(s.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==c.pre_master_secret.charCodeAt(0)||l.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){c.pre_master_secret=n.random.getBytes(48)}e.expect=S,null!==e.session.clientCertificate&&(e.expect=k),e.process()},u.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:o(n,1),certificate_authorities:o(n,2)};e.session.certificateRequest=i,e.expect=h,e.process()},u.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i=t.fragment;i.read-=4;var s=i.bytes();i.read+=4;var a={signature:o(i,2).getBytes()},c=n.util.createBuffer();c.putBuffer(e.session.md5.digest()),c.putBuffer(e.session.sha1.digest()),c=c.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(c,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure}})}e.expect=S,e.process()},u.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.record_overflow}});if(null===e.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.insufficient_security}},s=e.verify(e,i.alert.description,0,[]);if(!0!==s)return(s||0===s)&&("object"!=typeof s||n.util.isArray(s)?"number"==typeof s&&(i.alert.description=s):(s.message&&(i.message=s.message),s.alert&&(i.alert.description=s.alert))),e.error(e,i)}null!==e.session.certificateRequest&&(t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)}),u.queue(e,t)),t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createClientKeyExchange(e)}),u.queue(e,t),e.expect=b;var a=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateVerify(e,t)})),u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.pending=u.createConnectionState(e),e.state.current.write=e.state.pending.write,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)})),e.expect=p,u.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return a(e,null);u.getClientSignature(e,a)},u.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var r=e.entity===u.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=u.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?g:E,e.process()},u.handleFinished=function(e,t,r){var s=t.fragment;s.read-=4;var a=s.bytes();s.read+=4;var o=t.fragment.getBytes();(s=n.util.createBuffer()).putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest());var c=e.entity===u.ConnectionEnd.client,l=c?"server finished":"client finished",f=e.session.sp;if((s=i(f.master_secret,l,s.getBytes(),12)).getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decrypt_error}});e.session.md5.update(a),e.session.sha1.update(a),(e.session.resuming&&c||!e.session.resuming&&!c)&&(u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))),e.expect=c?m:w,e.handshaking=!1,++e.handshakes,e.peerCertificate=c?e.session.serverCertificate:e.session.clientCertificate,u.flush(e),e.isConnected=!0,e.connected(e),e.process()},u.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case u.Alert.Description.close_notify:r="Connection closed.";break;case u.Alert.Description.unexpected_message:r="Unexpected message.";break;case u.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case u.Alert.Description.decryption_failed:r="Decryption failed.";break;case u.Alert.Description.record_overflow:r="Record overflow.";break;case u.Alert.Description.decompression_failure:r="Decompression failed.";break;case u.Alert.Description.handshake_failure:r="Handshake failure.";break;case u.Alert.Description.bad_certificate:r="Bad certificate.";break;case u.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case u.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case u.Alert.Description.certificate_expired:r="Certificate expired.";break;case u.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case u.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case u.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case u.Alert.Description.access_denied:r="Access denied.";break;case u.Alert.Description.decode_error:r="Decode error.";break;case u.Alert.Description.decrypt_error:r="Decrypt error.";break;case u.Alert.Description.export_restriction:r="Export restriction.";break;case u.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case u.Alert.Description.insufficient_security:r="Insufficient security.";break;case u.Alert.Description.internal_error:r="Internal error.";break;case u.Alert.Description.user_canceled:r="User canceled.";break;case u.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===u.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===u.ConnectionEnd.client?"server":"client",alert:i}),e.process()},u.handleHandshake=function(e,t){var r=t.fragment,i=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=n.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(s+4);r.read+=4,i in U[e.entity][e.expect]?(e.entity!==u.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),i!==u.HandshakeType.hello_request&&i!==u.HandshakeType.certificate_verify&&i!==u.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),U[e.entity][e.expect][i](e,t,s)):u.handleUnexpected(e,t)},u.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},u.handleHeartbeat=function(e,t){var r=t.fragment,i=r.getByte(),s=r.getInt16(),a=r.getBytes(s);if(i===u.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>a.length)return e.process();u.queue(e,u.createRecord(e,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_response,a)})),u.flush(e)}else if(i===u.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,n.util.createBuffer(a))}e.process()};var l=1,f=2,d=3,h=4,p=5,g=6,m=7,b=8,y=1,v=2,k=3,S=4,E=5,w=6,C=u.handleUnexpected,A=u.handleChangeCipherSpec,I=u.handleAlert,T=u.handleHandshake,_=u.handleApplicationData,B=u.handleHeartbeat,N=[];N[u.ConnectionEnd.client]=[[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[A,I,C,C,B],[C,I,T,C,B],[C,I,T,_,B],[C,I,T,C,B]],N[u.ConnectionEnd.server]=[[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[A,I,C,C,B],[C,I,T,C,B],[C,I,T,_,B],[C,I,T,C,B]];var R=u.handleHelloRequest,P=u.handleServerHello,x=u.handleCertificate,L=u.handleServerKeyExchange,M=u.handleCertificateRequest,D=u.handleServerHelloDone,O=u.handleFinished,U=[];U[u.ConnectionEnd.client]=[[C,C,P,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,x,L,M,D,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,L,M,D,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,M,D,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,D,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,O],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]];var K=u.handleClientHello,V=u.handleClientKeyExchange,q=u.handleCertificateVerify;U[u.ConnectionEnd.server]=[[C,K,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,x,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,V,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,q,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,O],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]],u.generateKeys=function(e,t){var r=i,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===u.Versions.TLS_1_0.major&&e.version.minor===u.Versions.TLS_1_0.minor;a&&(s+=2*t.fixed_iv_length);var o=r(t.master_secret,"key expansion",n,s),c={client_write_MAC_key:o.getBytes(t.mac_key_length),server_write_MAC_key:o.getBytes(t.mac_key_length),client_write_key:o.getBytes(t.enc_key_length),server_write_key:o.getBytes(t.enc_key_length)};return a&&(c.client_write_IV=o.getBytes(t.fixed_iv_length),c.server_write_IV=o.getBytes(t.fixed_iv_length)),c},u.createConnectionState=function(e){var t=e.entity===u.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}),!e.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=u.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case u.CompressionMethod.none:break;case u.CompressionMethod.deflate:n.read.compressFunction=a,n.write.compressFunction=s;break;default:throw new Error("Unsupported compression algorithm.")}}return n},u.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(t),r.putBytes(n.random.getBytes(28)),r},u.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},u.createAlert=function(e,t){var r=n.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),u.createRecord(e,{type:u.ContentType.alert,data:r})},u.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=n.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var i=e.cipherSuites[r];t.putByte(i.id[0]),t.putByte(i.id[1])}var s=t.length(),a=n.util.createBuffer();a.putByte(u.CompressionMethod.none);var o=a.length(),l=n.util.createBuffer();if(e.virtualHost){var f=n.util.createBuffer();f.putByte(0),f.putByte(0);var d=n.util.createBuffer();d.putByte(0),c(d,2,n.util.createBuffer(e.virtualHost));var h=n.util.createBuffer();c(h,2,d),c(f,2,h),l.putBuffer(f)}var p=l.length();p>0&&(p+=2);var g=e.session.id,m=g.length+1+2+4+28+2+s+1+o+p,b=n.util.createBuffer();return b.putByte(u.HandshakeType.client_hello),b.putInt24(m),b.putByte(e.version.major),b.putByte(e.version.minor),b.putBytes(e.session.sp.client_random),c(b,1,n.util.createBuffer(g)),c(b,2,t),c(b,1,a),p>0&&c(b,2,l),b},u.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,i=n.util.createBuffer();return i.putByte(u.HandshakeType.server_hello),i.putInt24(r),i.putByte(e.version.major),i.putByte(e.version.minor),i.putBytes(e.session.sp.server_random),c(i,1,n.util.createBuffer(t)),i.putByte(e.session.cipherSuite.id[0]),i.putByte(e.session.cipherSuite.id[1]),i.putByte(e.session.compressionMethod),i},u.createCertificate=function(e){var t,r=e.entity===u.ConnectionEnd.client,i=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,i=e.getCertificate(e,t));var s=n.util.createBuffer();if(null!==i)try{n.util.isArray(i)||(i=[i]);for(var a=null,o=0;o<i.length;++o){var l=n.pem.decode(i[o])[0];if("CERTIFICATE"!==l.type&&"X509 CERTIFICATE"!==l.type&&"TRUSTED CERTIFICATE"!==l.type){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw f.headerType=l.type,f}if(l.procType&&"ENCRYPTED"===l.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=n.util.createBuffer(l.body);null===a&&(a=n.asn1.fromDer(d.bytes(),!1));var h=n.util.createBuffer();c(h,3,d),s.putBuffer(h)}i=n.pki.certificateFromAsn1(a),r?e.session.clientCertificate=i:e.session.serverCertificate=i}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var p=3+s.length(),g=n.util.createBuffer();return g.putByte(u.HandshakeType.certificate),g.putInt24(p),c(g,3,s),g},u.createClientKeyExchange=function(e){var t=n.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(n.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var i=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,s=n.util.createBuffer();return s.putByte(u.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s},u.createServerKeyExchange=function(e){var t=n.util.createBuffer();return t},u.getClientSignature=function(e,t){var r=n.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.clientCertificate),i=n.pki.privateKeyFromPem(i)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}null===i?e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):t=i.sign(t,null),r(e,t)},e.getSignature(e,r,t)},u.createCertificateVerify=function(e,t){var r=t.length+2,i=n.util.createBuffer();return i.putByte(u.HandshakeType.certificate_verify),i.putInt24(r),i.putInt16(t.length),i.putBytes(t),i},u.createCertificateRequest=function(e){var t=n.util.createBuffer();t.putByte(1);var r=n.util.createBuffer();for(var i in e.caStore.certs){var s=e.caStore.certs[i],a=n.pki.distinguishedNameToAsn1(s.subject),o=n.asn1.toDer(a);r.putInt16(o.length()),r.putBuffer(o)}var l=1+t.length()+2+r.length(),f=n.util.createBuffer();return f.putByte(u.HandshakeType.certificate_request),f.putInt24(l),c(f,1,t),c(f,2,r),f},u.createServerHelloDone=function(e){var t=n.util.createBuffer();return t.putByte(u.HandshakeType.server_hello_done),t.putInt24(0),t},u.createChangeCipherSpec=function(){var e=n.util.createBuffer();return e.putByte(1),e},u.createFinished=function(e){var t=n.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===u.ConnectionEnd.client,s=e.session.sp,a=r?"client finished":"server finished";t=i(s.master_secret,a,t.getBytes(),12);var o=n.util.createBuffer();return o.putByte(u.HandshakeType.finished),o.putInt24(t.length()),o.putBuffer(t),o},u.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var i=n.util.createBuffer();i.putByte(e),i.putInt16(r),i.putBytes(t);var s=i.length(),a=Math.max(16,s-r-3);return i.putBytes(n.random.getBytes(a)),i},u.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==u.ContentType.handshake&&t.type!==u.ContentType.alert&&t.type!==u.ContentType.change_cipher_spec)){if(t.type===u.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var i;if(t.fragment.length()<=u.MaxFragment)i=[t];else{i=[];for(var s=t.fragment.bytes();s.length>u.MaxFragment;)i.push(u.createRecord(e,{type:t.type,data:n.util.createBuffer(s.slice(0,u.MaxFragment))})),s=s.slice(u.MaxFragment);s.length>0&&i.push(u.createRecord(e,{type:t.type,data:n.util.createBuffer(s)}))}for(var a=0;a<i.length&&!e.fail;++a){var o=i[a];e.state.current.write.update(e,o)&&e.records.push(o)}}},u.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var j=function(e){switch(e){case!0:return!0;case n.pki.certificateError.bad_certificate:return u.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return u.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return u.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return u.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return u.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return u.Alert.Description.unknown_ca;default:return u.Alert.Description.bad_certificate}};for(var F in u.verifyCertificateChain=function(e,t){try{n.pki.verifyCertificateChain(e.caStore,t,(function(t,r,i){j(t);var s=e.verify(e,t,r,i);if(!0!==s){if("object"==typeof s&&!n.util.isArray(s)){var a=new Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate},s.message&&(a.message=s.message),s.alert&&(a.alert.description=s.alert),a}s!==t&&(s=function(e){switch(e){case!0:return!0;case u.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case u.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case u.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case u.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case u.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case u.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(s))}return s}))}catch(t){var r=t;("object"!=typeof r||n.util.isArray(r))&&(r={send:!0,alert:{level:u.Alert.Level.fatal,description:j(t)}}),"send"in r||(r.send=!0),"alert"in r||(r.alert={level:u.Alert.Level.fatal,description:j(r.error)}),e.error(e,r)}return!e.fail},u.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var i in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(i):delete e[i];r.getSession=function(e){var t=null,i=null;if(e?i=n.util.bytesToHex(e):r.order.length>0&&(i=r.order[0]),null!==i&&i in r.cache)for(var s in t=r.cache[i],delete r.cache[i],r.order)if(r.order[s]===i){r.order.splice(s,1);break}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var i=r.order.shift();delete r.cache[i]}i=n.util.bytesToHex(e);r.order.push(i),r.cache[i]=t}}return r},u.createConnection=function(e){var t=null;t=e.caStore?n.util.isArray(e.caStore)?n.pki.createCaStore(e.caStore):e.caStore:n.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var i in r=[],u.CipherSuites)r.push(u.CipherSuites[i]);var s=e.server?u.ConnectionEnd.server:u.ConnectionEnd.client,a=e.sessionCache?u.createSessionCache(e.sessionCache):null,o={version:{major:u.Version.major,minor:u.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===u.ConnectionEnd.client?"client":"server"),r.send&&(u.queue(t,u.createAlert(t,r.alert)),u.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){o.version={major:u.Version.major,minor:u.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=(o.entity,u.ConnectionEnd.client,0),o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(e||void 0===e),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=u.createConnectionState(o)}};o.reset();return o.handshake=function(e){if(o.entity!==u.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0;var t=null;(e=e||"").length>0&&(o.sessionCache&&(t=o.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&o.sessionCache&&null!==(t=o.sessionCache.getSession())&&(e=t.id),o.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},t&&(o.version=t.version,o.session.sp=t.sp),o.session.sp.client_random=u.createRandom().getBytes(),o.open=!0,u.queue(o,u.createRecord(o,{type:u.ContentType.handshake,data:u.createClientHello(o)})),u.flush(o)}},o.process=function(e){var t=0;return e&&o.input.putBytes(e),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(t=function(e){var t=0,r=e.input,i=r.length();if(i<5)t=5-i;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var s=e.record.version.major===e.version.major;s&&e.session&&e.session.version&&(s=e.record.version.minor===e.version.minor),s||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}})}return t}(o)),o.fail||null===o.record||o.record.ready||(t=function(e){var t=0,r=e.input,n=r.length();return n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})),e.record.ready=!0)),t}(o)),!o.fail&&null!==o.record&&o.record.ready&&function(e,t){var r=t.type-u.ContentType.change_cipher_spec,n=N[e.entity][e.expect];r in n?n[r](e,t):u.handleUnexpected(e,t)}(o,o.record)),t},o.prepare=function(e){return u.queue(o,u.createRecord(o,{type:u.ContentType.application_data,data:n.util.createBuffer(e)})),u.flush(o)},o.prepareHeartbeatRequest=function(e,t){return e instanceof n.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),o.expectedHeartbeatPayload=e,u.queue(o,u.createRecord(o,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_request,e,t)})),u.flush(o)},o.close=function(e){if(!o.fail&&o.sessionCache&&o.session){var t={id:o.session.id,version:o.session.version,sp:o.session.sp};t.sp.keys=null,o.sessionCache.setSession(t.id,t)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,u.queue(o,u.createAlert(o,{level:u.Alert.Level.warning,description:u.Alert.Description.close_notify})),u.flush(o)),o.closed(o)),o.reset(e)},o},e.exports=n.tls=n.tls||{},u)"function"!=typeof u[F]&&(n.tls[F]=u[F]);n.tls.prf_tls1=i,n.tls.hmac_sha1=function(e,t,r){var i=n.hmac.create();i.start("SHA1",e);var s=n.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),i.update(s.getBytes()),i.digest().getBytes()},n.tls.createSessionCache=u.createSessionCache,n.tls.createConnection=u.createConnection},76655:(e,t,r)=>{var n=r(34155),i=r(48764).Buffer,s=r(52059),a=r(99239),o=e.exports=s.util=s.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function u(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(o.isArrayBuffer(e)||o.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof u||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==n&&n.nextTick&&!n.browser)return o.nextTick=n.nextTick,void("function"==typeof setImmediate?o.setImmediate=setImmediate:o.setImmediate=o.nextTick);if("function"==typeof setImmediate)return o.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(o.nextTick=function(e){return setImmediate(e)});if(o.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];o.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),i=!0,s=document.createElement("div");t=[];new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(s,{attributes:!0});var a=o.setImmediate;o.setImmediate=function(e){Date.now()-r>15?(r=Date.now(),a(e)):(t.push(e),1===t.length&&s.setAttribute("a",i=!i))}}o.nextTick=o.setImmediate}(),o.isNodejs=void 0!==n&&n.versions&&n.versions.node,o.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},o.isArrayBufferView=function(e){return e&&o.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},o.ByteBuffer=u,o.ByteStringBuffer=u;o.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},o.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},o.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},o.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},o.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},o.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},o.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(o.encodeUtf8(e))},o.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},o.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},o.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},o.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},o.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},o.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},o.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},o.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},o.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},o.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},o.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},o.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},o.ByteStringBuffer.prototype.copy=function(){var e=o.createBuffer(this.data);return e.read=this.read,e},o.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},o.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},o.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},o.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.ByteStringBuffer.prototype.toString=function(){return o.decodeUtf8(this.bytes())},o.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=o.isArrayBuffer(e),n=o.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},o.DataBuffer.prototype.length=function(){return this.write-this.read},o.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},o.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},o.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},o.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},o.DataBuffer.prototype.putBytes=function(e,t){if(o.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(o.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof o.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&o.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof o.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=o.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=o.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},o.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},o.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},o.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},o.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},o.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},o.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},o.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},o.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},o.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},o.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},o.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},o.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},o.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},o.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},o.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},o.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},o.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},o.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},o.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},o.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},o.DataBuffer.prototype.copy=function(){return new o.DataBuffer(this)},o.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},o.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},o.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},o.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return o.binary.raw.encode(t);if("hex"===e)return o.binary.hex.encode(t);if("base64"===e)return o.binary.base64.encode(t);if("utf8"===e)return o.text.utf8.decode(t);if("utf16"===e)return o.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},o.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=o.encodeUtf8(e)),new o.ByteBuffer(e)},o.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},o.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,o=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),o>=10&&(n+=s,s="",o=0),s+=String.fromCharCode(i),++o;return n+=s},o.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},o.bytesToHex=function(e){return o.createBuffer(e).toHex()},o.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],d="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";o.encode64=function(e,t){for(var r,n,i,s="",a="",o=0;o<e.length;)r=e.charCodeAt(o++),n=e.charCodeAt(o++),i=e.charCodeAt(o++),s+=l.charAt(r>>2),s+=l.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=l.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":l.charAt(63&i)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+=s},o.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,s="",a=0;a<e.length;)t=f[e.charCodeAt(a++)-43],r=f[e.charCodeAt(a++)-43],n=f[e.charCodeAt(a++)-43],i=f[e.charCodeAt(a++)-43],s+=String.fromCharCode(t<<2|r>>4),64!==n&&(s+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(s+=String.fromCharCode((3&n)<<6|i)));return s},o.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},o.decodeUtf8=function(e){return decodeURIComponent(escape(e))},o.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},o.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},o.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},o.binary.hex.encode=o.bytesToHex,o.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,s=r=r||0;for(1&e.length&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n},o.binary.base64.encode=function(e,t){for(var r,n,i,s="",a="",o=0;o<e.byteLength;)r=e[o++],n=e[o++],i=e[o++],s+=l.charAt(r>>2),s+=l.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=l.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":l.charAt(63&i)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+=s},o.binary.base64.decode=function(e,t,r){var n,i,s,a,o=t;o||(o=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,u=r=r||0;c<e.length;)n=f[e.charCodeAt(c++)-43],i=f[e.charCodeAt(c++)-43],s=f[e.charCodeAt(c++)-43],a=f[e.charCodeAt(c++)-43],o[u++]=n<<2|i>>4,64!==s&&(o[u++]=(15&i)<<4|s>>2,64!==a&&(o[u++]=(3&s)<<6|a));return t?u-r:o.subarray(0,u)},o.binary.base58.encode=function(e,t){return o.binary.baseN.encode(e,d,t)},o.binary.base58.decode=function(e,t){return o.binary.baseN.decode(e,d,t)},o.text={utf8:{},utf16:{}},o.text.utf8.encode=function(e,t,r){e=o.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},o.text.utf8.decode=function(e){return o.decodeUtf8(String.fromCharCode.apply(null,e))},o.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),s=r=r||0,a=r,o=0;o<e.length;++o)i[a++]=e.charCodeAt(o),s+=2;return t?s-r:n},o.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},o.deflate=function(e,t,r){if(t=o.decode64(e.deflate(o.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},o.inflate=function(e,t,r){var n=e.inflate(o.encode64(t)).rval;return null===n?null:o.decode64(n)};var h=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=o.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},p=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(o.decode64(r))),r},g=function(e,t,r,n){var i=p(e,t);null===i&&(i={}),i[r]=n,h(e,t,i)},m=function(e,t,r){var n=p(e,t);return null!==n&&(n=r in n?n[r]:null),n},b=function(e,t,r){var n=p(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),h(e,t,n)}},y=function(e,t){h(e,t,null)},v=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var s=!1,a=null;for(var o in r){n=r[o];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),s="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),s=!0)}catch(e){a=e}if(s)break}if(!s)throw a;return i};o.setItem=function(e,t,r,n,i){v(g,arguments,i)},o.getItem=function(e,t,r,n){return v(m,arguments,n)},o.removeItem=function(e,t,r,n){v(b,arguments,n)},o.clearItems=function(e,t,r){v(y,arguments,r)},o.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var k=null;o.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,s,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),s=r[n].substring(a+1)):(i=r[n],s=null),i in t||(t[i]=[]),i in Object.prototype||null===s||t[i].push(unescape(s))}return t};return void 0===e?(null===k&&(k="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=k):t=r(e),t},o.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:o.getQueryVariables(r)}},o.makeRequest=function(e){var t=o.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},o.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},o.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var s=t[n++];if(n==i)e[s]=r;else{var a=s in e;(!a||a&&"object"!=typeof e[s]||a&&null===e[s])&&(e[s]={}),e=e[s]}}},o.getPath=function(e,t,r){for(var n=0,i=t.length,s=!0;s&&n<i&&"object"==typeof e&&null!==e;){var a=t[n++];(s=a in e)&&(e=e[a])}return s?e:r},o.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},o.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},o.format=function(e){for(var t,r,n=/%./g,i=0,s=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&s.push(r),a=n.lastIndex;var o=t[0][1];switch(o){case"s":case"o":i<arguments.length?s.push(arguments[1+i++]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(e.substring(a)),s.join("")},o.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,o=void 0===n?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",l=u.length>3?u.length%3:0;return c+(l?u.substr(0,l)+o:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")},o.formatSize=function(e){return e=e>=1073741824?o.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?o.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?o.formatNumber(e/1024,0)+" KiB":o.formatNumber(e,0)+" bytes"},o.bytesFromIP=function(e){return-1!==e.indexOf(".")?o.bytesFromIPv4(e):-1!==e.indexOf(":")?o.bytesFromIPv6(e):null},o.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=o.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},o.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=o.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var s=o.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}else n.fillWithByte(0,r),r=0;return n.getBytes()},o.bytesToIP=function(e){return 4===e.length?o.bytesToIPv4(e):16===e.length?o.bytesToIPv6(e):null},o.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},o.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=o.bytesToHex(e[i]+e[i+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var a=r[r.length-1],c=t.length;a&&c===a.end+1?(a.end=c,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:c,end:c})}t.push(s)}if(r.length>0){var u=r[n];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},o.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in o&&!e.update)return t(null,o.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return o.cores=navigator.hardwareConcurrency,t(null,o.cores);if("undefined"==typeof Worker)return o.cores=1,t(null,o.cores);if("undefined"==typeof Blob)return o.cores=2,t(null,o.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,s){if(0===i){var a=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return o.cores=Math.max(1,a),URL.revokeObjectURL(r),t(null,o.cores)}!function(e,t){for(var n=[],i=[],s=0;s<e;++s){var a=new Worker(r);a.addEventListener("message",(function(r){if(i.push(r.data),i.length===e){for(var s=0;s<e;++s)n[s].terminate();t(null,i)}})),n.push(a)}for(s=0;s<e;++s)n[s].postMessage(s)}(s,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],s=r[n]=[],a=0;a<e;++a)if(n!==a){var o=t[a];(i.st>o.st&&i.st<o.et||o.st>i.st&&o.st<i.et)&&s.push(a)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(s,r)),e(n,i-1,s)}))}([],5,16)}},57793:(e,t,r)=>{var n=r(52059);r(67321),r(72447),r(99132),r(88722),r(23299),r(78529),r(33106),r(70274),r(1120),r(76655);var i=n.asn1,s=e.exports=n.pki=n.pki||{},a=s.oids,o={};o.CN=a.commonName,o.commonName="CN",o.C=a.countryName,o.countryName="C",o.L=a.localityName,o.localityName="L",o.ST=a.stateOrProvinceName,o.stateOrProvinceName="ST",o.O=a.organizationName,o.organizationName="O",o.OU=a.organizationalUnitName,o.organizationalUnitName="OU",o.E=a.emailAddress,o.emailAddress="E";var c=n.pki.rsa.publicKeyValidator,u={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},f={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},d={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[f,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}s.RDNAttributesAsArray=function(e,t){for(var r,n,s,c=[],u=0;u<e.value.length;++u){r=e.value[u];for(var l=0;l<r.value.length;++l)s={},n=r.value[l],s.type=i.derToOid(n.value[0].value),s.value=n.value[1].value,s.valueTagClass=n.value[1].type,s.type in a&&(s.name=a[s.type],s.name in o&&(s.shortName=o[s.name])),t&&(t.update(s.type),t.update(s.value)),c.push(s)}return c},s.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],c=i.derToOid(n.value[0].value),u=n.value[1].value,l=0;l<u.length;++l){var f={};if(f.type=c,f.value=u[l].value,f.valueTagClass=u[l].type,f.type in a&&(f.name=a[f.type],f.name in o&&(f.shortName=o[f.name])),f.type===a.extensionRequest){f.extensions=[];for(var d=0;d<f.value.length;++d)f.extensions.push(s.certificateExtensionFromAsn1(f.value[d]))}t.push(f)}return t};var p=function(e,t,r){var n={};if(e!==a["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var s={},o=[];if(!i.validate(t,l,s,o)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=o,c}return void 0!==s.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(s.hashOid)),void 0!==s.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(s.maskGenHashOid)),void 0!==s.saltLength&&(n.saltLength=s.saltLength.charCodeAt(0)),n};function g(e){for(var t,r,s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),a=e.attributes,o=0;o<a.length;++o){var c=(t=a[o]).value,u=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(u=t.valueTagClass)===i.Type.UTF8&&(c=n.util.encodeUtf8(c)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,u,!1,c)])]),s.value.push(r)}return s}function m(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in s.oids?t.name=s.oids[t.type]:t.shortName&&t.shortName in o&&(t.name=s.oids[o[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in s.oids))throw(c=new Error("Attribute type not specified.")).attribute=t,c;t.type=s.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in o&&(t.shortName=o[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(s.certificateExtensionToAsn1(b(t.extensions[n])))}var c;if(void 0===t.value)throw(c=new Error("Attribute value not specified.")).attribute=t,c}}function b(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in s.oids&&(e.name=s.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in s.oids))throw(S=new Error("Extension ID not specified.")).extension=e,S;e.id=s.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,o=0,c=0;e.digitalSignature&&(o|=128,r=7),e.nonRepudiation&&(o|=64,r=6),e.keyEncipherment&&(o|=32,r=5),e.dataEncipherment&&(o|=16,r=4),e.keyAgreement&&(o|=8,r=3),e.keyCertSign&&(o|=4,r=2),e.cRLSign&&(o|=2,r=1),e.encipherOnly&&(o|=1,r=0),e.decipherOnly&&(c|=128,r=7);var u=String.fromCharCode(r);0!==c?u+=String.fromCharCode(o)+String.fromCharCode(c):0!==o&&(u+=String.fromCharCode(o)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var f in e)!0===e[f]&&(f in a?l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a[f]).getBytes())):-1!==f.indexOf(".")&&l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(f).getBytes())))}else if("nsCertType"===e.name){r=0,o=0;e.client&&(o|=128,r=7),e.server&&(o|=64,r=6),e.email&&(o|=32,r=5),e.objsign&&(o|=16,r=4),e.reserved&&(o|=8,r=3),e.sslCA&&(o|=4,r=2),e.emailCA&&(o|=2,r=1),e.objCA&&(o|=1,r=0);u=String.fromCharCode(r);0!==o&&(u+=String.fromCharCode(o)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var d=0;d<e.altNames.length;++d){u=(y=e.altNames[d]).value;if(7===y.type&&y.ip){if(null===(u=n.util.bytesFromIP(y.ip)))throw(S=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,S}else 8===y.type&&(u=y.oid?i.oidToDer(i.oidToDer(y.oid)):i.oidToDer(u));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,y.type,!1,u))}}else if("subjectKeyIdentifier"===e.name&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,h.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;if(e.keyIdentifier){var p=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var m=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[g(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];l.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var b=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);l.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,b))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;var y,v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),k=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(d=0;d<e.altNames.length;++d){u=(y=e.altNames[d]).value;if(7===y.type&&y.ip){if(null===(u=n.util.bytesFromIP(y.ip)))throw(S=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,S}else 8===y.type&&(u=y.oid?i.oidToDer(i.oidToDer(y.oid)):i.oidToDer(u));k.value.push(i.create(i.Class.CONTEXT_SPECIFIC,y.type,!1,u))}v.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[k])),l.push(v)}var S;if(void 0===e.value)throw(S=new Error("Extension value not specified.")).extension=e,S;return e}function y(e,t){switch(e){case a["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}function v(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,s=0;s<r.length;++s){var a=r[s],o=a.value,c=i.Type.UTF8;"valueTagClass"in a&&(c=a.valueTagClass),c===i.Type.UTF8&&(o=n.util.encodeUtf8(o));var u=!1;"valueConstructed"in a&&(u=a.valueConstructed);var l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,c,u,o)])]);t.value.push(l)}return t}s.certificateFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=i.fromDer(a.body,r);return s.certificateFromAsn1(c,t)},s.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:i.toDer(s.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.publicKeyFromAsn1(a)},s.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:i.toDer(s.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.getPublicKeyFingerprint=function(e,t){var r,a=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(s.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var o=a.digest();if("hex"===t.encoding){var c=o.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o},s.certificationRequestFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var c=i.fromDer(a.body,r);return s.certificationRequestFromAsn1(c,t)},s.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:i.toDer(s.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return h(e.issuer,t)},e.issuer.addField=function(t){m([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){m(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){m(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)b(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],(t.id&&r.id===t.id||t.name&&r.name===t.name)&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var c=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=o,e.tbsCertificate=s.getTBSCertificate(e);var u=i.toDer(e.tbsCertificate);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var o=t.issuer,c=e.subject;throw(g=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=o.attributes,g.actualIssuer=c.attributes,g}var u=t.md;if(null===u){if(t.signatureOid in a)switch(a[t.signatureOid]){case"sha1WithRSAEncryption":u=n.md.sha1.create();break;case"md5WithRSAEncryption":u=n.md.md5.create();break;case"sha256WithRSAEncryption":u=n.md.sha256.create();break;case"sha384WithRSAEncryption":u=n.md.sha384.create();break;case"sha512WithRSAEncryption":u=n.md.sha512.create();break;case"RSASSA-PSS":u=n.md.sha256.create()}if(null===u)throw(g=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,g;var l=t.tbsCertificate||s.getTBSCertificate(t),f=i.toDer(l);u.update(f.getBytes())}if(null!==u){var d;switch(t.signatureOid){case a.sha1WithRSAEncryption:d=void 0;break;case a["RSASSA-PSS"]:var h,p,g;if(void 0===(h=a[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[h])throw(g=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,g.name=h,g;if(void 0===(p=a[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[p])throw(g=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,g.name=p,g;if(p=n.mgf[p].create(n.md[h].create()),void 0===(h=a[t.signatureParameters.hash.algorithmOid])||void 0===n.md[h])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:h};d=n.pss.create(n.md[h].create(),p,t.signatureParameters.saltLength)}r=e.publicKey.verify(u.digest().getBytes(),t.signature,d)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var s,a;r=!0;for(var o=0;r&&o<n.attributes.length;++o)s=n.attributes[o],a=i.attributes[o],s.type===a.type&&s.value===a.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===s}}return!1},e},s.certificateFromAsn1=function(e,t){var r={},o=[];if(!i.validate(e,u,r,o))throw(d=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=o,d;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=s.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=n.util.createBuffer(r.certSerialNumber);c.serialNumber=l.toHex(),c.signatureOid=n.asn1.derToOid(r.certSignatureOid),c.signatureParameters=p(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=p(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var f=[];if(void 0!==r.certValidity1UTCTime&&f.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&f.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=f[0],c.validity.notAfter=f[1],c.tbsCertificate=r.tbsCertificate,t){var d;if(c.md=null,c.signatureOid in a)switch(a[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(d=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,d;var g=i.toDer(c.tbsCertificate);c.md.update(g.getBytes())}var b=n.md.sha1.create();c.issuer.getField=function(e){return h(c.issuer,e)},c.issuer.addField=function(e){m([e]),c.issuer.attributes.push(e)},c.issuer.attributes=s.RDNAttributesAsArray(r.certIssuer,b),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=b.digest().toHex();var y=n.md.sha1.create();return c.subject.getField=function(e){return h(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=s.RDNAttributesAsArray(r.certSubject,y),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=y.digest().toHex(),r.certExtensions?c.extensions=s.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),c},s.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(s.certificateExtensionFromAsn1(n.value[i]));return t},s.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var r=0,s=0;(c=i.fromDer(t.value)).value.length>1&&(r=c.value.charCodeAt(1),s=c.value.length>2?c.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&s)}else if("basicConstraints"===t.name){(c=i.fromDer(t.value)).value.length>0&&c.value[0].type===i.Type.BOOLEAN?t.cA=0!==c.value[0].value.charCodeAt(0):t.cA=!1;var o=null;c.value.length>0&&c.value[0].type===i.Type.INTEGER?o=c.value[0].value:c.value.length>1&&(o=c.value[1].value),null!==o&&(t.pathLenConstraint=i.derToInteger(o))}else if("extKeyUsage"===t.name)for(var c=i.fromDer(t.value),u=0;u<c.value.length;++u){var l=i.derToOid(c.value[u].value);l in a?t[a[l]]=!0:t[l]=!0}else if("nsCertType"===t.name){r=0;(c=i.fromDer(t.value)).value.length>1&&(r=c.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var f;t.altNames=[];c=i.fromDer(t.value);for(var d=0;d<c.value.length;++d){var h={type:(f=c.value[d]).type,value:f.value};switch(t.altNames.push(h),f.type){case 1:case 2:case 6:break;case 7:h.ip=n.util.bytesToIP(f.value);break;case 8:h.oid=i.derToOid(f.value)}}}else if("subjectKeyIdentifier"===t.name){c=i.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(c.value)}return t},s.certificationRequestFromAsn1=function(e,t){var r={},o=[];if(!i.validate(e,d,r,o))throw(u=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=o,u;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=s.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=n.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=p(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=p(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,t){var u;if(c.md=null,c.signatureOid in a)switch(a[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(u=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=c.signatureOid,u;var l=i.toDer(c.certificationRequestInfo);c.md.update(l.getBytes())}var f=n.md.sha1.create();return c.subject.getField=function(e){return h(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=s.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),c.subject.hash=f.digest().toHex(),c.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(e){return h(c,e)},c.addAttribute=function(e){m([e]),c.attributes.push(e)},c.attributes=s.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c},s.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return h(e,t)},e.addAttribute=function(t){m([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){m(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){m(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var c=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=o,e.certificationRequestInfo=s.getCertificationRequestInfo(e);var u=i.toDer(e.certificationRequestInfo);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in a)switch(a[e.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(d=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,d;var o=e.certificationRequestInfo||s.getCertificationRequestInfo(e),c=i.toDer(o);r.update(c.getBytes())}if(null!==r){var u;switch(e.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var l,f,d;if(void 0===(l=a[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[l])throw(d=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,d.name=l,d;if(void 0===(f=a[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[f])throw(d=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,d.name=f,d;if(f=n.mgf[f].create(n.md[l].create()),void 0===(l=a[e.signatureParameters.hash.algorithmOid])||void 0===n.md[l])throw(d=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,d.name=l,d;u=n.pss.create(n.md[l].create(),f,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,u)}return t},e},s.getTBSCertificate=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),y(e.siginfo.algorithmOid,e.siginfo.parameters)]),g(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notBefore)),i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notAfter))]),g(e.subject),s.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&t.value.push(s.certificateExtensionsToAsn1(e.extensions)),t},s.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),g(e.subject),s.publicKeyToAsn1(e.publicKey),v(e)])},s.distinguishedNameToAsn1=function(e){return g(e)},s.certificateToAsn1=function(e){var t=e.tbsCertificate||s.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),y(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(s.certificateExtensionToAsn1(e[n]));return t},s.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=i.toDer(r).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),t},s.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||s.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),y(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.createCaStore=function(e){var t={certs:{}};function r(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=s.RDNAttributesAsArray(g(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var a=i.toDer(s.certificateToAsn1(e)).getBytes(),o=0;o<t.length;++o){if(a===i.toDer(s.certificateToAsn1(t[o])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var i=t.certs[r];if(n.util.isArray(i))for(var s=0;s<i.length;++s)e.push(i[s]);else e.push(i)}return e},t.removeCertificate=function(e){var o;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var c=r(e.subject);if(!n.util.isArray(c))return o=t.certs[e.subject.hash],delete t.certs[e.subject.hash],o;for(var u=i.toDer(s.certificateToAsn1(e)).getBytes(),l=0;l<c.length;++l){u===i.toDer(s.certificateToAsn1(c[l])).getBytes()&&(o=c[l],c.splice(l,1))}return 0===c.length&&delete t.certs[e.subject.hash],o},e)for(var o=0;o<e.length;++o){var c=e[o];t.addCertificate(c)}return t},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(e,t,r){var i=(t=t.slice(0)).slice(0),a=new Date,o=!0,c=null,u=0;do{var l=t.shift(),f=null,d=!1;if((a<l.validity.notBefore||a>l.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:a}),null===c){if(null===(f=t[0]||e.getIssuer(l))&&l.isIssuer(l)&&(d=!0,f=l),f){var h=f;n.util.isArray(h)||(h=[h]);for(var p=!1;!p&&h.length>0;){f=h.shift();try{p=f.verify(l)}catch(e){}}p||(c={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}null!==c||f&&!d||e.hasCertificate(l)||(c={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(null===c&&f&&!l.isIssuer(f)&&(c={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),null===c)for(var g={keyUsage:!0,basicConstraints:!0},m=0;null===c&&m<l.extensions.length;++m){var b=l.extensions[m];b.critical&&!(b.name in g)&&(c={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(null===c&&(!o||0===t.length&&(!f||d))){var y=l.getExtension("basicConstraints"),v=l.getExtension("keyUsage");if(null!==v&&(v.keyCertSign&&null!==y||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate})),null!==c||null===y||y.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),null===c&&null!==v&&"pathLenConstraint"in y)u-1>y.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}var k=null===c||c.error,S=r?r(k,u,i):k;if(!0!==S)throw!0===k&&(c={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(S||0===S)&&("object"!=typeof S||n.util.isArray(S)?"string"==typeof S&&(c.error=S):(S.message&&(c.message=S.message),S.error&&(c.error=S.error))),c;c=null,o=!1,++u}while(t.length>0);return!0}},6510:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(62300),s=r(89096),a=r(69282),o=r(7879);class c{constructor(e,t,r){a(n.isBuffer(e),"invalid id provided"),t&&r&&a(t.public.bytes.equals(r.bytes),"inconsistent arguments"),this._id=e,this._idB58String=i.toB58String(this.id),this._privKey=t,this._pubKey=r}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return s.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return s.keys.marshalPrivateKey(this.privKey)}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let t=6;return e.length<t&&(t=e.length),"<peer.ID "+e.substr(0,t)+">"}toJSON(){return{id:this.toB58String(),privKey:u(this.marshalPrivKey()),pubKey:u(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(e){if(n.isBuffer(e))return this.id.equals(e);if(e.id)return this.id.equals(e.id);throw new Error("not valid Id")}isValid(e){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?e():e(new Error("Keys not match"))}}function u(e){if(e)return e.toString("base64")}(t=e.exports=c).create=function(e,t){"function"==typeof e&&(t=e,e={}),(e=e||{}).bits=e.bits||2048,o([t=>s.keys.generateKeyPair("RSA",e.bits,t),(e,t)=>e.public.hash(((r,n)=>{t(r,n,e)}))],((e,r,n)=>{if(e)return t(e);t(null,new c(r,n))}))},t.createFromHexString=function(e){return new c(i.fromHexString(e))},t.createFromBytes=function(e){return new c(e)},t.createFromB58String=function(e){return new c(i.fromB58String(e))},t.createFromPubKey=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r;try{let t=e;if("string"==typeof t&&(t=n.from(e,"base64")),!n.isBuffer(t))throw new Error("Supplied key is neither a base64 string nor a buffer");r=s.keys.unmarshalPublicKey(t)}catch(e){return t(e)}r.hash(((e,n)=>{if(e)return t(e);t(null,new c(n,null,r))}))},t.createFromPrivKey=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r=e;try{if("string"==typeof r&&(r=n.from(e,"base64")),!n.isBuffer(r))throw new Error("Supplied key is neither a base64 string nor a buffer")}catch(e){return t(e)}o([e=>s.keys.unmarshalPrivateKey(r,e),(e,t)=>e.public.hash(((r,n)=>{t(r,n,e)}))],((e,r,n)=>{if(e)return t(e);t(null,new c(r,n,n.public))}))},t.createFromJSON=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r,a,u,l;try{r=i.fromB58String(e.id),a=e.privKey&&n.from(e.privKey,"base64"),u=e.pubKey&&n.from(e.pubKey,"base64"),l=u&&s.keys.unmarshalPublicKey(u)}catch(e){return t(e)}a?o([e=>s.keys.unmarshalPrivateKey(a,e),(e,t)=>e.public.hash(((r,n)=>{t(r,n,e)})),(e,t,r)=>{l?l.hash(((n,i)=>{r(n,e,t,i)})):r(null,e,t)}],((e,n,i,s)=>e?t(e):l&&!n.equals(s)?t(new Error("Public and private key do not match")):r&&!n.equals(r)?t(new Error("Id and private key do not match")):void t(null,new c(r,i,l)))):t(null,new c(r,null,l))},t.isPeerId=function(e){return Boolean("object"==typeof e&&e._id&&e._idB58String)}},62280:(e,t,r)=>{"use strict";var n=r(94676),i=r(88533).r;function s(e){return`${e.substring(0,1).toUpperCase()}${e.substring(1)}`}function a(e,t,r,n){if(Object.prototype.hasOwnProperty.call(e,t))return;const i=s(t);Object.defineProperties(e,{[t]:{enumerable:!0,configurable:!0,set:e=>{r=e},get:()=>void 0===r?n:r},[`has${i}`]:{configurable:!0,value:()=>void 0!==r},[`set${i}`]:{configurable:!0,value:e=>{r=e}},[`get${i}`]:{configurable:!0,value:()=>r},[`clear${i}`]:{configurable:!0,value:()=>{r=void 0,e[t]=void 0}}})}var o=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4;default:throw new Error("Unknown wire type: "+e)}},c=function(e){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},u=function(e,t){if(void 0===t)return t;switch(e.type){case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t,10);default:return t}};e.exports=function(e,t,r){for(var l=[],f={},d=[],h=[],p=0;p<r.length;p++){var g=e.fields[p];f[g.tag]=p;var m=g.options&&g.options.default,b=t(g.type,e.id,!1);h[p]=[m,b&&b.values],e.fields[p].packed=g.repeated&&g.options&&g.options.packed&&"false"!==g.options.packed,g.required&&l.push(g.name),g.oneof&&d.push(g.name)}function y(e,t,r,i,o,c){var u=t.name;if(t.oneof)for(var l=Object.keys(r),f=0;f<l.length;f++)if(d.indexOf(l[f])>-1){const e=s(l[f]);delete r[`has${e}`],delete r[`get${e}`],delete r[`set${e}`],delete r[`clear${e}`],delete r[l[f]]}let h;if(e.message){var p=n.decode(i,o);o+=n.decode.bytes;var g=e.decode(i,o,o+p);t.map?(h=r[u]||{},h[g.key]=g.value):t.repeated?(h=r[u]||[],h.push(g)):h=g}else t.repeated?(h=r[u]||[],h.push(e.decode(i,o))):h=e.decode(i,o);return a(r,u,h),o+=e.decode.bytes}return function t(s,p,g){if(null==p&&(p=0),null==g&&(g=s.length),!(g<=s.length&&p<=s.length))throw new Error("Decoded message is not valid");for(var m,b=p,v={};;){if(g<=p){var k,S,E="",w=0;for(w=0;w<l.length;w++)if(E=l[w],!i(v[E]))throw new Error("Decoded message is not valid, missing required field: "+E);for(w=0;w<r.length;w++){let t;if(m=e.fields[w],S=h[w][0],k=h[w][1],E=m.name,!Object.prototype.hasOwnProperty.call(v,E)){var C=!1;if(m.oneof)for(var A=Object.keys(v),I=0;I<A.length;I++)if(d.indexOf(A[I])>-1){C=!0;break}C||(k?m.repeated?S=[]:(S=S&&k[S]?k[S].value:k[Object.keys(k)[0]].value,S=parseInt(S||0,10)):(t=c(m),S=u(m,S)),a(v,E,S,t))}}return t.bytes=p-b,v}var T=n.decode(s,p);p+=n.decode.bytes;var _=f[T>>3];if(null!=_){var B=r[_];if((m=e.fields[_]).packed){var N=n.decode(s,p);for(N+=p+=n.decode.bytes;p<N;)p=y(B,m,v,s,p)}else p=y(B,m,v,s,p)}else p=o(7&T,s,p)}}}},69026:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764);var i=r(88533).r,s=r(94676);e.exports=function(e,t,r,a,o){for(var c=Object.keys(a),u=r.length,l={},f=0;f<u;f++){l[f]={p:s.encode(e.fields[f].tag<<3|2),h:s.encode(e.fields[f].tag<<3|r[f].type)};var d=e.fields[f];e.fields[f].packed=d.repeated&&d.options&&d.options.packed&&"false"!==d.options.packed}function h(e,t,r,n,i,a){var o=0;if(!i)for(o=0;o<r.length;o++)e[t++]=r[o];return n.message&&(s.encode(n.encodingLength(a),e,t),t+=s.encode.bytes),n.encode(a,e,t),t+n.encode.bytes}return function t(f,d,p){null==p&&(p=0),null==d&&(d=n.allocUnsafe(o(f)));var g=p,m=Object.keys(f),b=0,y=!1;for(b=0;b<c.length;b++){var v=c[b],k=a[b];if(m.indexOf(k)>-1){if(y)throw new Error("only one of the properties defined in oneof "+v+" can be set");y=!0}}for(b=0;b<u;b++){var S=r[b],E=e.fields[b],w=f[E.name],C=0;if(i(w)){var A,I=l[b].p,T=l[b].h,_=E.packed;if(E.map){var B=Object.keys(w);for(C=0;C<B.length;C++)B[C]={key:B[C],value:w[B[C]]};w=B}if(_){var N=0;for(C=0;C<w.length;C++)Object.prototype.hasOwnProperty.call(w,C)&&(N+=S.encodingLength(w[C]));if(N){for(C=0;C<T.length;C++)d[p++]=I[C];s.encode(N,d,p),p+=s.encode.bytes}}if(E.repeated)for(C=0;C<w.length;C++)A=w[C],i(A)&&(p=h(d,p,T,S,_,A));else p=h(d,p,T,S,_,w)}else if(E.required)throw new Error(E.name+" is required")}return t.bytes=p-g,d}}},32373:(e,t,r)=>{"use strict";var n=r(88533).r,i=r(94676);e.exports=function(e,t,r){for(var s=Object.keys(r),a=t.length,o=new Array(a),c=0;c<e.fields.length;c++){o[c]=i.encodingLength(e.fields[c].tag<<3|t[c].type);var u=e.fields[c];e.fields[c].packed=u.repeated&&u.options&&u.options.packed&&"false"!==u.options.packed}return function(c){var u=0,l=0,f=0;for(l=0;l<s.length;l++){var d=s[l],h=r[d],p=!1;for(f=0;f<h.length;f++)if(n(c[h[f]])){if(p)throw new Error("only one of the properties defined in oneof "+d+" can be set");p=!0}}for(l=0;l<a;l++){var g,m=t[l],b=e.fields[l],y=c[b.name],v=o[l];if(n(y)){if(b.map){var k=Object.keys(y);for(f=0;f<k.length;f++)k[f]={key:k[f],value:y[k[f]]};y=k}if(b.packed){var S=0;for(f=0;f<y.length;f++)n(y[f])&&(S+=g=m.encodingLength(y[f]),m.message&&(S+=i.encodingLength(g)));S&&(u+=v+S+i.encodingLength(S))}else if(b.repeated)for(f=0;f<y.length;f++)n(y[f])&&(u+=v+(g=m.encodingLength(y[f]))+(m.message?i.encodingLength(g):0));else u+=v+(g=m.encodingLength(y))+(m.message?i.encodingLength(g):0)}else if(b.required)throw new Error(b.name+" is required")}return u}}},12354:(e,t,r)=>{"use strict";var n=r(94676),i=r(1842);const{Buffer:s}=r(48764);var a,o,c,u=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};t.make=u,t.bytes=(a=function(e){return s.isBuffer(e)?e.length:s.byteLength(e)},u(2,o=function(e,t,r){var i=r,s=a(e);return n.encode(s,t,r),r+=n.encode.bytes,e instanceof Uint8Array?t.set(e,r):t.write(e,r,s),r+=s,o.bytes=r-i,t},c=function(e,t){var r=t,i=n.decode(e,t);t+=n.decode.bytes;var s=e.slice(t,t+i);return t+=s.length,c.bytes=t-r,s},(function(e){var t=a(e);return n.encodingLength(t)+t}))),t.string=function(){var e=function(t,r,i){var a=i,o=s.byteLength(t);return n.encode(o,r,i,"utf-8"),i+=n.encode.bytes,r.write(t,i,o),i+=o,e.bytes=i-a,r},t=function(e,r){var i=r,s=n.decode(e,r);r+=n.decode.bytes;var a=e.toString("utf-8",r,r+s);return r+=s,t.bytes=r-i,a};return u(2,e,t,(function(e){var t=s.byteLength(e);return n.encodingLength(t)+t}))}(),t.bool=function(){var e=function(t,r,n){return r[n]=t?1:0,e.bytes=1,r},t=function(e,r){var n=e[r]>0;return t.bytes=1,n};return u(0,e,t,(function(e){return 1}))}(),t.int32=function(){var e=function(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,i>2147483647?i-4294967296:i},t=function(e,r,i){return n.encode(e<0?e+4294967296:e,r,i),t.bytes=n.encode.bytes,r};return u(0,t,e,(function(e){return n.encodingLength(e<0?e+4294967296:e)}))}(),t.int64=function(){var e=function(t,r){var i=n.decode(t,r);if(i>=Math.pow(2,63)){for(var a=9;255===t[r+a-1];)a--;a=a||9;var o=s.allocUnsafe(a);t.copy(o,0,r,r+a),o[a-1]=127&o[a-1],i=-1*n.decode(o,0),e.bytes=10}else e.bytes=n.decode.bytes;return i},t=function(e,r,i){if(e<0){var s=i+9;for(n.encode(-1*e,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<s-1;)r[++i]=255;r[s]=1,t.bytes=10}else n.encode(e,r,i),t.bytes=n.encode.bytes;return r};return u(0,t,e,(function(e){return e<0?10:n.encodingLength(e)}))}(),t.sint32=t.sint64=u(0,i.encode,i.decode,i.encodingLength),t.uint32=t.uint64=t.enum=t.varint=u(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=function(){var e=function(t,r,n){return r.set(t,n),e.bytes=8,r},t=function(e,r){var n=e.slice(r,r+8);return t.bytes=8,n};return u(1,e,t,(function(e){return 8}))}(),t.double=function(){var e=function(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r},t=function(e,r){var n=e.readDoubleLE(r);return t.bytes=8,n};return u(1,e,t,(function(e){return 8}))}(),t.fixed32=function(){var e=function(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readUInt32LE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}(),t.sfixed32=function(){var e=function(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readInt32LE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}(),t.float=function(){var e=function(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readFloatLE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}()},13546:(e,t,r)=>{"use strict";var n=r(12354),i=r(62280),s=r(69026),a=r(32373),o=r(94676);e.exports=function(e,t){var r={},c={},u={},l=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,c[e.id]=e,l(e,e.id)})),e.messages&&e.messages.forEach((function(n){n.id=t+(t?".":"")+n.name,r[n.id]=n,n.fields.forEach((function(n){if(n.map){var i="Map_"+n.map.from+"_"+n.map.to,s={name:i,enums:[],messages:[],fields:[{name:"key",type:n.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:n.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+i};r[s.id]||(r[s.id]=s,e.messages.push(s)),n.type=i,n.repeated=!0}})),l(n,n.id)}))};l(e,"");var f=function(e,t){e.messages.forEach((function(r){t[r.name]=d(r.name,e.id)})),e.enums.forEach((function(e){t[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),t.type=2,t.message=!0,t.name=e.name;var r={};e.fields.forEach((function(e){e.oneof&&(r[e.oneof]||(r[e.oneof]=[]),r[e.oneof].push(e.name))}));var n=e.fields.map((function(t){return d(t.type,e.id)})),o=a(e,n,r),c=s(e,d,n,r,o),u=i(e,d,n);return c.bytes=u.bytes=0,t.buffer=!0,t.encode=c,t.decode=u,t.encodingLength=o,t},d=function(e,i,s){if(t&&t[e])return t[e];if(n[e])return n[e];var a,l,d=(i?i+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||r[t]||c[t]}),null);if(!1===s)return d;if(!d)throw new Error("Could not resolve "+e);return d.values?(a=d,l=Object.keys(a.values||[]).map((function(e){return parseInt(a.values[e].value,10)})),n.make(0,(function e(t,r,n){if(!l.length||-1===l.indexOf(t))throw new Error("Invalid enum value: "+t);return o.encode(t,r,n),e.bytes=o.encode.bytes,r}),(function e(t,r){var n=o.decode(t,r);if(!l.length||-1===l.indexOf(n))throw new Error("Invalid enum value: "+n);return e.bytes=o.decode.bytes,n}),o.encodingLength)):u[d.id]||f(d,u[d.id]={})};return(e.enums||[]).concat((e.messages||[]).map((function(e){return d(e.id)})))}},88533:(e,t)=>{"use strict";t.r=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))}},94865:(e,t,r)=>{"use strict";var n=r(54894);const{Buffer:i}=r(48764);var s=r(13546);e.exports=function(e,t){if(t||(t={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var r="object"!=typeof e||i.isBuffer(e)?n.parse(e):e,a=function(){var e=this;s(r,t.encodings||{}).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return a.prototype.toString=function(){return n.stringify(r)},a.prototype.toJSON=function(){return r},new a}},98498:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var a=t(),o=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,i){var s,a=0;for(s=0;s<i;s++)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}function m(e,t,r,n){return g(e,t,r,n,16)}function b(e,t,r,n){return g(e,t,r,n,32)}function y(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,k=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=s,E=a,w=o,C=c,A=u,I=l,T=f,_=d,B=h,N=p,R=g,P=m,x=b,L=y,M=v,D=k,O=0;O<20;O+=2)S^=(i=(x^=(i=(B^=(i=(A^=(i=S+x|0)<<7|i>>>25)+S|0)<<9|i>>>23)+A|0)<<13|i>>>19)+B|0)<<18|i>>>14,I^=(i=(E^=(i=(L^=(i=(N^=(i=I+E|0)<<7|i>>>25)+I|0)<<9|i>>>23)+N|0)<<13|i>>>19)+L|0)<<18|i>>>14,R^=(i=(T^=(i=(w^=(i=(M^=(i=R+T|0)<<7|i>>>25)+R|0)<<9|i>>>23)+M|0)<<13|i>>>19)+w|0)<<18|i>>>14,D^=(i=(P^=(i=(_^=(i=(C^=(i=D+P|0)<<7|i>>>25)+D|0)<<9|i>>>23)+C|0)<<13|i>>>19)+_|0)<<18|i>>>14,S^=(i=(C^=(i=(w^=(i=(E^=(i=S+C|0)<<7|i>>>25)+S|0)<<9|i>>>23)+E|0)<<13|i>>>19)+w|0)<<18|i>>>14,I^=(i=(A^=(i=(_^=(i=(T^=(i=I+A|0)<<7|i>>>25)+I|0)<<9|i>>>23)+T|0)<<13|i>>>19)+_|0)<<18|i>>>14,R^=(i=(N^=(i=(B^=(i=(P^=(i=R+N|0)<<7|i>>>25)+R|0)<<9|i>>>23)+P|0)<<13|i>>>19)+B|0)<<18|i>>>14,D^=(i=(M^=(i=(L^=(i=(x^=(i=D+M|0)<<7|i>>>25)+D|0)<<9|i>>>23)+x|0)<<13|i>>>19)+L|0)<<18|i>>>14;S=S+s|0,E=E+a|0,w=w+o|0,C=C+c|0,A=A+u|0,I=I+l|0,T=T+f|0,_=_+d|0,B=B+h|0,N=N+p|0,R=R+g|0,P=P+m|0,x=x+b|0,L=L+y|0,M=M+v|0,D=D+k|0,e[0]=S>>>0&255,e[1]=S>>>8&255,e[2]=S>>>16&255,e[3]=S>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=w>>>0&255,e[9]=w>>>8&255,e[10]=w>>>16&255,e[11]=w>>>24&255,e[12]=C>>>0&255,e[13]=C>>>8&255,e[14]=C>>>16&255,e[15]=C>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=I>>>0&255,e[21]=I>>>8&255,e[22]=I>>>16&255,e[23]=I>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=_>>>0&255,e[29]=_>>>8&255,e[30]=_>>>16&255,e[31]=_>>>24&255,e[32]=B>>>0&255,e[33]=B>>>8&255,e[34]=B>>>16&255,e[35]=B>>>24&255,e[36]=N>>>0&255,e[37]=N>>>8&255,e[38]=N>>>16&255,e[39]=N>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=x>>>0&255,e[49]=x>>>8&255,e[50]=x>>>16&255,e[51]=x>>>24&255,e[52]=L>>>0&255,e[53]=L>>>8&255,e[54]=L>>>16&255,e[55]=L>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,r,n)}function v(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,k=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=0;S<20;S+=2)s^=(i=(b^=(i=(h^=(i=(u^=(i=s+b|0)<<7|i>>>25)+s|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(y^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,g^=(i=(f^=(i=(o^=(i=(v^=(i=g+f|0)<<7|i>>>25)+g|0)<<9|i>>>23)+v|0)<<13|i>>>19)+o|0)<<18|i>>>14,k^=(i=(m^=(i=(d^=(i=(c^=(i=k+m|0)<<7|i>>>25)+k|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,s^=(i=(c^=(i=(o^=(i=(a^=(i=s+c|0)<<7|i>>>25)+s|0)<<9|i>>>23)+a|0)<<13|i>>>19)+o|0)<<18|i>>>14,l^=(i=(u^=(i=(d^=(i=(f^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,g^=(i=(p^=(i=(h^=(i=(m^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+m|0)<<13|i>>>19)+h|0)<<18|i>>>14,k^=(i=(v^=(i=(y^=(i=(b^=(i=k+v|0)<<7|i>>>25)+k|0)<<9|i>>>23)+b|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var k=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,r,n,i,s,a){var o,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=s[c];for(;i>=64;){for(y(l,u,a,k),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(o=1,c=8;c<16;c++)o=o+(255&u[c])|0,u[c]=255&o,o>>>=8;i-=64,t+=64,n+=64}if(i>0)for(y(l,u,a,k),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function E(e,t,r,n,i){var s,a,o=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)o[a]=0;for(a=0;a<8;a++)o[a]=n[a];for(;r>=64;){for(y(c,o,i,k),a=0;a<64;a++)e[t+a]=c[a];for(s=1,a=8;a<16;a++)s=s+(255&o[a])|0,o[a]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(y(c,o,i,k),a=0;a<r;a++)e[t+a]=c[a];return 0}function w(e,t,r,n,i){var s=new Uint8Array(32);v(s,n,i,k);for(var a=new Uint8Array(8),o=0;o<8;o++)a[o]=n[o+16];return E(e,t,r,a,s)}function C(e,t,r,n,i,s,a){var o=new Uint8Array(32);v(o,s,a,k);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=s[u+16];return S(e,t,r,n,i,c,o)}var A=function(e){var t,r,n,i,s,a,o,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|a<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|o<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function I(e,t,r,n,i,s){var a=new A(s);return a.update(r,n,i),a.finish(e,t),0}function T(e,t,r,n,i,s){var a=new Uint8Array(16);return I(a,0,r,n,i,s),m(e,t,a,0)}function _(e,t,r,n,i){var s;if(r<32)return-1;for(C(e,0,t,0,r,n,i),I(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function B(e,t,r,n,i){var s,a=new Uint8Array(32);if(r<32)return-1;if(w(a,0,32,n,i),0!==T(t,16,t,32,r-32,a))return-1;for(C(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function N(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function R(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function x(e,r){var n,i,s,a=t(),o=t();for(n=0;n<16;n++)o[n]=r[n];for(R(o),R(o),R(o),i=0;i<2;i++){for(a[0]=o[0]-65517,n=1;n<15;n++)a[n]=o[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),s=a[15]>>16&1,a[14]&=65535,P(o,a,1-s)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function L(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return x(r,e),x(n,t),b(r,0,n,0)}function M(e){var t=new Uint8Array(32);return x(t,e),1&t[0]}function D(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function O(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function U(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function K(e,t,r){var n,i,s=0,a=0,o=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,g=0,m=0,b=0,y=0,v=0,k=0,S=0,E=0,w=0,C=0,A=0,I=0,T=0,_=0,B=0,N=0,R=0,P=0,x=0,L=0,M=0,D=r[0],O=r[1],U=r[2],K=r[3],V=r[4],q=r[5],j=r[6],F=r[7],z=r[8],J=r[9],H=r[10],G=r[11],Y=r[12],Q=r[13],X=r[14],Z=r[15];s+=(n=t[0])*D,a+=n*O,o+=n*U,c+=n*K,u+=n*V,l+=n*q,f+=n*j,d+=n*F,h+=n*z,p+=n*J,g+=n*H,m+=n*G,b+=n*Y,y+=n*Q,v+=n*X,k+=n*Z,a+=(n=t[1])*D,o+=n*O,c+=n*U,u+=n*K,l+=n*V,f+=n*q,d+=n*j,h+=n*F,p+=n*z,g+=n*J,m+=n*H,b+=n*G,y+=n*Y,v+=n*Q,k+=n*X,S+=n*Z,o+=(n=t[2])*D,c+=n*O,u+=n*U,l+=n*K,f+=n*V,d+=n*q,h+=n*j,p+=n*F,g+=n*z,m+=n*J,b+=n*H,y+=n*G,v+=n*Y,k+=n*Q,S+=n*X,E+=n*Z,c+=(n=t[3])*D,u+=n*O,l+=n*U,f+=n*K,d+=n*V,h+=n*q,p+=n*j,g+=n*F,m+=n*z,b+=n*J,y+=n*H,v+=n*G,k+=n*Y,S+=n*Q,E+=n*X,w+=n*Z,u+=(n=t[4])*D,l+=n*O,f+=n*U,d+=n*K,h+=n*V,p+=n*q,g+=n*j,m+=n*F,b+=n*z,y+=n*J,v+=n*H,k+=n*G,S+=n*Y,E+=n*Q,w+=n*X,C+=n*Z,l+=(n=t[5])*D,f+=n*O,d+=n*U,h+=n*K,p+=n*V,g+=n*q,m+=n*j,b+=n*F,y+=n*z,v+=n*J,k+=n*H,S+=n*G,E+=n*Y,w+=n*Q,C+=n*X,A+=n*Z,f+=(n=t[6])*D,d+=n*O,h+=n*U,p+=n*K,g+=n*V,m+=n*q,b+=n*j,y+=n*F,v+=n*z,k+=n*J,S+=n*H,E+=n*G,w+=n*Y,C+=n*Q,A+=n*X,I+=n*Z,d+=(n=t[7])*D,h+=n*O,p+=n*U,g+=n*K,m+=n*V,b+=n*q,y+=n*j,v+=n*F,k+=n*z,S+=n*J,E+=n*H,w+=n*G,C+=n*Y,A+=n*Q,I+=n*X,T+=n*Z,h+=(n=t[8])*D,p+=n*O,g+=n*U,m+=n*K,b+=n*V,y+=n*q,v+=n*j,k+=n*F,S+=n*z,E+=n*J,w+=n*H,C+=n*G,A+=n*Y,I+=n*Q,T+=n*X,_+=n*Z,p+=(n=t[9])*D,g+=n*O,m+=n*U,b+=n*K,y+=n*V,v+=n*q,k+=n*j,S+=n*F,E+=n*z,w+=n*J,C+=n*H,A+=n*G,I+=n*Y,T+=n*Q,_+=n*X,B+=n*Z,g+=(n=t[10])*D,m+=n*O,b+=n*U,y+=n*K,v+=n*V,k+=n*q,S+=n*j,E+=n*F,w+=n*z,C+=n*J,A+=n*H,I+=n*G,T+=n*Y,_+=n*Q,B+=n*X,N+=n*Z,m+=(n=t[11])*D,b+=n*O,y+=n*U,v+=n*K,k+=n*V,S+=n*q,E+=n*j,w+=n*F,C+=n*z,A+=n*J,I+=n*H,T+=n*G,_+=n*Y,B+=n*Q,N+=n*X,R+=n*Z,b+=(n=t[12])*D,y+=n*O,v+=n*U,k+=n*K,S+=n*V,E+=n*q,w+=n*j,C+=n*F,A+=n*z,I+=n*J,T+=n*H,_+=n*G,B+=n*Y,N+=n*Q,R+=n*X,P+=n*Z,y+=(n=t[13])*D,v+=n*O,k+=n*U,S+=n*K,E+=n*V,w+=n*q,C+=n*j,A+=n*F,I+=n*z,T+=n*J,_+=n*H,B+=n*G,N+=n*Y,R+=n*Q,P+=n*X,x+=n*Z,v+=(n=t[14])*D,k+=n*O,S+=n*U,E+=n*K,w+=n*V,C+=n*q,A+=n*j,I+=n*F,T+=n*z,_+=n*J,B+=n*H,N+=n*G,R+=n*Y,P+=n*Q,x+=n*X,L+=n*Z,k+=(n=t[15])*D,a+=38*(E+=n*U),o+=38*(w+=n*K),c+=38*(C+=n*V),u+=38*(A+=n*q),l+=38*(I+=n*j),f+=38*(T+=n*F),d+=38*(_+=n*z),h+=38*(B+=n*J),p+=38*(N+=n*H),g+=38*(R+=n*G),m+=38*(P+=n*Y),b+=38*(x+=n*Q),y+=38*(L+=n*X),v+=38*(M+=n*Z),s=(n=(s+=38*(S+=n*O))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=g,e[11]=m,e[12]=b,e[13]=y,e[14]=v,e[15]=k}function V(e,t){K(e,t,t)}function q(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)V(i,i),2!==n&&4!==n&&K(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function j(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)V(i,i),1!==n&&K(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function F(e,r,n){var i,s,a=new Uint8Array(32),o=new Float64Array(80),u=t(),l=t(),f=t(),d=t(),h=t(),p=t();for(s=0;s<31;s++)a[s]=r[s];for(a[31]=127&r[31]|64,a[0]&=248,D(o,n),s=0;s<16;s++)l[s]=o[s],d[s]=u[s]=f[s]=0;for(u[0]=d[0]=1,s=254;s>=0;--s)P(u,l,i=a[s>>>3]>>>(7&s)&1),P(f,d,i),O(h,u,f),U(u,u,f),O(f,l,d),U(l,l,d),V(d,h),V(p,u),K(u,f,u),K(f,l,h),O(h,u,f),U(u,u,f),V(l,u),U(f,d,p),K(u,f,c),O(u,u,d),K(f,f,u),K(u,d,p),K(d,l,o),V(l,h),P(u,l,i),P(f,d,i);for(s=0;s<16;s++)o[s+16]=u[s],o[s+32]=f[s],o[s+48]=l[s],o[s+64]=d[s];var g=o.subarray(32),m=o.subarray(16);return q(g,g),K(m,m,g),x(e,m),0}function z(e,t){return F(e,t,s)}function J(e,t){return n(t,32),z(e,t)}function H(e,t,r){var n=new Uint8Array(32);return F(n,r,t),v(e,i,n,k)}A.prototype.blocks=function(e,t,r){for(var n,i,s,a,o,c,u,l,f,d,h,p,g,m,b,y,v,k,S,E=this.fin?0:2048,w=this.h[0],C=this.h[1],A=this.h[2],I=this.h[3],T=this.h[4],_=this.h[5],B=this.h[6],N=this.h[7],R=this.h[8],P=this.h[9],x=this.r[0],L=this.r[1],M=this.r[2],D=this.r[3],O=this.r[4],U=this.r[5],K=this.r[6],V=this.r[7],q=this.r[8],j=this.r[9];r>=16;)d=f=0,d+=(w+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*x,d+=(C+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*j),d+=(A+=8191&(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*q),d+=(I+=8191&(s>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*V),f=(d+=(T+=8191&(a>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*K))>>>13,d&=8191,d+=(_+=o>>>1&8191)*(5*U),d+=(B+=8191&(o>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*O),d+=(N+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),d+=(R+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*M),h=f+=(d+=(P+=l>>>5|E)*(5*L))>>>13,h+=w*L,h+=C*x,h+=A*(5*j),h+=I*(5*q),f=(h+=T*(5*V))>>>13,h&=8191,h+=_*(5*K),h+=B*(5*U),h+=N*(5*O),h+=R*(5*D),f+=(h+=P*(5*M))>>>13,h&=8191,p=f,p+=w*M,p+=C*L,p+=A*x,p+=I*(5*j),f=(p+=T*(5*q))>>>13,p&=8191,p+=_*(5*V),p+=B*(5*K),p+=N*(5*U),p+=R*(5*O),g=f+=(p+=P*(5*D))>>>13,g+=w*D,g+=C*M,g+=A*L,g+=I*x,f=(g+=T*(5*j))>>>13,g&=8191,g+=_*(5*q),g+=B*(5*V),g+=N*(5*K),g+=R*(5*U),m=f+=(g+=P*(5*O))>>>13,m+=w*O,m+=C*D,m+=A*M,m+=I*L,f=(m+=T*x)>>>13,m&=8191,m+=_*(5*j),m+=B*(5*q),m+=N*(5*V),m+=R*(5*K),b=f+=(m+=P*(5*U))>>>13,b+=w*U,b+=C*O,b+=A*D,b+=I*M,f=(b+=T*L)>>>13,b&=8191,b+=_*x,b+=B*(5*j),b+=N*(5*q),b+=R*(5*V),y=f+=(b+=P*(5*K))>>>13,y+=w*K,y+=C*U,y+=A*O,y+=I*D,f=(y+=T*M)>>>13,y&=8191,y+=_*L,y+=B*x,y+=N*(5*j),y+=R*(5*q),v=f+=(y+=P*(5*V))>>>13,v+=w*V,v+=C*K,v+=A*U,v+=I*O,f=(v+=T*D)>>>13,v&=8191,v+=_*M,v+=B*L,v+=N*x,v+=R*(5*j),k=f+=(v+=P*(5*q))>>>13,k+=w*q,k+=C*V,k+=A*K,k+=I*U,f=(k+=T*O)>>>13,k&=8191,k+=_*D,k+=B*M,k+=N*L,k+=R*x,S=f+=(k+=P*(5*j))>>>13,S+=w*j,S+=C*q,S+=A*V,S+=I*K,f=(S+=T*U)>>>13,S&=8191,S+=_*O,S+=B*D,S+=N*M,S+=R*L,w=d=8191&(f=(f=((f+=(S+=P*x)>>>13)<<2)+f|0)+(d&=8191)|0),C=h+=f>>>=13,A=p&=8191,I=g&=8191,T=m&=8191,_=b&=8191,B=y&=8191,N=v&=8191,R=k&=8191,P=S&=8191,t+=16,r-=16;this.h[0]=w,this.h[1]=C,this.h[2]=A,this.h[3]=I,this.h[4]=T,this.h[5]=_,this.h[6]=B,this.h[7]=N,this.h[8]=R,this.h[9]=P},A.prototype.finish=function(e,t){var r,n,i,s,a=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,s=1;s<10;s++)a[s]=this.h[s]+r,r=a[s]>>>13,a[s]&=8191;for(a[9]-=8192,n=(1^r)-1,s=0;s<10;s++)a[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|a[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var G=_,Y=B;var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(e,t,r,n){for(var i,s,a,o,c,u,l,f,d,h,p,g,m,b,y,v,k,S,E,w,C,A,I,T,_,B,N=new Int32Array(16),R=new Int32Array(16),P=e[0],x=e[1],L=e[2],M=e[3],D=e[4],O=e[5],U=e[6],K=e[7],V=t[0],q=t[1],j=t[2],F=t[3],z=t[4],J=t[5],H=t[6],G=t[7],Y=0;n>=128;){for(E=0;E<16;E++)w=8*E+Y,N[E]=r[w+0]<<24|r[w+1]<<16|r[w+2]<<8|r[w+3],R[E]=r[w+4]<<24|r[w+5]<<16|r[w+6]<<8|r[w+7];for(E=0;E<80;E++)if(i=P,s=x,a=L,o=M,c=D,u=O,l=U,K,d=V,h=q,p=j,g=F,m=z,b=J,y=H,G,I=65535&(A=G),T=A>>>16,_=65535&(C=K),B=C>>>16,I+=65535&(A=(z>>>14|D<<18)^(z>>>18|D<<14)^(D>>>9|z<<23)),T+=A>>>16,_+=65535&(C=(D>>>14|z<<18)^(D>>>18|z<<14)^(z>>>9|D<<23)),B+=C>>>16,I+=65535&(A=z&J^~z&H),T+=A>>>16,_+=65535&(C=D&O^~D&U),B+=C>>>16,I+=65535&(A=Q[2*E+1]),T+=A>>>16,_+=65535&(C=Q[2*E]),B+=C>>>16,C=N[E%16],T+=(A=R[E%16])>>>16,_+=65535&C,B+=C>>>16,_+=(T+=(I+=65535&A)>>>16)>>>16,I=65535&(A=S=65535&I|T<<16),T=A>>>16,_=65535&(C=k=65535&_|(B+=_>>>16)<<16),B=C>>>16,I+=65535&(A=(V>>>28|P<<4)^(P>>>2|V<<30)^(P>>>7|V<<25)),T+=A>>>16,_+=65535&(C=(P>>>28|V<<4)^(V>>>2|P<<30)^(V>>>7|P<<25)),B+=C>>>16,T+=(A=V&q^V&j^q&j)>>>16,_+=65535&(C=P&x^P&L^x&L),B+=C>>>16,f=65535&(_+=(T+=(I+=65535&A)>>>16)>>>16)|(B+=_>>>16)<<16,v=65535&I|T<<16,I=65535&(A=g),T=A>>>16,_=65535&(C=o),B=C>>>16,T+=(A=S)>>>16,_+=65535&(C=k),B+=C>>>16,x=i,L=s,M=a,D=o=65535&(_+=(T+=(I+=65535&A)>>>16)>>>16)|(B+=_>>>16)<<16,O=c,U=u,K=l,P=f,q=d,j=h,F=p,z=g=65535&I|T<<16,J=m,H=b,G=y,V=v,E%16==15)for(w=0;w<16;w++)C=N[w],I=65535&(A=R[w]),T=A>>>16,_=65535&C,B=C>>>16,C=N[(w+9)%16],I+=65535&(A=R[(w+9)%16]),T+=A>>>16,_+=65535&C,B+=C>>>16,k=N[(w+1)%16],I+=65535&(A=((S=R[(w+1)%16])>>>1|k<<31)^(S>>>8|k<<24)^(S>>>7|k<<25)),T+=A>>>16,_+=65535&(C=(k>>>1|S<<31)^(k>>>8|S<<24)^k>>>7),B+=C>>>16,k=N[(w+14)%16],T+=(A=((S=R[(w+14)%16])>>>19|k<<13)^(k>>>29|S<<3)^(S>>>6|k<<26))>>>16,_+=65535&(C=(k>>>19|S<<13)^(S>>>29|k<<3)^k>>>6),B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,N[w]=65535&_|B<<16,R[w]=65535&I|T<<16;I=65535&(A=V),T=A>>>16,_=65535&(C=P),B=C>>>16,C=e[0],T+=(A=t[0])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[0]=P=65535&_|B<<16,t[0]=V=65535&I|T<<16,I=65535&(A=q),T=A>>>16,_=65535&(C=x),B=C>>>16,C=e[1],T+=(A=t[1])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[1]=x=65535&_|B<<16,t[1]=q=65535&I|T<<16,I=65535&(A=j),T=A>>>16,_=65535&(C=L),B=C>>>16,C=e[2],T+=(A=t[2])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[2]=L=65535&_|B<<16,t[2]=j=65535&I|T<<16,I=65535&(A=F),T=A>>>16,_=65535&(C=M),B=C>>>16,C=e[3],T+=(A=t[3])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[3]=M=65535&_|B<<16,t[3]=F=65535&I|T<<16,I=65535&(A=z),T=A>>>16,_=65535&(C=D),B=C>>>16,C=e[4],T+=(A=t[4])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[4]=D=65535&_|B<<16,t[4]=z=65535&I|T<<16,I=65535&(A=J),T=A>>>16,_=65535&(C=O),B=C>>>16,C=e[5],T+=(A=t[5])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[5]=O=65535&_|B<<16,t[5]=J=65535&I|T<<16,I=65535&(A=H),T=A>>>16,_=65535&(C=U),B=C>>>16,C=e[6],T+=(A=t[6])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[6]=U=65535&_|B<<16,t[6]=H=65535&I|T<<16,I=65535&(A=G),T=A>>>16,_=65535&(C=K),B=C>>>16,C=e[7],T+=(A=t[7])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[7]=K=65535&_|B<<16,t[7]=G=65535&I|T<<16,Y+=128,n-=128}return n}function Z(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),a=new Uint8Array(256),o=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,X(i,s,t,r),r%=128,n=0;n<r;n++)a[n]=t[o-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,p(a,r-8,o/536870912|0,o<<3),X(i,s,a,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function W(e,r){var n=t(),i=t(),s=t(),a=t(),o=t(),c=t(),u=t(),f=t(),d=t();U(n,e[1],e[0]),U(d,r[1],r[0]),K(n,n,d),O(i,e[0],e[1]),O(d,r[0],r[1]),K(i,i,d),K(s,e[3],r[3]),K(s,s,l),K(a,e[2],r[2]),O(a,a,a),U(o,i,n),U(c,a,s),O(u,a,s),O(f,i,n),K(e[0],o,c),K(e[1],f,u),K(e[2],u,c),K(e[3],o,f)}function $(e,t,r){var n;for(n=0;n<4;n++)P(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),s=t();q(s,r[2]),K(n,r[0],s),K(i,r[1],s),x(e,i),e[31]^=M(n)<<7}function te(e,t,r){var n,i;for(N(e[0],a),N(e[1],o),N(e[2],o),N(e[3],a),i=255;i>=0;--i)$(e,t,n=r[i/8|0]>>(7&i)&1),W(t,e),W(e,e),$(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];N(n[0],f),N(n[1],d),N(n[2],o),K(n[3],f,d),te(e,n,r)}function ne(e,r,i){var s,a=new Uint8Array(64),o=[t(),t(),t(),t()];for(i||n(r,32),Z(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,re(o,a),ee(e,o),s=0;s<32;s++)r[s+32]=e[s];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ae(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,r)}function oe(e,r,n,i){var s,a,o=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),f=[t(),t(),t(),t()];Z(o,i,32),o[0]&=248,o[31]&=127,o[31]|=64;var d=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=o[32+s];for(Z(u,e.subarray(32),n+32),ae(u),re(f,u),ee(e,f),s=32;s<64;s++)e[s]=i[s];for(Z(c,e,n+64),ae(c),s=0;s<64;s++)l[s]=0;for(s=0;s<32;s++)l[s]=u[s];for(s=0;s<32;s++)for(a=0;a<32;a++)l[s+a]+=c[s]*o[a];return se(e.subarray(32),l),d}function ce(e,r,n,i){var s,c=new Uint8Array(32),l=new Uint8Array(64),f=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),s=t(),c=t(),l=t(),f=t(),d=t();return N(e[2],o),D(e[1],r),V(s,e[1]),K(c,s,u),U(s,s,e[2]),O(c,e[2],c),V(l,c),V(f,l),K(d,f,l),K(n,d,s),K(n,n,c),j(n,n),K(n,n,s),K(n,n,c),K(n,n,c),K(e[0],n,c),V(i,e[0]),K(i,i,c),L(i,s)&&K(e[0],e[0],h),V(i,e[0]),K(i,i,c),L(i,s)?-1:(M(e[0])===r[31]>>7&&U(e[0],a,e[0]),K(e[3],e[0],e[1]),0)}(d,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(Z(l,e,n),ae(l),te(f,d,l),re(d,r.subarray(32)),W(f,d),ee(c,f),n-=64,b(r,0,c,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ue=16,le=64,fe=32,de=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:C,crypto_stream:w,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:E,crypto_onetimeauth:I,crypto_onetimeauth_verify:T,crypto_verify_16:m,crypto_verify_32:b,crypto_secretbox:_,crypto_secretbox_open:B,crypto_scalarmult:F,crypto_scalarmult_base:z,crypto_box_beforenm:H,crypto_box_afternm:G,crypto_box:function(e,t,r,n,i,s){var a=new Uint8Array(32);return H(a,i,s),G(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,i,s){var a=new Uint8Array(32);return H(a,i,s),Y(e,t,r,n,a)},crypto_box_keypair:J,crypto_hash:Z,crypto_sign:oe,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:fe,crypto_sign_SECRETKEYBYTES:de,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ie,pack25519:x,unpack25519:D,M:K,A:O,S:V,Z:U,pow2523:j,add:W,set25519:N,modL:se,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return _(i,n,n.length,t,r),i.subarray(ue)},e.secretbox.open=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(ue+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+ue]=e[s];return n.length<32||0!==B(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ue,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return F(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return z(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return H(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return J(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return oe(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==fe)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(le),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==fe)throw new Error("bad public key size");var n,i=new Uint8Array(le+e.length),s=new Uint8Array(le+e.length);for(n=0;n<le;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+le]=e[n];return ce(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(fe),t=new Uint8Array(de);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==de)throw new Error("bad secret key size");for(var t=new Uint8Array(fe),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(fe),r=new Uint8Array(de),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=fe,e.sign.secretKeyLength=de,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===g(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ge(i)}))}else(t=r(63906))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ge(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},68101:(e,t,r)=>{"use strict";e.exports={...r(26801)}},89731:e=>{"use strict";const t=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});e.exports={baseTable:t}},59133:(e,t,r)=>{"use strict";const n=r(76774),i=r(77633),s=r(62773),{nameToVarint:a,constantToCode:o,nameToCode:c,codeToName:u}=r(46842);function l(e){const t=n.decode(e),r=u[t];if(void 0===r)throw new Error(`Code "${t}" not found`);return r}function f(e){return u[e]}function d(e){const t=c[e];if(void 0===t)throw new Error(`Codec "${e}" not found`);return t}function h(e){return n.decode(e)}function p(e){const t=a[e];if(void 0===t)throw new Error(`Codec "${e}" not found`);return t}function g(e){return s.varintEncode(e)}e.exports={addPrefix:function(e,t){let r;if(e instanceof Uint8Array)r=s.varintUint8ArrayEncode(e);else{if(!a[e])throw new Error("multicodec not recognized");r=a[e]}return i([r,t],r.length+t.length)},rmPrefix:function(e){return n.decode(e),e.slice(n.decode.bytes)},getNameFromData:l,getNameFromCode:f,getCodeFromName:d,getCodeFromData:h,getVarintFromName:p,getVarintFromCode:g,getCodec:function(e){return l(e)},getName:function(e){return f(e)},getNumber:function(e){return d(e)},getCode:function(e){return h(e)},getCodeVarint:function(e){return p(e)},getVarint:function(e){return Array.from(g(e))},...o,nameToVarint:a,nameToCode:c,codeToName:u}},46842:(e,t,r)=>{"use strict";const{baseTable:n}=r(89731),i=r(62773).varintEncode,s={},a={},o={};for(const e in n){const t=e,r=n[t];s[t]=i(r);a[t.toUpperCase().replace(/-/g,"_")]=r,o[r]||(o[r]=t)}Object.freeze(s),Object.freeze(a),Object.freeze(o);const c=Object.freeze(n);e.exports={nameToVarint:s,constantToCode:a,nameToCode:c,codeToName:o}},62773:(e,t,r)=>{"use strict";const n=r(76774),i=r(73164),s=r(81304);function a(e){return parseInt(i(e,"base16"),16)}e.exports={numberToUint8Array:function(e){let t=e.toString(16);t.length%2==1&&(t="0"+t);return s(t,"base16")},uint8ArrayToNumber:a,varintUint8ArrayEncode:function(e){return Uint8Array.from(n.encode(a(e)))},varintEncode:function(e){return Uint8Array.from(n.encode(e))}}},77633:e=>{"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}},27709:e=>{"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}},81304:(e,t,r)=>{"use strict";const{encoding:n}=r(84874),{TextEncoder:i}=r(32773),s=new i;e.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?s.encode(e):"ascii"===t?function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e):n(t).decode(e)}},73164:(e,t,r)=>{"use strict";const{encoding:n}=r(84874),{TextDecoder:i}=r(32773),s=new i("utf8");e.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?s.decode(e):"ascii"===t?function(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}(e):n(t).encode(e)}},62323:e=>{e.exports=function e(t,r){var n,i=0,s=0,a=r=r||0,o=t.length;do{if(a>=o)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=a-r,i}},28527:e=>{e.exports=function e(r,n,i){n=n||[];var s=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-s+1,n};var t=Math.pow(2,31)},76774:(e,t,r)=>{e.exports={encode:r(28527),decode:r(62323),encodingLength:r(11460)}},11460:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),o=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<s?5:e<a?6:e<o?7:e<c?8:e<u?9:10}},13640:(e,t,r)=>{"use strict";const n=r(28928),i={checkCIDComponents:function(e){if(null==e)return"null values are not valid CIDs";if(0!==e.version&&1!==e.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof e.codec)return"codec must be string";if(0===e.version){if("dag-pb"!==e.codec)return"codec must be 'dag-pb' for CIDv0";if("base58btc"!==e.multibaseName)return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{n.validate(e.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};e.exports=i},25123:(e,t,r)=>{"use strict";const n=r(28928),i=r(84874),s=r(59133),a=r(13640),o=r(77633),c=r(73164),u=r(27709),l=s.nameToCode,f=Object.keys(l).reduce(((e,t)=>(e[l[t]]=t,e)),{}),d=Symbol.for("@ipld/js-cid/CID");class h{constructor(e,t,r,a){if(this.version,this.codec,this.multihash,Object.defineProperty(this,d,{value:!0}),h.isCID(e)){const t=e;return this.version=t.version,this.codec=t.codec,this.multihash=t.multihash,void(this.multibaseName=t.multibaseName||(0===t.version?"base58btc":"base32"))}if("string"==typeof e){const t=i.isEncoded(e);if(t){const r=i.decode(e);this.version=parseInt(r[0].toString(),16),this.codec=s.getCodec(r.slice(1)),this.multihash=s.rmPrefix(r.slice(1)),this.multibaseName=t}else this.version=0,this.codec="dag-pb",this.multihash=n.fromB58String(e),this.multibaseName="base58btc";return h.validateCID(this),void Object.defineProperty(this,"string",{value:e})}if(e instanceof Uint8Array){const t=parseInt(e[0].toString(),16);if(1===t){const r=e;this.version=t,this.codec=s.getCodec(r.slice(1)),this.multihash=s.rmPrefix(r.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";h.validateCID(this)}else this.version=e,"number"==typeof t&&(t=f[t]),this.codec=t,this.multihash=r,this.multibaseName=a||(0===e?"base58btc":"base32"),h.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(0===this.version)e=this.multihash;else{if(1!==this.version)throw new Error("unsupported version");{const t=s.getCodeVarint(this.codec);e=o([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=s.getCodeVarint(this.codec),t=n.prefix(this.multihash);return o([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return l[this.codec]}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=n.decode(this.multihash);if("sha2-256"!==e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(32!==t)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new h(0,this.codec,this.multihash)}toV1(){return new h(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&0!==this.string.length&&e===this.multibaseName)return this.string;let t;if(0===this.version){if("base58btc"!==e)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=n.toB58String(this.multihash)}else{if(1!==this.version)throw new Error("unsupported version");t=c(i.encode(e,this.bytes))}return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&u(this.multihash,e.multihash)}static validateCID(e){const t=a.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof h||Boolean(e&&e[d])}}h.codecs=l,e.exports=h},63090:(e,t,r)=>{"use strict";const{encodeText:n}=r(35072);e.exports=class{constructor(e,t,r,i){this.name=e,this.code=t,this.codeBuf=n(this.code),this.alphabet=i,this.codec=r(i)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}},27388:(e,t,r)=>{"use strict";const n=r(28820),i=r(63090),{rfc4648:s}=r(33483),{decodeText:a,encodeText:o}=r(35072),c=[["identity","\0",()=>({encode:a,decode:o}),""],["base2","0",s(1),"01"],["base8","7",s(3),"01234567"],["base10","9",n,"0123456789"],["base16","f",s(4),"0123456789abcdef"],["base16upper","F",s(4),"0123456789ABCDEF"],["base32hex","v",s(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",s(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",s(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",s(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",s(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",s(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",s(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",n,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",n,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",n,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",n,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",s(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new i(t[0],t[1],t[2],t[3]),e)),{}),l=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});e.exports={names:u,codes:l}},84874:(e,t,r)=>{"use strict";const n=r(27388),{encodeText:i,decodeText:s,concat:a}=r(35072);function o(e){if(Object.prototype.hasOwnProperty.call(n.names,e))return n.names[e];if(Object.prototype.hasOwnProperty.call(n.codes,e))return n.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:r,codeBuf:n}=o(e);return function(e,t){o(e).decode(s(t))}(r,t),a([n,t],n.length+t.length)}).encode=function(e,t){const r=o(e),n=i(r.encode(t));return a([r.codeBuf,n],r.codeBuf.length+n.length)},t.decode=function(e){e instanceof Uint8Array&&(e=s(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),o(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=s(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return o(e[0]).name}catch(e){return!1}},t.encoding=o,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=s(e)),o(e[0])};const c=Object.freeze(n.names),u=Object.freeze(n.codes);t.names=c,t.codes=u},33483:e=>{"use strict";e.exports={rfc4648:e=>t=>({encode:r=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s})(r,t,e),decode:r=>((e,t,r)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*r/8|0);let a=0,o=0,c=0;for(let t=0;t<i;++t){const i=n[e[t]];if(void 0===i)throw new SyntaxError("Invalid character "+e[t]);o=o<<r|i,a+=r,a>=8&&(a-=8,s[c++]=255&o>>a)}if(a>=r||255&o<<8-a)throw new SyntaxError("Unexpected end of data");return s})(r,t,e)})}},35072:(e,t,r)=>{"use strict";const{TextEncoder:n,TextDecoder:i}=r(32773),s=new i,a=new n;e.exports={decodeText:e=>s.decode(e),encodeText:e=>a.encode(e),concat:function(e,t){const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}}},13893:e=>{"use strict";const t=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});e.exports={baseTable:t}},70034:(e,t,r)=>{"use strict";const{baseTable:n}=r(13893),i={};for(const[e,t]of Object.entries(n)){i[e.toUpperCase().replace(/-/g,"_")]=t}e.exports=Object.freeze(i)},1353:(e,t,r)=>{"use strict";const n=r(31997),i=r(6981),s=r(82837),a=r(9939),o=r(86643);const c=r(70034),u=r(24534);e.exports={addPrefix:function(e,t){let r;if(e instanceof Uint8Array)r=a.varintUint8ArrayEncode(e);else{if(!s[e])throw new Error("multicodec not recognized");r=s[e]}return o([r,t],r.length+t.length)},rmPrefix:function(e){return n.decode(e),e.slice(n.decode.bytes)},getCodec:function(e){const t=n.decode(e),r=i.get(t);if(void 0===r)throw new Error(`Code ${t} not found`);return r},getName:function(e){return i.get(e)},getNumber:function(e){const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return n.decode(t)},getCode:function(e){return n.decode(e)},getCodeVarint:function(e){const t=s[e];if(void 0===t)throw new Error("Codec `"+e+"` not found");return t},getVarint:function(e){return n.encode(e)},print:u,...c}},6981:(e,t,r)=>{"use strict";const{baseTable:n}=r(13893),i=new Map;for(const e in n){const t=n[e];i.set(t,e)}e.exports=Object.freeze(i)},24534:(e,t,r)=>{"use strict";const{baseTable:n}=r(13893),i={};for(const[e,t]of Object.entries(n))void 0===i[t]&&(i[t]=e);e.exports=Object.freeze(i)},9939:(e,t,r)=>{"use strict";const n=r(31997),i=r(53071),s=r(87962);function a(e){return parseInt(i(e,"base16"),16)}e.exports={numberToUint8Array:function(e){let t=e.toString(16);t.length%2==1&&(t="0"+t);return s(t,"base16")},uint8ArrayToNumber:a,varintUint8ArrayEncode:function(e){return Uint8Array.from(n.encode(a(e)))},varintEncode:function(e){return Uint8Array.from(n.encode(e))}}},82837:(e,t,r)=>{"use strict";const{baseTable:n}=r(13893),i=r(9939).varintEncode,s={};for(const e in n){const t=n[e];s[e]=i(t)}e.exports=Object.freeze(s)},57774:e=>{"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}},82536:(e,t,r)=>{"use strict";const{encoding:n}=r(84874),{TextEncoder:i}=r(32773),s=new i;e.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?s.encode(e):"ascii"===t?function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e):n(t).decode(e)}},94232:(e,t,r)=>{"use strict";const{encoding:n}=r(84874),{TextDecoder:i}=r(32773),s=new i("utf8");e.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?s.decode(e):"ascii"===t?function(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}(e):n(t).encode(e)}},65272:e=>{e.exports=function e(t,r){var n,i=0,s=0,a=r=r||0,o=t.length;do{if(a>=o)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=a-r,i}},5154:e=>{e.exports=function e(r,n,i){n=n||[];var s=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-s+1,n};var t=Math.pow(2,31)},97127:(e,t,r)=>{e.exports={encode:r(5154),decode:r(65272),encodingLength:r(11198)}},11198:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),o=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<s?5:e<a?6:e<o?7:e<c?8:e<u?9:10}},9658:e=>{"use strict";const t=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:t}},28928:(e,t,r)=>{"use strict";const n=r(84874),i=r(97127),{names:s}=r(9658),a=r(94232),o=r(82536),c=r(57774),u={};for(const e in s){const t=e;u[s[t]]=t}function l(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const t=i.decode(e);if(!h(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(i.decode.bytes);const r=i.decode(e);if(r<0)throw new Error(`multihash invalid length: ${r}`);if((e=e.slice(i.decode.bytes)).length!==r)throw new Error(`multihash length inconsistent: 0x${a(e,"base16")}`);return{code:t,name:u[t],length:r,digest:e}}function f(e){let t=e;if("string"==typeof e){if(void 0===s[e])throw new Error(`Unrecognized hash function named: ${e}`);t=s[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(void 0===u[t]&&!d(t))throw new Error(`Unrecognized function code: ${t}`);return t}function d(e){return e>0&&e<16}function h(e){return!!d(e)||!!u[e]}function p(e){l(e)}Object.freeze(u),e.exports={names:s,codes:u,toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(e,"base16")},fromHexString:function(e){return o(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(n.encode("base58btc",e)).slice(1)},fromB58String:function(e){const t=e instanceof Uint8Array?a(e):e;return n.decode("z"+t)},decode:l,encode:function(e,t,r){if(!e||void 0===t)throw new Error("multihash encode requires at least two args: digest, code");const n=f(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==r&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");const s=i.encode(n),a=i.encode(r);return c([s,a,e],s.length+a.length+e.length)},coerceCode:f,isAppCode:d,validate:p,prefix:function(e){return p(e),e.subarray(0,2)},isValidCode:h}},54808:e=>{e.exports=function e(t,r){var n,i=0,s=0,a=r=r||0,o=t.length;do{if(a>=o||s>49)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=a-r,i}},17471:e=>{e.exports=function e(r,n,i){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");n=n||[];var s=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-s+1,n};var t=Math.pow(2,31)},31997:(e,t,r)=>{e.exports={encode:r(17471),decode:r(54808),encodingLength:r(21941)}},21941:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),o=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<s?5:e<a?6:e<o?7:e<c?8:e<u?9:10}},38600:e=>{"use strict";e.exports=JSON.parse('{"name":"libp2p","version":"0.30.10","description":"JavaScript implementation of libp2p, a modular peer to peer network stack","leadMaintainer":"Jacob Heun <jacobheun@gmail.com>","main":"src/index.js","types":"dist/src/index.d.ts","typesVersions":{"*":{"src/*":["dist/src/*","dist/src/*/index"]}},"files":["dist","src"],"scripts":{"lint":"aegir lint","build":"aegir build","test":"npm run test:node && npm run test:browser","test:node":"aegir test -t node -f \\"./test/**/*.{node,spec}.js\\"","test:browser":"aegir test -t browser","test:examples":"cd examples && npm run test:all","release":"aegir release -t node -t browser","release-minor":"aegir release --type minor -t node -t browser","release-major":"aegir release --type major -t node -t browser","coverage":"nyc --reporter=text --reporter=lcov npm run test:node"},"repository":{"type":"git","url":"https://github.com/libp2p/js-libp2p.git"},"keywords":["libp2p","network","p2p","peer","peer-to-peer","IPFS"],"bugs":{"url":"https://github.com/libp2p/js-libp2p/issues"},"homepage":"https://libp2p.io","license":"MIT","engines":{"node":">=12.0.0","npm":">=6.0.0"},"browser":{"@motrix/nat-api":false},"dependencies":{"@motrix/nat-api":"^0.3.1","abort-controller":"^3.0.0","aggregate-error":"^3.1.0","any-signal":"^2.1.1","bignumber.js":"^9.0.1","cids":"^1.1.5","class-is":"^1.1.0","debug":"^4.3.1","err-code":"^2.0.0","es6-promisify":"^6.1.1","events":"^3.2.0","hashlru":"^2.3.0","interface-datastore":"^3.0.3","ipfs-utils":"^6.0.0","it-all":"^1.0.4","it-buffer":"^0.1.2","it-drain":"^1.0.3","it-filter":"^1.0.1","it-first":"^1.0.4","it-handshake":"^1.0.2","it-length-prefixed":"^3.1.0","it-map":"^1.0.4","it-merge":"1.0.0","it-pipe":"^1.1.0","it-protocol-buffers":"^0.2.0","it-take":"1.0.0","libp2p-crypto":"^0.19.0","libp2p-interfaces":"^0.8.1","libp2p-utils":"^0.2.2","mafmt":"^8.0.0","merge-options":"^3.0.4","moving-average":"^1.0.0","multiaddr":"^8.1.0","multicodec":"^2.1.0","multihashing-async":"^2.0.1","multistream-select":"^1.0.0","mutable-proxy":"^1.0.0","node-forge":"^0.10.0","p-any":"^3.0.0","p-fifo":"^1.0.0","p-retry":"^4.2.0","p-settle":"^4.0.1","peer-id":"^0.14.2","private-ip":"^2.0.0","protons":"^2.0.0","retimer":"^2.0.0","sanitize-filename":"^1.6.3","set-delayed-interval":"^1.0.0","streaming-iterables":"^5.0.2","timeout-abort-controller":"^1.1.1","varint":"^6.0.0","xsalsa20":"^1.0.2"},"devDependencies":{"@nodeutils/defaults-deep":"^1.1.0","abortable-iterator":"^3.0.0","aegir":"^29.2.0","chai-bytes":"^0.1.2","chai-string":"^1.5.0","delay":"^4.4.0","interop-libp2p":"^0.3.0","into-stream":"^6.0.0","ipfs-http-client":"^48.2.2","it-concat":"^1.0.0","it-pair":"^1.0.0","it-pushable":"^1.4.0","libp2p":".","libp2p-bootstrap":"^0.12.0","libp2p-delegated-content-routing":"^0.9.0","libp2p-delegated-peer-routing":"^0.8.0","libp2p-floodsub":"^0.24.0","libp2p-gossipsub":"^0.8.0","libp2p-kad-dht":"^0.20.5","libp2p-mdns":"^0.15.0","libp2p-mplex":"^0.10.1","libp2p-noise":"^2.0.0","libp2p-secio":"^0.13.1","libp2p-tcp":"^0.15.1","libp2p-webrtc-star":"^0.20.0","libp2p-websockets":"^0.15.0","multihashes":"^3.0.1","nock":"^13.0.3","p-defer":"^3.0.0","p-times":"^3.0.0","p-wait-for":"^3.2.0","rimraf":"^3.0.2","sinon":"^9.2.4","uint8arrays":"^2.0.5"},"contributors":["David Dias <daviddias.p@gmail.com>","Jacob Heun <jacobheun@gmail.com>","Vasco Santos <vasco.santos@moxy.studio>","Alan Shaw <alan@tableflip.io>","Alex Potsides <alex@achingbrain.net>","Cayman <caymannava@gmail.com>","Pedro Teixeira <i@pgte.me>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Maciej Krüger <mkg20001@gmail.com>","Hugo Dias <mail@hugodias.me>","Volker Mische <volker.mische@gmail.com>","dirkmc <dirkmdev@gmail.com>","Richard Littauer <richard.littauer@gmail.com>","a1300 <matthias-knopp@gmx.net>","Elven <mon.samuel@qq.com>","Andrew Nesbitt <andrewnez@gmail.com>","ᴠɪᴄᴛᴏʀ ʙᴊᴇʟᴋʜᴏʟᴍ <victorbjelkholm@gmail.com>","Giovanni T. Parra <fiatjaf@gmail.com>","Ryan Bell <ryan@piing.net>","Thomas Eizinger <thomas@eizinger.io>","Samlior <samlior@foxmail.com>","Didrik Nordström <didrik@betamos.se>","Julien Bouquillon <contact@revolunet.com>","Kevin Kwok <antimatter15@gmail.com>","Kevin Lacker <lacker@gmail.com>","Miguel Mota <miguelmota2@gmail.com>","Nuno Nogueira <nunofmn@gmail.com>","Philipp Muens <raute1337@gmx.de>","RasmusErik Voel Jensen <github@solsort.com>","Smite Chow <xiaopengyou@live.com>","Soeren <nikorpoulsen@gmail.com>","Sönke Hahn <soenkehahn@gmail.com>","TJKoury <TJKoury@gmail.com>","Tiago Alves <alvesjtiago@gmail.com>","Daijiro Wachi <daijiro.wachi@gmail.com>","Cindy Wu <ciindy.wu@gmail.com>","Chris Bratlien <chrisbratlien@gmail.com>","Yusef Napora <yusef@napora.org>","Zane Starr <zcstarr@gmail.com>","Bernd Strehl <bernd.strehl@gmail.com>","ebinks <elizabethjbinks@gmail.com>","Ethan Lam <elmemphis2000@gmail.com>","isan_rivkin <isanrivkin@gmail.com>","robertkiel <robert.kiel@validitylabs.org>","Aleksei <vozhdb@gmail.com>","Fei Liu <liu.feiwood@gmail.com>","Felipe Martins <felipebrasil93@gmail.com>","Florian-Merle <florian.david.merle@gmail.com>","Francis Gulotta <wizard@roborooter.com>","Dmitriy Ryajov <dryajov@gmail.com>","Henrique Dias <hacdias@gmail.com>","Irakli Gozalishvili <rfobic@gmail.com>","Diogo Silva <fsdiogo@gmail.com>","Joel Gustafson <joelg@mit.edu>"]}')},14942:(e,t,r)=>{"use strict";const n=r(17187),i=r(46584),s=r(88785);e.exports=class extends n{constructor(e,{listen:t=[],announce:r=[]}={}){super(),this.peerId=e,this.listen=new Set(t.map((e=>e.toString()))),this.announce=new Set(r.map((e=>e.toString()))),this.observed=new Set}getListenAddrs(){return Array.from(this.listen).map((e=>i(e)))}getAnnounceAddrs(){return Array.from(this.announce).map((e=>i(e)))}getObservedAddrs(){return Array.from(this.observed).map((e=>i(e)))}addObservedAddr(e){let t=i(e);const r=t.getPeerId();if(r){s.createFromB58String(r).equals(this.peerId)&&(t=t.decapsulate(i(`/p2p/${this.peerId}`)))}const n=t.toString();this.observed.has(n)||(this.observed.add(n),this.emit("change:addresses"))}}},58126:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:auto-relay"),{error:n("libp2p:auto-relay:err")}),s=r(87962),a=r(53071),o=r(46584),c=r(88785),{relay:u}=r(49284),{canHop:l}=r(71466),{namespaceToCid:f}=r(32497),{CIRCUIT_PROTO_CODE:d,HOP_METADATA_KEY:h,HOP_METADATA_VALUE:p,RELAY_RENDEZVOUS_NS:g}=r(33053);e.exports=class{constructor({libp2p:e,maxListeners:t=1}){this._libp2p=e,this._peerId=e.peerId,this._peerStore=e.peerStore,this._connectionManager=e.connectionManager,this._transportManager=e.transportManager,this._addressSorter=e.dialer.addressSorter,this.maxListeners=t,this._listenRelays=new Set,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this),this._peerStore.on("change:protocols",this._onProtocolChange),this._connectionManager.on("peer:disconnect",this._onPeerDisconnected)}async _onProtocolChange({peerId:e,protocols:t}){const r=e.toB58String(),n=t.find((e=>e===u));if(n||!this._listenRelays.has(r)){if(n&&!this._listenRelays.has(r))try{const t=this._connectionManager.get(e);if(!t)return;if(t.remoteAddr.protoCodes().includes(d))return void i(`relayed connection to ${r} will not be used to hop on`);await l({connection:t})&&(this._peerStore.metadataBook.set(e,h,s(p)),await this._addListenRelay(t,r))}catch(e){i.error(e)}}else this._removeListenRelay(r)}_onPeerDisconnected(e){const t=e.remotePeer.toB58String();this._listenRelays.has(t)&&this._removeListenRelay(t)}async _addListenRelay(e,t){if(this._listenRelays.size>=this.maxListeners)return;const r=this._peerStore.addressBook.getMultiaddrsForPeer(e.remotePeer,this._addressSorter);if(!r||!r.length)return;const n=`${r[0].toString()}/p2p-circuit`;this._listenRelays.add(t);try{await this._transportManager.listen([o(n)])}catch(e){i.error(e),this._listenRelays.delete(t)}}_removeListenRelay(e){this._listenRelays.delete(e)&&this._listenOnAvailableHopRelays([e])}async _listenOnAvailableHopRelays(e=[]){if(this._listenRelays.size>=this.maxListeners)return;const t=[];for(const[r,n]of this._peerStore.metadataBook.data.entries()){if(this._listenRelays.has(r)||e.includes(r))continue;const i=n.get(h);if(!i||a(i)!==p)continue;const s=c.createFromCID(r),o=this._connectionManager.get(s);if(o){if(await this._addListenRelay(o,r),this._listenRelays.size>=this.maxListeners)return}else t.push(s)}for(const e of t){const t=await this._libp2p.dial(e);if(await this._addListenRelay(t,e.toB58String()),this._listenRelays.size>=this.maxListeners)return}try{const e=await f(g);for await(const t of this._libp2p.contentRouting.findProviders(e)){if(!t.multiaddrs.length)continue;const e=t.id;this._peerStore.addressBook.add(e,t.multiaddrs);const r=await this._libp2p.dial(e);if(await this._addListenRelay(r,e.toB58String()),this._listenRelays.size>=this.maxListeners)return}}catch(e){i.error(e)}}}},71466:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:circuit:hop"),{error:n("libp2p:circuit:hop:err")}),s=r(32114),a=r(88785),{validateAddrs:o}=r(44780),c=r(72866),{CircuitRelay:u}=r(79123),{pipe:l}=r(60618),{codes:f}=r(23416),{stop:d}=r(10655),h=r(49284);e.exports={handleHop:async function({connection:e,request:t,streamHandler:r,circuit:n}){if(!n._options.hop.enabled)return i("HOP request received but we are not acting as a relay"),r.end({type:u.Type.STATUS,code:u.Status.HOP_CANT_SPEAK_RELAY});try{o(t,r)}catch(t){return i.error("invalid hop request via peer %s",e.remotePeer.toB58String(),t)}const s=new a(t.dstPeer.id),c=n._connectionManager.get(s);if(!c&&!n._options.hop.active)return i("HOP request received but we are not connected to the destination peer"),r.end({type:u.Type.STATUS,code:u.Status.HOP_NO_CONN_TO_DST});if(!c)return;const f={type:u.Type.STOP,dstPeer:t.dstPeer,srcPeer:t.srcPeer};let h;try{h=await d({connection:c,request:f})}catch(e){return i.error(e)}i("hop request from %s is valid",e.remotePeer.toB58String()),r.write({type:u.Type.STATUS,code:u.Status.SUCCESS});const p=r.rest();return l(p,h,p)},hop:async function({connection:e,request:t}){const{stream:r}=await e.newStream([h.relay]),n=new c({stream:r});n.write(t);const a=await n.read();if(a.code===u.Status.SUCCESS)return i("hop request was successful"),n.rest();throw i("hop request failed with code %d, closing stream",a.code),n.close(),s(new Error(`HOP request failed with code ${a.code}`),f.ERR_HOP_REQUEST_FAILED)},canHop:async function({connection:e}){const{stream:t}=await e.newStream([h.relay]),r=new c({stream:t});r.write({type:u.Type.CAN_HOP});const n=await r.read();return await r.close(),n.code===u.Status.SUCCESS},handleCanHop:function({connection:e,streamHandler:t,circuit:r}){const n=r._options.hop.enabled;i("can hop (%s) request from %s",n,e.remotePeer.toB58String()),t.end({type:u.Type.STATUS,code:n?u.Status.SUCCESS:u.Status.HOP_CANT_SPEAK_RELAY})}}},10655:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:circuit:stop"),{error:n("libp2p:circuit:stop:err")}),{CircuitRelay:s}=r(79123),a=r(49284),o=r(72866),{validateAddrs:c}=r(44780);e.exports.handleStop=function({connection:e,request:t,streamHandler:r}){try{c(t,r)}catch(t){return i.error("invalid stop request via peer %s",e.remotePeer.toB58String(),t)}return i("stop request is valid"),r.write({type:s.Type.STATUS,code:s.Status.SUCCESS}),r.rest()},e.exports.stop=async function({connection:e,request:t}){const{stream:r}=await e.newStream([a.relay]);i("starting stop request to %s",e.remotePeer.toB58String());const n=new o({stream:r});n.write(t);const c=await n.read();if(c.code===s.Status.SUCCESS)return i("stop request to %s was successful",e.remotePeer.toB58String()),n.rest();i("stop request failed with code %d",c.code),n.close()}},72866:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:circuit:stream-handler"),{error:n("libp2p:circuit:stream-handler:err")}),s=r(48963),a=r(52261),{CircuitRelay:o}=r(79123);e.exports=class{constructor({stream:e,maxLength:t=4096}){this.stream=e,this.shake=a(this.stream),this.decoder=s.decode.fromReader(this.shake.reader,{maxDataLength:t})}async read(){const e=await this.decoder.next();if(e.value){const t=o.decode(e.value.slice());return i("read message type",t.type),t}i("read received no value, closing stream"),this.close()}write(e){i("write message type %s",e.type),this.shake.write(s.encode.single(o.encode(e)))}rest(){return this.shake.rest(),this.shake.stream}end(e){this.write(e),this.close()}close(){i("closing the stream"),this.rest().sink([])}}},44780:(e,t,r)=>{"use strict";const n=r(46584),{CircuitRelay:i}=r(79123);function s(e,t){e.write({type:i.Type.STATUS,code:t})}e.exports={validateAddrs:function(e,t){try{e.dstPeer.addrs.forEach((e=>n(e)))}catch(r){throw s(t,e.type===i.Type.HOP?i.Status.HOP_DST_MULTIADDR_INVALID:i.Status.STOP_DST_MULTIADDR_INVALID),r}try{e.srcPeer.addrs.forEach((e=>n(e)))}catch(r){throw s(t,e.type===i.Type.HOP?i.Status.HOP_SRC_MULTIADDR_INVALID:i.Status.STOP_SRC_MULTIADDR_INVALID),r}}}},33053:e=>{"use strict";e.exports={ADVERTISE_BOOT_DELAY:9e5,ADVERTISE_TTL:18e5,CIRCUIT_PROTO_CODE:290,HOP_METADATA_KEY:"hop_relay",HOP_METADATA_VALUE:"true",RELAY_RENDEZVOUS_NS:"/libp2p/relay"}},2715:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:relay"),{error:n("libp2p:relay:err")}),{setDelayedInterval:s,clearDelayedInterval:a}=r(27695),o=r(58126),{namespaceToCid:c}=r(32497),{ADVERTISE_BOOT_DELAY:u,ADVERTISE_TTL:l,RELAY_RENDEZVOUS_NS:f}=r(33053);e.exports=class{constructor(e){this._libp2p=e,this._options={advertise:{bootDelay:u,enabled:!0,ttl:l,...e._config.relay.advertise},...e._config.relay},this._autoRelay=this._options.autoRelay.enabled&&new o({libp2p:e,...this._options.autoRelay}),this._advertiseService=this._advertiseService.bind(this)}start(){this._options.hop.enabled&&this._options.advertise.enabled&&(this._timeout=s(this._advertiseService,this._options.advertise.ttl,this._options.advertise.bootDelay))}stop(){a(this._timeout)}async _advertiseService(){try{const e=await c(f);await this._libp2p.contentRouting.provide(e)}catch(e){"NO_ROUTERS_AVAILABLE"===e.code?(i.error("a content router, such as a DHT, must be provided in order to advertise the relay service",e),this.stop()):i.error(e)}}}},64538:(e,t,r)=>{"use strict";const{EventEmitter:n}=r(17187),i=r(46584);e.exports=e=>{const t=new Map;const r=Object.assign(new n,{close:()=>Promise.resolve(),listen:async function(n){const s=String(n).split("/p2p-circuit").find((e=>""!==e)),a=await e.dial(i(s)),o=a.remoteAddr.encapsulate("/p2p-circuit");t.set(a.remotePeer.toB58String(),o),r.emit("listening")},getAddrs:function(){const e=[];for(const r of t.values())e.push(r);return e}});return e.connectionManager.on("peer:disconnect",(e=>{t.delete(e.remotePeer.toB58String())&&r.emit("close")})),r}},49284:e=>{"use strict";e.exports={relay:"/libp2p/circuit/relay/0.1.0"}},79123:(e,t,r)=>{"use strict";const n=r(57160);e.exports=n("\nmessage CircuitRelay {\n\n  enum Status {\n    SUCCESS                    = 100;\n    HOP_SRC_ADDR_TOO_LONG      = 220;\n    HOP_DST_ADDR_TOO_LONG      = 221;\n    HOP_SRC_MULTIADDR_INVALID  = 250;\n    HOP_DST_MULTIADDR_INVALID  = 251;\n    HOP_NO_CONN_TO_DST         = 260;\n    HOP_CANT_DIAL_DST          = 261;\n    HOP_CANT_OPEN_DST_STREAM   = 262;\n    HOP_CANT_SPEAK_RELAY       = 270;\n    HOP_CANT_RELAY_TO_SELF     = 280;\n    STOP_SRC_ADDR_TOO_LONG     = 320;\n    STOP_DST_ADDR_TOO_LONG     = 321;\n    STOP_SRC_MULTIADDR_INVALID = 350;\n    STOP_DST_MULTIADDR_INVALID = 351;\n    STOP_RELAY_REFUSED         = 390;\n    MALFORMED_MESSAGE          = 400;\n  }\n\n  enum Type { // RPC identifier, either HOP, STOP or STATUS\n    HOP = 1;\n    STOP = 2;\n    STATUS = 3;\n    CAN_HOP = 4;\n  }\n\n  message Peer {\n    required bytes id = 1;    // peer id\n    repeated bytes addrs = 2; // peer's known addresses\n  }\n\n  optional Type type = 1;     // Type of the message\n\n  optional Peer srcPeer = 2;  // srcPeer and dstPeer are used when Type is HOP or STATUS\n  optional Peer dstPeer = 3;\n\n  optional Status code = 4;   // Status code, used when Type is STATUS\n}\n")},91491:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:circuit"),{error:n("libp2p:circuit:err")}),s=r(29175),a=r(46584),o=r(88785),{CircuitRelay:c}=r(79123),u=r(15091),{relay:l}=r(49284),f=r(64538),{handleCanHop:d,handleHop:h,hop:p}=r(71466),{handleStop:g}=r(10655),m=r(72866),b=Symbol.for("@libp2p/js-libp2p-circuit/circuit");class y{constructor({libp2p:e,upgrader:t}){this._dialer=e.dialer,this._registrar=e.registrar,this._connectionManager=e.connectionManager,this._upgrader=t,this._options=e._config.relay,this._libp2p=e,this.peerId=e.peerId,this._registrar.handle(l,this._onProtocol.bind(this))}async _onProtocol({connection:e,stream:t}){const r=new m({stream:t}),n=await r.read();if(!n)return;const s=this;let o;switch(n.type){case c.Type.CAN_HOP:i("received CAN_HOP request from %s",e.remotePeer.toB58String()),await d({circuit:s,connection:e,streamHandler:r});break;case c.Type.HOP:i("received HOP request from %s",e.remotePeer.toB58String()),o=await h({connection:e,request:n,streamHandler:r,circuit:s});break;case c.Type.STOP:i("received STOP request from %s",e.remotePeer.toB58String()),o=await g({connection:e,request:n,streamHandler:r});break;default:i("Request of type %s not supported",n.type)}if(o){const e=a(n.dstPeer.addrs[0]),t=a(n.srcPeer.addrs[0]),r=u({stream:o,remoteAddr:e,localAddr:t}),s=n.type===c.Type.HOP?"relay":"inbound";i("new %s connection %s",s,r.remoteAddr);const l=await this._upgrader.upgradeInbound(r);i("%s connection %s upgraded",s,r.remoteAddr),this.handler&&this.handler(l)}}async dial(e,t){const r=e.toString().split("/p2p-circuit"),n=a(r[0]),s=a(r[r.length-1]),l=o.createFromCID(n.getPeerId()),f=o.createFromCID(s.getPeerId());let d=!1,h=this._connectionManager.get(l);h||(h=await this._dialer.connectToPeer(n,t),d=!0);try{const t=await p({connection:h,request:{type:c.Type.HOP,srcPeer:{id:this.peerId.toBytes(),addrs:this._libp2p.multiaddrs.map((e=>e.bytes))},dstPeer:{id:f.toBytes(),addrs:[a(s).bytes]}}}),r=n.encapsulate(`/p2p-circuit/p2p/${this.peerId.toB58String()}`),o=u({stream:t,remoteAddr:e,localAddr:r});return i("new outbound connection %s",o.remoteAddr),this._upgrader.upgradeOutbound(o)}catch(e){throw i.error("Circuit relay dial failed",e),d&&await h.close(),e}}createListener(e,t){return"function"==typeof e&&(t=e,e={}),this.handler=t,f(this._libp2p)}filter(e){return(e=Array.isArray(e)?e:[e]).filter((e=>s.Circuit.matches(e)))}get[Symbol.toStringTag](){return"Circuit"}static isTransport(e){return Boolean(e&&e[b])}}e.exports=y},32497:(e,t,r)=>{"use strict";const n=r(25123),i=r(93107),s=r(42577);e.exports.namespaceToCid=async e=>{const t=(new s).encode(e),r=await i(t,"sha2-256");return new n(r)}},36195:(e,t,r)=>{"use strict";const n=r(70942),{dnsaddrResolver:i}=r(39004),s=r(3524),{AGENT_VERSION:a}=r(78508),o=r(33053),{publicAddressesFirst:c}=r(53737),{FaultTolerance:u}=r(6984),l={addresses:{listen:[],announce:[],noAnnounce:[]},connectionManager:{minConnections:25},transportManager:{faultTolerance:u.FATAL_ALL},dialer:{maxParallelDials:s.MAX_PARALLEL_DIALS,maxDialsPerPeer:s.MAX_PER_PEER_DIALS,dialTimeout:s.DIAL_TIMEOUT,resolvers:{dnsaddr:i},addressSorter:c},host:{agentVersion:a},metrics:{enabled:!1},peerStore:{persistence:!1,threshold:5},peerRouting:{refreshManager:{enabled:!0,interval:6e5,bootDelay:1e4}},config:{dht:{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}},nat:{enabled:!0,ttl:7200,keepAlive:!0,gateway:null,externalIp:null,pmp:{enabled:!1}},peerDiscovery:{autoDial:!0},pubsub:{enabled:!0},relay:{enabled:!0,advertise:{bootDelay:o.ADVERTISE_BOOT_DELAY,enabled:!1,ttl:o.ADVERTISE_TTL},hop:{enabled:!1,active:!1},autoRelay:{enabled:!1,maxListeners:2}},transport:{}}};e.exports.validate=e=>{if((e=n(l,e)).modules.transport.length<1)throw new Error("'options.modules.transport' must contain at least 1 transport");return e}},7376:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:connection-manager"),{error:n("libp2p:connection-manager:err")}),s=r(32114),a=r(70942),o=r(84593),c=r(82916),u=r(17187),l=r(88785),{codes:{ERR_INVALID_PARAMETERS:f}}=r(23416),d={maxConnections:1/0,minConnections:0,maxData:1/0,maxSentData:1/0,maxReceivedData:1/0,maxEventLoopDelay:1/0,pollInterval:2e3,autoDialInterval:1e4,movingAverageInterval:6e4,defaultPeerValue:1};function h(e,t){return e[1]-t[1]}e.exports=class extends u{constructor(e,t={}){if(super(),this._libp2p=e,this._peerId=e.peerId.toB58String(),this._options=a.call({ignoreUndefined:!0},d,t),this._options.maxConnections<this._options.minConnections)throw s(new Error("Connection Manager maxConnections must be greater than minConnections"),f);i("options: %j",this._options),this._peerValues=new Map,this.connections=new Map,this._started=!1,this._timer=null,this._autoDialTimeout=null,this._checkMetrics=this._checkMetrics.bind(this),this._autoDial=this._autoDial.bind(this)}get size(){return Array.from(this.connections.values()).reduce(((e,t)=>e+t.length),0)}start(){this._libp2p.metrics&&(this._timer=this._timer||c(this._checkMetrics,this._options.pollInterval)),this._latencyMonitor=new o({latencyCheckIntervalMs:this._options.pollInterval,dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure),this._started=!0,i("started"),this._options.autoDial&&this._autoDial()}async stop(){this._autoDialTimeout&&this._autoDialTimeout.clear(),this._timer&&this._timer.clear(),this._latencyMonitor&&this._latencyMonitor.removeListener("data",this._onLatencyMeasure),this._started=!1,await this._close(),i("stopped")}async _close(){const e=[];for(const t of this.connections.values())for(const r of t)e.push(r.close());await Promise.all(e),this.connections.clear()}setPeerValue(e,t){if(t<0||t>1)throw new Error("value should be a number between 0 and 1");this._peerValues.set(e.toB58String(),t)}_checkMetrics(){if(this._libp2p.metrics){const e=this._libp2p.metrics.global.movingAverages,t=e.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxReceivedData",t);const r=e.dataSent[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxSentData",r);const n=t+r;this._checkMaxLimit("maxData",n),i("metrics update",n),this._timer=c(this._checkMetrics,this._options.pollInterval)}}onConnect(e){const t=e.remotePeer,r=t.toB58String(),n=this.connections.get(r);this.emit("peer:connect",e),n?n.push(e):this.connections.set(r,[e]),this._libp2p.peerStore.keyBook.set(t,t.pubKey),this._peerValues.has(r)||this._peerValues.set(r,this._options.defaultPeerValue),this._checkMaxLimit("maxConnections",this.size)}onDisconnect(e){const t=e.remotePeer.toB58String();let r=this.connections.get(t);r&&r.length>1?(r=r.filter((t=>t.id!==e.id)),this.connections.set(t,r)):r&&(this.connections.delete(t),this._peerValues.delete(e.remotePeer.toB58String()),this.emit("peer:disconnect",e))}get(e){const t=this.getAll(e);return t.length?t[0]:null}getAll(e){if(!l.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),f);const t=e.toB58String(),r=this.connections.get(t);return r?r.filter((e=>"open"===e.stat.status)):[]}_onLatencyMeasure(e){this._checkMaxLimit("maxEventLoopDelay",e.avgMs)}_checkMaxLimit(e,t){const r=this._options[e];i("checking limit of %s. current value: %d of %d",e,t,r),t>r&&(i("%s: limit exceeded: %s, %d",this._peerId,e,t),this._maybeDisconnectOne())}async _autoDial(){const e=this._options.minConnections;if(this.size>=e)return void(this._autoDialTimeout=c(this._autoDial,this._options.autoDialInterval));const t=Array.from(this._libp2p.peerStore.peers.values()).sort(((e,t)=>!t.protocols||!t.protocols.length||e.protocols&&e.protocols.length?t.id.pubKey&&!e.id.pubKey?1:-1:1));for(let r=0;r<t.length&&this.size<e;r++)if(!this.get(t[r].id)){i("connecting to a peerStore stored peer %s",t[r].id.toB58String());try{if(await this._libp2p.dialer.connectToPeer(t[r].id),!this._started)return}catch(e){i.error("could not connect to peerStore stored peer",e)}}this._autoDialTimeout=c(this._autoDial,this._options.autoDialInterval)}_maybeDisconnectOne(){if(this._options.minConnections<this.connections.size){const e=Array.from(this._peerValues).sort(h);i("%s: sorted peer values: %j",this._peerId,e);const t=e[0];if(t){const e=t[0];i("%s: lowest value peer is %s",this._peerId,e),i("%s: closing a connection to %j",this._peerId,e);for(const t of this.connections.values())if(t[0].remotePeer.toB58String()===e){t[0].close();break}}}}}},84593:(e,t,r)=>{"use strict";const n=r(17187),i=r(7527),s=r(11227)("latency-monitor:LatencyMonitor");e.exports=class extends n{constructor({latencyCheckIntervalMs:e,dataEmitIntervalMs:t,asyncTestFn:r,latencyRandomPercentage:n}={}){super();const a=this;a.latencyCheckIntervalMs=e||500,a.latencyRandomPercentage=n||10,a._latecyCheckMultiply=a.latencyRandomPercentage/100*2*a.latencyCheckIntervalMs,a._latecyCheckSubtract=a._latecyCheckMultiply/2,a.dataEmitIntervalMs=null===t||0===t?void 0:t||5e3,s("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",a.latencyCheckIntervalMs,a.dataEmitIntervalMs),a.dataEmitIntervalMs?s("Expecting ~%s events per summary",a.latencyCheckIntervalMs/a.dataEmitIntervalMs):s("Not emitting summaries"),a.asyncTestFn=r,globalThis.process&&globalThis.process.hrtime?(s("Using process.hrtime for timing"),a.now=globalThis.process.hrtime,a.getDeltaMS=e=>{const t=a.now(e);return 1e3*t[0]+t[1]/1e6}):"undefined"!=typeof window&&window.performance&&window.performance.now?(s("Using performance.now for timing"),a.now=window.performance.now.bind(window.performance),a.getDeltaMS=e=>Math.round(a.now()-e)):(s("Using Date.now for timing"),a.now=Date.now,a.getDeltaMS=e=>a.now()-e),a._latencyData=a._initLatencyData(),"undefined"!=typeof window&&(a._visibilityChangeEmitter=new i,a._visibilityChangeEmitter.on("visibilityChange",(e=>{e?a._startTimers():(a._emitSummary(),a._stopTimers())}))),a._visibilityChangeEmitter&&!a._visibilityChangeEmitter.isVisible()||a._startTimers()}_startTimers(){this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval((()=>this._emitSummary()),this.dataEmitIntervalMs),"function"==typeof this._emitIntervalID.unref&&this._emitIntervalID.unref()))}_stopTimers(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}_emitSummary(){const e=this.getSummary();e.events>0&&this.emit("data",e)}getSummary(){const e={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),s("Summary: %O",e),e}_checkLatency(){const e=this,t=Math.random()*e._latecyCheckMultiply-e._latecyCheckSubtract,r={deltaOffset:Math.ceil(e.latencyCheckIntervalMs+t),startTime:e.now()},n=()=>{if(!this._checkLatencyID)return;const t=e.getDeltaMS(r.startTime)-r.deltaOffset;e._checkLatency(),e._latencyData.events++,e._latencyData.minMs=Math.min(e._latencyData.minMs,t),e._latencyData.maxMs=Math.max(e._latencyData.maxMs,t),e._latencyData.totalMs+=t,s("MS: %s Data: %O",t,e._latencyData)};s("localData: %O",r),this._checkLatencyID=setTimeout((()=>{e.asyncTestFn?(r.deltaOffset=0,r.startTime=e.now(),e.asyncTestFn(n)):(r.deltaOffset-=1,n())}),r.deltaOffset),"function"==typeof this._checkLatencyID.unref&&this._checkLatencyID.unref()}_initLatencyData(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}},7527:(e,t,r)=>{"use strict";const n=r(17187),i=r(11227)("latency-monitor:VisibilityChangeEmitter");e.exports=class extends n{constructor(){super(),"undefined"!=typeof document?(this._initializeVisibilityVarNames(),this._addVisibilityChangeListener()):i('This is not a browser, no "document" found. Stopping.')}_initializeVisibilityVarNames(){let e,t;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),this._hidden=e,this._visibilityChange=t}_addVisibilityChangeListener(){void 0===document.addEventListener||void 0===document[this._hidden]?i("Checking page visibility requires a browser that supports the Page Visibility API."):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}isVisible(){if(void 0!==this._hidden&&void 0!==document[this._hidden])return!document[this._hidden]}_handleVisibilityChange(){const e=!document[this._hidden];i(e?"Page Visible":"Page Hidden"),this.emit("visibilityChange",e)}}},3524:e=>{"use strict";e.exports={DIAL_TIMEOUT:3e4,MAX_PARALLEL_DIALS:100,MAX_PER_PEER_DIALS:4,METRICS:{computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[6e4,3e5,9e5],maxOldPeersRetention:50}}},57197:(e,t,r)=>{"use strict";const n=r(32114),{messages:i,codes:s}=r(23416),{storeAddresses:a,uniquePeers:o,requirePeers:c,maybeLimitSource:u}=r(63952),l=r(74014),{pipe:f}=r(60618);e.exports=class{constructor(e){this.libp2p=e,this.routers=e._modules.contentRouting||[],this.dht=e._dht,this.dht&&e._config.dht.enabled&&this.routers.push(this.dht)}async*findProviders(e,t={}){if(!this.routers.length)throw n(new Error("No content this.routers available"),"NO_ROUTERS_AVAILABLE");yield*f(l(...this.routers.map((r=>r.findProviders(e,t)))),(e=>a(e,this.libp2p.peerStore)),(e=>o(e)),(e=>u(e,t.maxNumProviders)),(e=>c(e)))}async provide(e){if(!this.routers.length)throw n(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE");await Promise.all(this.routers.map((t=>t.provide(e))))}put(e,t,r){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw n(new Error(i.NOT_STARTED_YET),s.DHT_NOT_STARTED);return this.dht.put(e,t,r)}get(e,t){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw n(new Error(i.NOT_STARTED_YET),s.DHT_NOT_STARTED);return this.dht.get(e,t)}async getMany(e,t,r){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw n(new Error(i.NOT_STARTED_YET),s.DHT_NOT_STARTED);return this.dht.getMany(e,t,r)}}},63952:(e,t,r)=>{"use strict";const n=r(32114),i=r(55565),s=r(32121),a=r(37939);e.exports={storeAddresses:function(e,t){return s(e,(e=>(t.addressBook.add(e.id,e.multiaddrs),e)))},uniquePeers:function(e){const t=new Set;return i(e,(e=>!t.has(e.id.toString())&&(t.add(e.id.toString()),!0)))},requirePeers:async function*(e,t=1){let r=0;for await(const t of e)r++,yield t;if(r<t)throw n(new Error("not found"),"NOT_FOUND")},maybeLimitSource:function(e,t){return t?a(e,t):e}}},65639:(e,t,r)=>{"use strict";const n=r(32114),i=r(28599).default,{anySignal:s}=r(32044),a=r(35103),o=r(61750);e.exports=class{constructor({addrs:e,dialAction:t,dialer:r}){this.addrs=e,this.dialer=r,this.dialAction=t}async run(e={}){const t=this.dialer.getTokens(this.addrs.length);if(t.length<1)throw n(new Error("No dial tokens available"),"ERR_NO_DIAL_TOKENS");const r=new a;t.forEach((e=>r.push(e)));const c=this.addrs.map((()=>new i));let u=0;try{return await o(this.addrs.map((async(n,i)=>{const a=await r.shift();let o;try{const l=c[i].signal;o=await this.dialAction(n,{...e,signal:e.signal?s([l,e.signal]):l}),c.splice(i,1)}finally{u++,this.addrs.length-u>=t.length?r.push(a):this.dialer.releaseToken(t.splice(t.indexOf(a),1)[0])}return o})))}finally{c.map((e=>e.abort())),t.forEach((e=>this.dialer.releaseToken(e)))}}}},63849:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:dialer"),{error:n("libp2p:dialer:err")}),s=r(32114),a=r(46584),o=r(10715),{anySignal:c}=r(32044),u=r(65639),{publicAddressesFirst:l}=r(53737),f=r(43079),{codes:d}=r(23416),{DIAL_TIMEOUT:h,MAX_PARALLEL_DIALS:p,MAX_PER_PEER_DIALS:g}=r(3524);e.exports=class{constructor({transportManager:e,peerStore:t,addressSorter:r=l,concurrency:n=p,timeout:i=h,perPeerLimit:s=g,resolvers:o={}}){this.transportManager=e,this.peerStore=t,this.addressSorter=r,this.concurrency=n,this.timeout=i,this.perPeerLimit=s,this.tokens=[...new Array(n)].map(((e,t)=>t)),this._pendingDials=new Map;for(const[e,t]of Object.entries(o))a.resolvers.set(e,t)}destroy(){for(const e of this._pendingDials.values())try{e.controller.abort()}catch(e){i.error(e)}this._pendingDials.clear()}async connectToPeer(e,t={}){const r=await this._createDialTarget(e);if(!r.addrs.length)throw s(new Error("The dial request has no addresses"),d.ERR_NO_VALID_ADDRESSES);const n=this._pendingDials.get(r.id)||this._createPendingDial(r,t);try{const e=await n.promise;return i("dial succeeded to %s",r.id),e}catch(e){throw n.controller.signal.aborted&&(e.code=d.ERR_TIMEOUT),i.error(e),e}finally{n.destroy()}}async _createDialTarget(e){const{id:t,multiaddrs:r}=f(e);r&&this.peerStore.addressBook.add(t,r);let n=this.peerStore.addressBook.getMultiaddrsForPeer(t,this.addressSorter)||[];a.isMultiaddr(e)&&(n=n.filter((t=>!e.equals(t))),n.unshift(e));const i=[];for(const e of n){(await this._resolve(e)).forEach((e=>i.push(e)))}return{id:t.toB58String(),addrs:i}}_createPendingDial(e,t={}){const r=new u({addrs:e.addrs,dialAction:(e,t)=>{if(t.signal.aborted)throw s(new Error("already aborted"),d.ERR_ALREADY_ABORTED);return this.transportManager.dial(e,t)},dialer:this}),n=new o(this.timeout),i=[n.signal];t.signal&&i.push(t.signal);const a=c(i),l={dialRequest:r,controller:n,promise:r.run({...t,signal:a}),destroy:()=>{n.clear(),this._pendingDials.delete(e.id)}};return this._pendingDials.set(e.id,l),l}getTokens(e){const t=Math.min(e,this.perPeerLimit,this.tokens.length),r=this.tokens.splice(0,t);return i("%d tokens request, returning %d, %d remaining",e,t,this.tokens.length),r}releaseToken(e){this.tokens.indexOf(e)>-1||(i("token %d released",e),this.tokens.push(e))}async _resolve(e){if(!e.protoNames().includes("dnsaddr"))return[e];const t=await this._resolveRecord(e);return(await Promise.all(t.map((e=>this._resolve(e))))).flat().reduce(((e,t)=>(e.find((e=>e.equals(t)))||e.push(t),e)),[])}async _resolveRecord(e){try{e=a(e.toString());return await e.resolve()}catch(t){return i.error(`multiaddr ${e} could not be resolved`),[]}}}},23416:(e,t)=>{"use strict";t.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"},t.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}},43079:(e,t,r)=>{"use strict";const n=r(88785),i=r(46584),s=r(32114),{codes:a}=r(23416);e.exports=function(e){let t;if("string"==typeof e&&(e=i(e)),i.isMultiaddr(e)){t=e;try{e=n.createFromB58String(e.getPeerId())}catch(t){throw s(new Error(`${e} is not a valid peer type`),a.ERR_INVALID_MULTIADDR)}}return{id:e,multiaddrs:t?[t]:void 0}}},78508:(e,t,r)=>{"use strict";const n=r(38600).version;e.exports.PROTOCOL_VERSION="ipfs/0.1.0",e.exports.AGENT_VERSION=`js-libp2p/${n}`,e.exports.MULTICODEC_IDENTIFY="/ipfs/id/1.0.0",e.exports.MULTICODEC_IDENTIFY_PUSH="/ipfs/id/push/1.0.0"},26078:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:identify"),{error:n("libp2p:identify:err")}),s=r(32114),a=r(80030),o=r(48963),{pipe:c}=r(60618),{collect:u,take:l,consume:f}=r(38386),d=r(87962),h=r(88785),p=r(46584),{toBuffer:g}=r(96653),m=r(29966),b=r(31244),y=r(61131),{MULTICODEC_IDENTIFY:v,MULTICODEC_IDENTIFY_PUSH:k,AGENT_VERSION:S,PROTOCOL_VERSION:E}=r(78508),{codes:w}=r(23416);class C{constructor({libp2p:e}){this._libp2p=e,this.peerStore=e.peerStore,this.addressManager=e.addressManager,this.connectionManager=e.connectionManager,this.peerId=e.peerId,this.handleMessage=this.handleMessage.bind(this),this._host={agentVersion:S,protocolVersion:E,...e._options.host},this.peerStore.metadataBook.set(this.peerId,"AgentVersion",d(this._host.agentVersion)),this.peerStore.metadataBook.set(this.peerId,"ProtocolVersion",d(this._host.protocolVersion)),this.connectionManager.on("peer:connect",(e=>{this.identify(e).catch(i.error)})),this.peerStore.on("change:multiaddrs",(({peerId:e})=>{e.toString()===this.peerId.toString()&&this.pushToPeerStore()})),this.peerStore.on("change:protocols",(({peerId:e})=>{e.toString()===this.peerId.toString()&&this.pushToPeerStore()}))}async push(e){const t=await this.peerStore.addressBook.getRawEnvelope(this.peerId),r=this._libp2p.multiaddrs.map((e=>e.bytes)),n=this.peerStore.protoBook.get(this.peerId)||[],s=e.map((async e=>{try{const{stream:i}=await e.newStream(k);await c([{listenAddrs:r,signedPeerRecord:t,protocols:n}],a.encode(m),i,f)}catch(e){i.error("could not push identify update to peer",e)}}));return Promise.all(s)}pushToPeerStore(){if(!this._libp2p.isStarted())return;const e=[];let t;for(const r of this.peerStore.peers.values())r.protocols.includes(k)&&(t=this.connectionManager.get(r.id))&&e.push(t);this.push(e)}async identify(e){const{stream:t}=await e.newStream(v),[r]=await c([],t,o.decode(),l(1),g,u);if(!r)throw s(new Error("No data could be retrieved"),w.ERR_CONNECTION_ENDED);let n;try{n=m.decode(r)}catch(e){throw s(e,w.ERR_INVALID_MESSAGE)}let{publicKey:a,listenAddrs:f,protocols:k,observedAddr:S,signedPeerRecord:E}=n;const A=await h.createFromPubKey(a);if(e.remotePeer.toB58String()!==A.toB58String())throw s(new Error("identified peer does not match the expected peer"),w.ERR_INVALID_PEER);S=C.getCleanMultiaddr(S);try{const e=await b.openAndCertify(E,y.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(e))return void this.peerStore.protoBook.set(A,k)}catch(e){i("received invalid envelope, discard it and fallback to listenAddrs is available",e)}try{this.peerStore.addressBook.set(A,f.map((e=>p(e))))}catch(e){i.error("received invalid addrs",e)}this.peerStore.protoBook.set(A,k),this.peerStore.metadataBook.set(A,"AgentVersion",d(n.agentVersion)),i("received observed address of %s",S)}handleMessage({connection:e,stream:t,protocol:r}){switch(r){case v:return this._handleIdentify({connection:e,stream:t});case k:return this._handlePush({connection:e,stream:t});default:i.error("cannot handle unknown protocol %s",r)}}async _handleIdentify({connection:e,stream:t}){let r=new Uint8Array(0);this.peerId.pubKey&&(r=this.peerId.pubKey.bytes);const n=await this.peerStore.addressBook.getRawEnvelope(this.peerId),s=this.peerStore.protoBook.get(this.peerId)||[],a=m.encode({protocolVersion:this._host.protocolVersion,agentVersion:this._host.agentVersion,publicKey:r,listenAddrs:this._libp2p.multiaddrs.map((e=>e.bytes)),signedPeerRecord:n,observedAddr:e.remoteAddr.bytes,protocols:s});try{await c([a],o.encode(),t,f)}catch(e){i.error("could not respond to identify request",e)}}async _handlePush({connection:e,stream:t}){let r;try{const[e]=await c([],t,o.decode(),l(1),g,u);r=m.decode(e)}catch(e){return i.error("received invalid message",e)}const n=e.remotePeer;try{const e=await b.openAndCertify(r.signedPeerRecord,y.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(e))return void this.peerStore.protoBook.set(n,r.protocols)}catch(e){i("received invalid envelope, discard it and fallback to listenAddrs is available",e)}try{this.peerStore.addressBook.set(n,r.listenAddrs.map((e=>p(e))))}catch(e){i.error("received invalid addrs",e)}this.peerStore.protoBook.set(n,r.protocols)}static getCleanMultiaddr(e){if(e&&e.length>0)try{return p(e)}catch(e){return null}return null}}const A={IDENTIFY:v,IDENTIFY_PUSH:k};C.multicodecs=A,C.Messsage=m,e.exports=C},29966:(e,t,r)=>{"use strict";const n=r(57160);e.exports=n("\nmessage Identify {\n  // protocolVersion determines compatibility between peers\n  optional string protocolVersion = 5; // e.g. ipfs/1.0.0\n\n  // agentVersion is like a UserAgent string in browsers, or client version in bittorrent\n  // includes the client name and client.\n  optional string agentVersion = 6; // e.g. go-ipfs/0.1.0\n\n  // publicKey is this node's public key (which also gives its node.ID)\n  // - may not need to be sent, as secure channel implies it has been sent.\n  // - then again, if we change / disable secure channel, may still want it.\n  optional bytes publicKey = 1;\n\n  // listenAddrs are the multiaddrs the sender node listens for open connections on\n  repeated bytes listenAddrs = 2;\n\n  // oservedAddr is the multiaddr of the remote endpoint that the sender node perceives\n  // this is useful information to convey to the other side, as it helps the remote endpoint\n  // determine whether its connection to the local peer goes through NAT.\n  optional bytes observedAddr = 4;\n\n  repeated string protocols = 3;\n\n  // signedPeerRecord contains a serialized SignedEnvelope containing a PeerRecord,\n  // signed by the sending node. It contains the same addresses as the listenAddrs field, but\n  // in a form that lets us share authenticated addrs with other peers.\n  optional bytes signedPeerRecord = 8;\n}\n").Identify},51613:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p"),{error:n("libp2p:err")}),s=r(17187),a=r(32114),o=r(88785),c=r(46584),u=r(51203),l=r(57197),f=r(43079),{validate:d}=r(36195),{codes:h,messages:p}=r(23416),g=r(14942),m=r(7376),b=r(91491),y=r(2715),v=r(63849),k=r(40298),S=r(31175),E=r(6984),w=r(21003),C=r(4323),A=r(65993),I=r(78112),T=r(28861),_=r(75466),B=r(26078),N=B.multicodecs,R=r(64205),{updateSelfPeerRecord:P}=r(1001);class x extends s{static async create(e){if(e.peerId)return new x(e);const t=await o.create();return e.peerId=t,new x(e)}constructor(e){if(super(),this._options=d(e),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this.peerStore=this.datastore&&this._options.peerStore.persistence?new I({peerId:this.peerId,datastore:this.datastore,...this._options.peerStore}):new C({peerId:this.peerId}),this.addresses=this._options.addresses,this.addressManager=new g(this.peerId,this._options.addresses),this.addressManager.on("change:addresses",(()=>{P(this).catch((e=>{i.error("Error updating self peer record",e)}))})),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this._options.connectionManager.minPeers&&(this._options.connectionManager.minConnections=this._options.connectionManager.minPeers),this.connectionManager=new m(this,{autoDial:this._config.peerDiscovery.autoDial,...this._options.connectionManager}),this._options.metrics.enabled&&(this.metrics=new S({...this._options.metrics,connectionManager:this.connectionManager})),this._options.keychain&&this._options.keychain.datastore){i("creating keychain");const e=k.generateOptions();this.keychain=new k(this._options.keychain.datastore,{passPhrase:this._options.keychain.pass,...e,...this._options.keychain}),i("keychain constructed")}if(this.upgrader=new w({localPeer:this.peerId,metrics:this.metrics,onConnection:e=>this.connectionManager.onConnect(e),onConnectionEnd:e=>this.connectionManager.onDisconnect(e)}),this.transportManager=new E({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.natManager=new R({peerId:this.peerId,addressManager:this.addressManager,transportManager:this.transportManager,...this._options.config.nat}),this.registrar=new T({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw a(new Error(p.CONN_ENCRYPTION_REQUIRED),h.CONN_ENCRYPTION_REQUIRED);if(this._modules.connEncryption.forEach((e=>{this.upgrader.cryptos.set(e.protocol,e)})),this.dialer=new v({transportManager:this.transportManager,peerStore:this.peerStore,concurrency:this._options.dialer.maxParallelDials,perPeerLimit:this._options.dialer.maxDialsPerPeer,timeout:this._options.dialer.dialTimeout,resolvers:this._options.dialer.resolvers,addressSorter:this._options.dialer.addressSorter}),this._modules.transport.forEach((e=>{const t=e.prototype[Symbol.toStringTag],r=this._config.transport[t];this.transportManager.add(t,e,r)})),this._config.relay.enabled&&(this.transportManager.add(b.prototype[Symbol.toStringTag],b),this.relay=new y(this)),this._modules.streamMuxer){this._modules.streamMuxer.forEach((e=>{this.upgrader.muxers.set(e.multicodec,e)})),this.identifyService=new B({libp2p:this}),this.handle(Object.values(N),this.identifyService.handleMessage)}if(this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(void 0!==globalThis.process&&globalThis.process.env&&globalThis.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){const e=this._modules.dht;this._dht=new e({libp2p:this,dialer:this.dialer,peerId:this.peerId,peerStore:this.peerStore,registrar:this.registrar,datastore:this.datastore,...this._config.dht})}if(this._modules.pubsub){const e=this._modules.pubsub;this.pubsub=A(e,this,this._config.pubsub)}this.peerRouting=new u(this),this.contentRouting=new l(this),_.mount(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this)}emit(e,...t){return"error"!==e||this._events.error?super.emit(e,...t):(i.error(t),!1)}async start(){i("libp2p is starting");try{await this._onStarting(),await this._onDidStart(),i("libp2p has started")}catch(e){throw this.emit("error",e),i.error("An error occurred starting libp2p",e),await this.stop(),e}}async stop(){i("libp2p is stopping");try{this._isStarted=!1,this.relay&&this.relay.stop(),this.peerRouting.stop();for(const e of this._discovery.values())e.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),(e=>e.stop()))),this._discovery=new Map,await this.peerStore.stop(),await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this._dht&&this._dht.stop(),this.metrics&&this.metrics.stop()]),await this.natManager.stop(),await this.transportManager.close(),_.unmount(this),this.dialer.destroy()}catch(e){e&&(i.error(e),this.emit("error",e))}i("libp2p has stopped")}async loadKeychain(){if(this.keychain)try{await this.keychain.findKeyByName("self")}catch(e){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(e,t){return this.dialProtocol(e,[],t)}async dialProtocol(e,t,r){const{id:n,multiaddrs:i}=f(e);if(n.equals(this.peerId))throw a(new Error("Cannot dial self"),h.ERR_DIALED_SELF);let s=this.connectionManager.get(n);return s?i&&this.peerStore.addressBook.add(n,i):s=await this.dialer.connectToPeer(e,r),t&&t.length?s.newStream(t):s}get multiaddrs(){let e=this.addressManager.getAnnounceAddrs().map((e=>e.toString()));e.length||(e=this.transportManager.getAddrs().map((e=>e.toString()))),e=e.concat(this.addressManager.getObservedAddrs().map((e=>e.toString())));const t=this._options.addresses.announceFilter||(e=>e),r=new Set(e);return t(Array.from(r).map((e=>c(e))))}async hangUp(e){const{id:t}=f(e),r=this.connectionManager.connections.get(t.toB58String());r&&await Promise.all(r.map((e=>e.close())))}ping(e){const{id:t,multiaddrs:r}=f(e);return _(this,r?r[0]:t)}handle(e,t){(e=Array.isArray(e)?e:[e]).forEach((e=>{this.upgrader.protocols.set(e,t)})),this.peerStore.protoBook.add(this.peerId,e)}unhandle(e){(e=Array.isArray(e)?e:[e]).forEach((e=>{this.upgrader.protocols.delete(e)})),this.peerStore.protoBook.remove(this.peerId,e)}async _onStarting(){const e=this.addressManager.getListenAddrs();await this.transportManager.listen(e),this.natManager.start(),await this.peerStore.start(),this._config.pubsub.enabled&&this.pubsub&&this.pubsub.start(),this._config.dht.enabled&&(this._dht&&this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",(e=>{this.emit("peer:discovery",e),this._maybeConnect(e)}));for(const e of this.peerStore.peers.values())this.emit("peer:discovery",e.id);this.connectionManager.start(),await this._setupPeerDiscovery(),this.relay&&this.relay.start(),this.peerRouting.start()}_onDiscoveryPeer(e){e.id.toB58String()!==this.peerId.toB58String()?(e.multiaddrs&&this.peerStore.addressBook.add(e.id,e.multiaddrs),e.protocols&&this.peerStore.protoBook.set(e.id,e.protocols)):i.error(new Error(h.ERR_DISCOVERED_SELF))}async _maybeConnect(e){if(!0===this._config.peerDiscovery.autoDial&&!this.connectionManager.get(e)){if((this._options.connectionManager.minConnections||0)>this.connectionManager.size){i("connecting to discovered peer %s",e.toB58String());try{await this.dialer.connectToPeer(e)}catch(e){i.error("could not connect to discovered peer",e)}}}}async _setupPeerDiscovery(){const e=e=>{let t={enabled:!0};if(e.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[e.tag]&&(t={...t,...this._config.peerDiscovery[e.tag]}),t.enabled&&!this._discovery.has(e.tag)){let r;r="function"==typeof e?new e(Object.assign({},t,{peerId:this.peerId,libp2p:this})):e,r.on("peer",this._onDiscoveryPeer),this._discovery.set(e.tag,r)}};for(const t of this._modules.peerDiscovery||[])e(t);for(const t of this.transportManager.getTransports())t.discovery&&e(t.discovery);await Promise.all(Array.from(this._discovery.values(),(e=>e.start())))}}e.exports=x},89138:(e,t,r)=>{"use strict";r(79437),r(97450);const n=r(3832),{certificateForKey:i,findAsync:s}=r(48913),a=r(32114),o=r(87962),c=r(53071),u=new WeakMap;e.exports=class{constructor(e,t){if(!e)throw a(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=e,u.set(this,{dek:t})}async encrypt(e,t){if(!(t instanceof Uint8Array))throw a(new Error("Plain data must be a Uint8Array"),"ERR_INVALID_PARAMS");const r=await this.keychain.findKeyByName(e),s=await this.keychain._getPrivateKey(e),c=u.get(this).dek,l=n.pki.decryptRsaPrivateKey(s,c),f=await i(r,l),d=n.pkcs7.createEnvelopedData();d.addRecipient(f),d.content=n.util.createBuffer(t),d.encrypt();const h=n.asn1.toDer(d.toAsn1()).getBytes();return o(h,"ascii")}async decrypt(e){if(!(e instanceof Uint8Array))throw a(new Error("CMS data is required"),"ERR_INVALID_PARAMS");let t;try{const r=n.util.createBuffer(c(e,"ascii")),i=n.asn1.fromDer(r);t=n.pkcs7.messageFromAsn1(i)}catch(e){throw a(new Error("Invalid CMS: "+e.message),"ERR_INVALID_CMS")}const r=t.recipients.filter((e=>e.issuer.find((e=>"O"===e.shortName&&"ipfs"===e.value)))).filter((e=>e.issuer.find((e=>"CN"===e.shortName)))).map((e=>({recipient:e,keyId:e.issuer.find((e=>"CN"===e.shortName)).value}))),i=await s(r,(async e=>{try{if(await this.keychain.findKeyById(e.keyId))return!0}catch(e){return!1}return!1}));if(!i){const e=r.map((e=>e.keyId));throw a(new Error("Decryption needs one of the key(s): "+e.join(", ")),"ERR_MISSING_KEYS",{missingKeys:e})}const l=await this.keychain.findKeyById(i.keyId);if(!l)throw a(new Error("No key available to decrypto"),"ERR_NO_KEY");const f=await this.keychain._getPrivateKey(l.name),d=u.get(this).dek,h=n.pki.decryptRsaPrivateKey(f,d);return t.decrypt(i.recipient,h),o(t.content.getBytes(),"ascii")}}},40298:(e,t,r)=>{"use strict";const n=r(50202),i=r(70942),s=r(82204),{Key:a}=r(62885),o=r(89138),c=r(32114),u=r(53071),l=r(87962);r(63219);const f="/info/",d=new WeakMap,h=14,p=16,g=1e3,m={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function b(e){return!!e&&("string"==typeof e&&e===n(e.trim()))}async function y(e){const t=800*Math.random()+200;throw await new Promise((e=>setTimeout(e,t))),e}function v(e){return new a("/pkcs8/"+e)}function k(e){return new a(f+e)}e.exports=class{constructor(e,t){if(!e)throw new Error("store is required");if(this.store=e,this.opts=i(m,t),this.opts.passPhrase&&this.opts.passPhrase.length<20)throw new Error("passPhrase must be least 20 characters");if(this.opts.dek.keyLength<h)throw new Error(`dek.keyLength must be least ${h} bytes`);if(this.opts.dek.salt.length<p)throw new Error(`dek.saltLength must be least ${p} bytes`);if(this.opts.dek.iterationCount<g)throw new Error(`dek.iterationCount must be least ${g}`);const r=this.opts.passPhrase?s.pbkdf2(this.opts.passPhrase,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";d.set(this,{dek:r})}get cms(){return new o(this,d.get(this).dek)}static generateOptions(){const e=Object.assign({},m),t=3*Math.ceil(p/3);return e.dek.salt=u(s.randomBytes(t),"base64"),e}static get options(){return m}async createKey(e,t,r=2048){const n=this;if(!b(e)||"self"===e)return y(c(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if("string"!=typeof t)return y(c(new Error(`Invalid key type '${t}'`),"ERR_INVALID_KEY_TYPE"));const i=v(e);if(await n.store.has(i))return y(c(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));switch(t.toLowerCase()){case"rsa":if(!Number.isSafeInteger(r)||r<2048)return y(c(new Error(`Invalid RSA key size ${r}`),"ERR_INVALID_KEY_SIZE"))}let a;try{const o=await s.keys.generateKeyPair(t,r),c=await o.id(),u=d.get(this).dek,f=await o.export(u);a={name:e,id:c};const h=n.store.batch();h.put(i,l(f)),h.put(k(e),l(JSON.stringify(a))),await h.commit()}catch(e){return y(e)}return a}async listKeys(){const e=this,t={prefix:f},r=[];for await(const n of e.store.query(t))r.push(JSON.parse(u(n.value)));return r}async findKeyById(e){try{return(await this.listKeys()).find((t=>t.id===e))}catch(e){return y(e)}}async findKeyByName(e){if(!b(e))return y(c(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));const t=k(e);try{const e=await this.store.get(t);return JSON.parse(u(e))}catch(t){return y(c(new Error(`Key '${e}' does not exist. ${t.message}`),"ERR_KEY_NOT_FOUND"))}}async removeKey(e){if(!b(e)||"self"===e)return y(c(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));const t=v(e),r=await this.findKeyByName(e),n=this.store.batch();return n.delete(t),n.delete(k(e)),await n.commit(),r}async renameKey(e,t){const r=this;if(!b(e)||"self"===e)return y(c(new Error(`Invalid old key name '${e}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!b(t)||"self"===t)return y(c(new Error(`Invalid new key name '${t}'`),"ERR_NEW_KEY_NAME_INVALID"));const n=v(e),i=v(t),s=k(e),a=k(t);if(await r.store.has(i))return y(c(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const e=await r.store.get(n),o=await r.store.get(s),c=JSON.parse(u(o));c.name=t;const f=r.store.batch();return f.put(i,e),f.put(a,l(JSON.stringify(c))),f.delete(n),f.delete(s),await f.commit(),c}catch(e){return y(e)}}async exportKey(e,t){if(!b(e))return y(c(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return y(c(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));const r=v(e);try{const e=await this.store.get(r),n=u(e),i=d.get(this).dek;return(await s.keys.import(n,i)).export(t)}catch(e){return y(e)}}async importKey(e,t,r){if(!b(e)||"self"===e)return y(c(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return y(c(new Error("PEM encoded key is required"),"ERR_PEM_REQUIRED"));const n=v(e);if(await this.store.has(n))return y(c(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));let i,a;try{i=await s.keys.import(t,r)}catch(e){return y(c(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"))}try{a=await i.id();const e=d.get(this).dek;t=await i.export(e)}catch(e){return y(e)}const o={name:e,id:a},u=this.store.batch();return u.put(n,l(t)),u.put(k(e),l(JSON.stringify(o))),await u.commit(),o}async importPeer(e,t){const r=this;if(!b(e))return y(c(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t||!t.privKey)return y(c(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));const n=t.privKey,i=v(e);if(await r.store.has(i))return y(c(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const t=await n.id(),s=d.get(this).dek,a=await n.export(s),o={name:e,id:t},c=r.store.batch();return c.put(i,l(a)),c.put(k(e),l(JSON.stringify(o))),await c.commit(),o}catch(e){return y(e)}}async _getPrivateKey(e){if(!b(e))return y(c(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));try{const t=v(e),r=await this.store.get(t);return u(r)}catch(t){return y(c(new Error(`Key '${e}' does not exist. ${t.message}`),"ERR_KEY_NOT_FOUND"))}}}},48913:(e,t,r)=>{"use strict";r(25414);const n=r(3832).pki;e.exports.certificateForKey=(e,t)=>{const r=n.setRsaPublicKey(t.n,t.e),i=n.createCertificate();i.publicKey=r,i.serialNumber="01",i.validity.notBefore=new Date,i.validity.notAfter=new Date,i.validity.notAfter.setFullYear(i.validity.notBefore.getFullYear()+10);const s=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:e.id}];return i.setSubject(s),i.setIssuer(s),i.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),i.sign(t),i},e.exports.findAsync=async function(e,t){const r=e.map(t);return e[(await Promise.all(r)).findIndex((e=>e))]}},31175:(e,t,r)=>{"use strict";const n=r(70942),{pipe:i}=r(60618),{tap:s}=r(38386),a=r(87787),{METRICS:o}=r(3524),c=r(61094),u=["dataReceived","dataSent"],l={in:"dataReceived",out:"dataSent"};class f{constructor(e){this._options=n(o,e),this._globalStats=new c(u,this._options),this._peerStats=new Map,this._protocolStats=new Map,this._oldPeers=a(this._options.maxOldPeersRetention),this._running=!1,this._onMessage=this._onMessage.bind(this),this._connectionManager=e.connectionManager,this._connectionManager.on("peer:disconnect",(e=>{this.onPeerDisconnected(e.remotePeer)}))}start(){this._running=!0}stop(){this._running=!1,this._globalStats.stop();for(const e of this._peerStats.values())e.stop();for(const e of this._protocolStats.values())e.stop()}get global(){return this._globalStats}get peers(){return Array.from(this._peerStats.keys())}forPeer(e){const t=e.toB58String();return this._peerStats.get(t)||this._oldPeers.get(t)}get protocols(){return Array.from(this._protocolStats.keys())}forProtocol(e){return this._protocolStats.get(e)}onPeerDisconnected(e){const t=e.toB58String(),r=this._peerStats.get(t);r&&(r.stop(),this._peerStats.delete(t),this._oldPeers.set(t,r))}_onMessage({remotePeer:e,protocol:t,direction:r,dataLength:n}){if(!this._running)return;const i=l[r];let s=this.forPeer(e);if(s||(s=new c(u,this._options),this._peerStats.set(e.toB58String(),s)),s.push(i,n),this._globalStats.push(i,n),t){let e=this.forProtocol(t);e||(e=new c(u,this._options),this._protocolStats.set(t,e)),e.push(i,n)}}updatePlaceholder(e,t){if(!this._running)return;const r=this.forPeer(e),n=t.toB58String(),i=this.forPeer(t);let s=r;i&&(s=f.mergeStats(i,s),this._oldPeers.delete(n)),this._peerStats.delete(e.toB58String()),this._peerStats.set(n,s),s.start()}trackStream({stream:e,remotePeer:t,protocol:r}){const n=this,a=e.source;e.source=s((e=>n._onMessage({remotePeer:t,protocol:r,direction:"in",dataLength:e.length})))(a);const o=e.sink;return e.sink=e=>i(e,s((e=>n._onMessage({remotePeer:t,protocol:r,direction:"out",dataLength:e.length}))),o),e}static mergeStats(e,t){return e.stop(),t.stop(),e._queue=[...e._queue,...t._queue],e}}e.exports=f},87787:(e,t,r)=>{"use strict";const n=r(70248);e.exports=e=>{const t=n(e);return t.delete=t.remove,t}},61094:(e,t,r)=>{"use strict";const n=r(17187),i=r(44431),s=r(41017),a=r(82916);e.exports=class extends n{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);const r=this._options.movingAverageIntervals;for(var n=0;n<e.length;n++){var a=e[n];this._stats[a]=i(0),this._movingAverages[a]={};for(var o=0;o<r.length;o++){var c=r[o];(this._movingAverages[a][c]=s(c)).push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}toJSON(){const e=this.snapshot,t=this.movingAverages,r={dataReceived:e.dataReceived.toString(),dataSent:e.dataSent.toString(),movingAverages:{}},n=Object.keys(t);for(const e of n){r.movingAverages[e]={};for(const n of Object.keys(t[e]))r.movingAverages[e][n]=t[e][n].movingAverage()}return r}push(e,t){this._queue.push([e,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout=a(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(e of this._queue)this._applyOp(e);this._queue=[],this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;Object.keys(this._stats).forEach((r=>{this._updateFrequencyFor(r,t,e)})),this._frequencyLastTime=e}_updateFrequencyFor(e,t,r){const n=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const i=n/(t||1)*1e3;let a=this._movingAverages[e];a||(a=this._movingAverages[e]={});const o=this._options.movingAverageIntervals;for(var c=0;c<o.length;c++){var u=o[c],l=a[u];l||(l=a[u]=s(u)),l.push(r,i)}}_applyOp(e){const t=e[0],r=e[1];if("number"!=typeof r)throw new Error(`invalid increment number: ${r}`);let n;n=Object.prototype.hasOwnProperty.call(this._stats,t)?this._stats[t]:this._stats[t]=i(0),this._stats[t]=n.plus(r),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=r}}},64205:(e,t,r)=>{"use strict";const n=r(13600),i=r(11227),s=r(76021),a=r(46584),o=Object.assign(i("libp2p:nat"),{error:i("libp2p:nat:err")}),{isBrowser:c}=r(106),u=r(42693),l=r(290),f=r(38600),d=r(32114),{codes:{ERR_INVALID_PARAMETERS:h}}=r(23416),p=r(23830);function g(e=1024,t=65535){return Math.floor(Math.random()*(t-e+1)+e)}const m=7200;e.exports=class{constructor({peerId:e,addressManager:t,transportManager:r,...n}){if(this._peerId=e,this._addressManager=t,this._transportManager=r,this._enabled=n.enabled,this._externalIp=n.externalIp,this._options={description:n.description||`${f.name}@${f.version} ${this._peerId}`,ttl:n.ttl||m,autoUpdate:n.keepAlive||!0,gateway:n.gateway,enablePMP:Boolean(n.pmp&&n.pmp.enabled)},this._options.ttl<m)throw d(new Error("NatManager ttl should be at least 7200 seconds"),h)}start(){!c&&this._enabled&&this._start().catch((e=>{o.error(e)}))}async _start(){const e=this._transportManager.getAddrs();for(const t of e){const{family:e,host:r,port:n,transport:i}=t.toOptions();if(!t.isThinWaistAddress()||"tcp"!==i)continue;if(p(t))continue;if("ipv4"!==e)continue;const s=this._getClient(),c=this._externalIp||await s.externalIp();if(l(c))throw new Error(`${c} is private - please set config.nat.externalIp to an externally routable IP or ensure you are not behind a double NAT`);const u=g();o(`opening uPnP connection from ${c}:${u} to ${r}:${n}`),await s.map({publicPort:u,privatePort:n,protocol:i.toUpperCase()}),this._addressManager.addObservedAddr(a.fromNodeAddress({family:"IPv4",address:c,port:`${u}`},i))}}_getClient(){if(this._client)return this._client;const e=new n(this._options),t=s(e.map,{context:e}),r=s(e.destroy,{context:e}),i=s(e.externalIp,{context:e});return this._client={map:(...e)=>u((()=>t(...e)),{onFailedAttempt:o.error,unref:!0}),destroy:(...e)=>u((()=>r(...e)),{onFailedAttempt:o.error,unref:!0}),externalIp:(...e)=>u((()=>i(...e)),{onFailedAttempt:o.error,unref:!0})},this._client}async stop(){if(!c&&this._client)try{await this._client.destroy(),this._client=null}catch(e){o.error(e)}}}},51203:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:peer-routing"),{error:n("libp2p:peer-routing:err")}),s=r(32114),{storeAddresses:a,uniquePeers:o,requirePeers:c}=r(63952),u=r(74014),{pipe:l}=r(60618),f=r(72262),d=r(64593),h=r(55565),{setDelayedInterval:p,clearDelayedInterval:g}=r(27695);r(88785);e.exports=class{constructor(e){this._peerId=e.peerId,this._peerStore=e.peerStore,this._routers=e._modules.peerRouting||[],e._dht&&e._config.dht.enabled&&this._routers.push(e._dht),this._refreshManagerOptions=e._options.peerRouting.refreshManager,this._findClosestPeersTask=this._findClosestPeersTask.bind(this)}start(){this._routers.length&&!this._timeoutId&&this._refreshManagerOptions.enabled&&(this._timeoutId=p(this._findClosestPeersTask,this._refreshManagerOptions.interval,this._refreshManagerOptions.bootDelay))}async _findClosestPeersTask(){try{await d(this.getClosestPeers(this._peerId.id))}catch(e){i.error(e)}}stop(){g(this._timeoutId)}async findPeer(e,t){if(!this._routers.length)throw s(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");const r=await l(u(...this._routers.map((r=>[r.findPeer(e,t)]))),(e=>h(e,Boolean)),(e=>a(e,this._peerStore)),(e=>f(e)));if(r)return r;throw s(new Error("not found"),"NOT_FOUND")}async*getClosestPeers(e,t={timeout:3e4}){if(!this._routers.length)throw s(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");yield*l(u(...this._routers.map((r=>r.getClosestPeers(e,t)))),(e=>a(e,this._peerStore)),(e=>o(e)),(e=>c(e)))}}},3721:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:peer-store:address-book"),{error:n("libp2p:peer-store:address-book:err")}),s=r(32114),a=r(46584),o=r(88785),c=r(94903),u=r(61131),{codes:{ERR_INVALID_PARAMETERS:l}}=r(23416),f=r(31244);e.exports=class extends c{constructor(e){super({peerStore:e,eventName:"change:multiaddrs",eventProperty:"multiaddrs",eventTransformer:e=>e.addresses?e.addresses.map((e=>e.multiaddr)):[]}),this.data=new Map}consumePeerRecord(e){let t;try{t=u.createFromProtobuf(e.payload)}catch(e){return i.error("invalid peer record received"),!1}if(!t.peerId.equals(e.peerId))return i("signing key does not match PeerId in the PeerRecord"),!1;if(!t.multiaddrs||!t.multiaddrs.length)return!1;const r=t.peerId,n=r.toB58String(),s=(this.data.get(n)||{record:void 0}).record;if(s&&s.seqNumber>=t.seqNumber)return!1;const a=this._toAddresses(t.multiaddrs,!0);return this._setData(r,{addresses:a,record:{raw:e.marshal(),seqNumber:t.seqNumber}}),i(`stored provided peer record for ${n}`),!0}getRawEnvelope(e){const t=this.data.get(e.toB58String());if(t&&t.record&&t.record.raw)return t.record.raw}getPeerRecord(e){const t=this.getRawEnvelope(e);if(t)return f.createFromProtobuf(t)}set(e,t){if(!o.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),l);const r=this._toAddresses(t);if(!r.length)return this;const n=e.toB58String(),a=this.data.get(n);if(a&&a.addresses&&a.addresses.length===r.length){if(a.addresses.filter((e=>r.some((t=>e.multiaddr.equals(t.multiaddr))))).length===a.addresses.length)return i(`the addresses provided to store are equal to the already stored for ${n}`),this}return this._setData(e,{addresses:r,record:a&&a.record}),i(`stored provided multiaddrs for ${n}`),a||this._ps.emit("peer",e),this}add(e,t){if(!o.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),l);const r=this._toAddresses(t),n=e.toB58String(),a=this.data.get(n);return a&&a.addresses&&(a.addresses.forEach((e=>{r.find((t=>t.multiaddr.equals(e.multiaddr)))||r.push(e)})),a.addresses.length===r.length)?(i(`the addresses provided to store are already stored for ${n}`),this):(this._setData(e,{addresses:r,record:a&&a.record}),i(`added provided multiaddrs for ${n}`),a&&a.addresses||this._ps.emit("peer",e),this)}get(e){if(!o.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),l);const t=this.data.get(e.toB58String());return t&&t.addresses?[...t.addresses]:void 0}_toAddresses(e,t=!1){if(!e)throw i.error("multiaddrs must be provided to store data"),s(new Error("multiaddrs must be provided"),l);const r=[];return e.forEach((e=>{if(!a.isMultiaddr(e))throw i.error(`multiaddr ${e} must be an instance of multiaddr`),s(new Error(`multiaddr ${e} must be an instance of multiaddr`),l);r.push({multiaddr:e,isCertified:t})})),r}getMultiaddrsForPeer(e,t=(e=>e)){if(!o.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),l);const r=this.data.get(e.toB58String());if(r&&r.addresses)return t(r.addresses||[]).map((t=>{const r=t.multiaddr,n=r.getPeerId();return n&&n===e.toB58String()?r:r.encapsulate(`/p2p/${e.toB58String()}`)}))}}},94903:(e,t,r)=>{"use strict";const n=r(32114),i=r(88785),{codes:{ERR_INVALID_PARAMETERS:s}}=r(23416),a=e=>e;e.exports=class{constructor({peerStore:e,eventName:t,eventProperty:r,eventTransformer:n=a}){this._ps=e,this.eventName=t,this.eventProperty=r,this.eventTransformer=n,this.data=new Map}set(e,t){throw n(new Error("set must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}_setData(e,t,{emit:r=!0}={}){const n=e.toB58String();this.data.set(n,t),r&&this._emit(e,t)}_emit(e,t){this._ps.emit(this.eventName,{peerId:e,[this.eventProperty]:this.eventTransformer(t)})}get(e){if(!i.isPeerId(e))throw n(new Error("peerId must be an instance of peer-id"),s);const t=this.data.get(e.toB58String());return t?[...t]:void 0}delete(e){if(!i.isPeerId(e))throw n(new Error("peerId must be an instance of peer-id"),s);return!!this.data.delete(e.toB58String())&&(this._emit(e,[]),!0)}}},4323:(e,t,r)=>{"use strict";const n=r(32114),i=r(17187),s=r(88785),a=r(3721),o=r(61062),c=r(3350),u=r(51979),{codes:{ERR_INVALID_PARAMETERS:l}}=r(23416);e.exports=class extends i{constructor({peerId:e}){super(),this._peerId=e,this.addressBook=new a(this),this.keyBook=new o(this),this.metadataBook=new c(this),this.protoBook=new u(this)}start(){}stop(){}get peers(){const e=new Set([...this.addressBook.data.keys(),...this.keyBook.data.keys(),...this.protoBook.data.keys(),...this.metadataBook.data.keys()]);this._peerId&&e.delete(this._peerId.toB58String());const t=new Map;return e.forEach((e=>{t.set(e,this.get(s.createFromCID(e)))})),t}delete(e){const t=this.addressBook.delete(e),r=this.keyBook.delete(e),n=this.protoBook.delete(e),i=this.metadataBook.delete(e);return t||r||n||i}get(e){if(!s.isPeerId(e))throw n(new Error("peerId must be an instance of peer-id"),l);const t=this.keyBook.data.get(e.toB58String()),r=this.addressBook.get(e),i=this.metadataBook.get(e),a=this.protoBook.get(e);if(t||r||i||a)return{id:t||e,addresses:r||[],protocols:a||[],metadata:i}}}},61062:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:peer-store:key-book"),{error:n("libp2p:peer-store:key-book:err")}),s=r(32114),a=r(88785),o=r(94903),{codes:{ERR_INVALID_PARAMETERS:c}}=r(23416);e.exports=class extends o{constructor(e){super({peerStore:e,eventName:"change:pubkey",eventProperty:"pubkey",eventTransformer:e=>e.pubKey}),this.data=new Map}set(e,t){if(!a.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),c);const r=e.toB58String();return!this.data.get(r)&&t&&(e.pubKey=t,this._setData(e,e),i(`stored provided public key for ${r}`)),this}get(e){if(!a.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),c);const t=this.data.get(e.toB58String());return t?t.pubKey:void 0}}},3350:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:peer-store:proto-book"),{error:n("libp2p:peer-store:proto-book:err")}),s=r(32114),a=r(42142),o=r(88785),c=r(94903),{codes:{ERR_INVALID_PARAMETERS:u}}=r(23416);e.exports=class extends c{constructor(e){super({peerStore:e,eventName:"change:metadata",eventProperty:"metadata"}),this.data=new Map}set(e,t,r){if(!o.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),u);if("string"!=typeof t||!(r instanceof Uint8Array))throw i.error("valid key and value must be provided to store data"),s(new Error("valid key and value must be provided"),u);return this._setValue(e,t,r),this}_setValue(e,t,r,{emit:n=!0}={}){const s=e.toB58String(),o=this.data.get(s)||new Map,c=o.get(t);c&&a(r,c)?i(`the metadata provided to store is equal to the already stored for ${s} on ${t}`):(o.set(t,r),this.data.set(s,o),n&&this._emit(e,t))}get(e){if(!o.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),u);return this.data.get(e.toB58String())}getValue(e,t){if(!o.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),u);const r=this.data.get(e.toB58String());return r&&r.get(t)}delete(e){if(!o.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),u);return!!this.data.delete(e.toB58String())&&(this._emit(e),!0)}deleteValue(e,t){if(!o.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),u);const r=this.data.get(e.toB58String());return!(!r||!r.delete(t))&&(this._emit(e,t),!0)}}},5922:e=>{"use strict";e.exports.NAMESPACE_COMMON="/peers/",e.exports.NAMESPACE_ADDRESS="/peers/addrs/",e.exports.NAMESPACE_KEYS="/peers/keys/",e.exports.NAMESPACE_METADATA="/peers/metadata/",e.exports.NAMESPACE_PROTOCOL="/peers/protos/"},78112:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:persistent-peer-store"),{error:n("libp2p:persistent-peer-store:err")}),{Key:s}=r(62885),a=r(46584),o=r(88785),c=r(4323),{NAMESPACE_ADDRESS:u,NAMESPACE_COMMON:l,NAMESPACE_KEYS:f,NAMESPACE_METADATA:d,NAMESPACE_PROTOCOL:h}=r(5922),p=r(39793),g=r(8300);e.exports=class extends c{constructor({peerId:e,datastore:t,threshold:r=5}){super({peerId:e}),this._datastore=t,this._dirtyPeers=new Set,this._dirtyMetadata=new Map,this.threshold=r,this._addDirtyPeer=this._addDirtyPeer.bind(this)}async start(){i("PeerStore is starting"),this.on("change:protocols",this._addDirtyPeer),this.on("change:multiaddrs",this._addDirtyPeer),this.on("change:pubkey",this._addDirtyPeerKey),this.on("change:metadata",this._addDirtyPeerMetadata);for await(const e of this._datastore.query({prefix:l}))await this._processDatastoreEntry(e);i("PeerStore started")}async stop(){i("PeerStore is stopping"),this.removeAllListeners(),await this._commitData(),i("PeerStore stopped")}_addDirtyPeer({peerId:e}){const t=e.toB58String();i("add dirty peer",t),this._dirtyPeers.add(t),this._dirtyPeers.size>=this.threshold&&this._commitData().catch((e=>{i.error("error committing data",e)}))}_addDirtyPeerKey({peerId:e}){if(e.hasInlinePublicKey())return;const t=e.toB58String();i("add dirty peer key",t),this._dirtyPeers.add(t),this._dirtyPeers.size>=this.threshold&&this._commitData().catch((e=>{i.error("error committing data",e)}))}_addDirtyPeerMetadata({peerId:e,metadata:t}){const r=e.toB58String();i("add dirty metadata peer",r),this._dirtyPeers.add(r);const n=this._dirtyMetadata.get(r)||new Set;n.add(t),this._dirtyMetadata.set(r,n),this._dirtyPeers.size>=this.threshold&&this._commitData().catch((e=>{i.error("error committing data",e)}))}async _commitData(){const e=Array.from(this._dirtyPeers);if(!e.length)return;this._dirtyPeers.clear(),i("create batch commit");const t=this._datastore.batch();for(const r of e){const e=this.keyBook.data.get(r)||o.createFromCID(r);this._batchAddressBook(e,t),!e.hasInlinePublicKey()&&this._batchKeyBook(e,t),this._batchMetadataBook(e,t),this._batchProtoBook(e,t)}await t.commit(),i("batch committed")}_batchAddressBook(e,t){const r=e.toString(),n=new s(`${u}${r}`),a=this.addressBook.data.get(e.toB58String());try{if(!a)return void t.delete(n);const e=p.encode({addrs:a.addresses.map((e=>({multiaddr:e.multiaddr.bytes,isCertified:e.isCertified}))),certified_record:a.record?{seq:a.record.seqNumber,raw:a.record.raw}:void 0});t.put(n,e)}catch(e){i.error(e)}}_batchKeyBook(e,t){const r=e.toString(),n=new s(`${f}${r}`);try{if(!e.pubKey)return void t.delete(n);const r=e.marshalPubKey();t.put(n,r)}catch(e){i.error(e)}}_batchMetadataBook(e,t){const r=e.toString(),n=this._dirtyMetadata.get(e.toB58String())||[];try{n.forEach((n=>{const i=new s(`${d}${r}/${n}`),a=this.metadataBook.getValue(e,n);a?t.put(i,a):t.delete(i)}))}catch(e){i.error(e)}}_batchProtoBook(e,t){const r=e.toString(),n=new s(`${h}${r}`),a=this.protoBook.get(e);try{if(!a)return void t.delete(n);const e=g.encode({protocols:a});t.put(n,e)}catch(e){i.error(e)}}async _processDatastoreEntry({key:e,value:t}){try{const r=e.toString().split("/"),n=o.createFromCID(r[3]);let s;switch(r[2]){case"addrs":s=p.decode(t),this.addressBook._setData(n,{addresses:s.addrs.map((e=>({multiaddr:a(e.multiaddr),isCertified:Boolean(e.isCertified)}))),record:s.certified_record?{raw:s.certified_record.raw,seqNumber:s.certified_record.seq}:void 0},{emit:!1});break;case"keys":s=await o.createFromPubKey(t),this.keyBook._setData(s,s,{emit:!1});break;case"metadata":this.metadataBook._setValue(n,r[4],t,{emit:!1});break;case"protos":s=g.decode(t),this.protoBook._setData(n,new Set(s.protocols),{emit:!1});break;default:i("invalid data persisted for: ",e.toString())}}catch(e){i.error(e)}}}},39793:(e,t,r)=>{"use strict";const n=r(57160);e.exports=n("\nmessage Addresses {\n  // Address represents a single multiaddr.\n  message Address {\n    required bytes multiaddr = 1;\n\n    // Flag to indicate if the address comes from a certified source.\n    optional bool isCertified = 2;\n  }\n\n  // CertifiedRecord contains a serialized signed PeerRecord used to\n  // populate the signedAddrs list.\n  message CertifiedRecord {\n    // The Seq counter from the signed PeerRecord envelope\n    uint64 seq = 1;\n\n    // The serialized bytes of the SignedEnvelope containing the PeerRecord.\n    bytes raw = 2;\n  }\n\n  // The known multiaddrs.\n  repeated Address addrs = 1;\n\n  // The most recently received signed PeerRecord.\n  CertifiedRecord certified_record = 2;\n}\n").Addresses},8300:(e,t,r)=>{"use strict";const n=r(57160);e.exports=n("\nmessage Protocols {\n  repeated string protocols = 1;\n}\n").Protocols},51979:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:peer-store:proto-book"),{error:n("libp2p:peer-store:proto-book:err")}),s=r(32114),a=r(88785),o=r(94903),{codes:{ERR_INVALID_PARAMETERS:c}}=r(23416);e.exports=class extends o{constructor(e){super({peerStore:e,eventName:"change:protocols",eventProperty:"protocols",eventTransformer:e=>Array.from(e)}),this.data=new Map}set(e,t){if(!a.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),c);if(!t)throw i.error("protocols must be provided to store data"),s(new Error("protocols must be provided"),c);const r=e.toB58String(),n=this.data.get(r),o=new Set(t);return n&&(l=o,(u=n).size===l.size&&[...u].every((e=>l.has(e))))?(i(`the protocols provided to store are equal to the already stored for ${r}`),this):(this._setData(e,o),i(`stored provided protocols for ${r}`),this);var u,l}add(e,t){if(!a.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),c);if(!t)throw i.error("protocols must be provided to store data"),s(new Error("protocols must be provided"),c);const r=e.toB58String(),n=this.data.get(r)||new Set,o=new Set([...n,...t]);return n.size===o.size?(i(`the protocols provided to store are already stored for ${r}`),this):(this._setData(e,o),i(`added provided protocols for ${r}`),this)}remove(e,t){if(!a.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),c);if(!t)throw i.error("protocols must be provided to store data"),s(new Error("protocols must be provided"),c);const r=e.toB58String(),n=this.data.get(r);if(n){const s=new Set([...n].filter((e=>!t.includes(e))));if(n.size===s.size)return this;this._setData(e,s),i(`removed provided protocols for ${r}`)}return this}}},77667:e=>{"use strict";e.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}},75466:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:ping"),{error:n("libp2p:ping:err")}),s=r(32114),a=r(82204),{pipe:o}=r(60618),{toBuffer:c}=r(96653),{collect:u,take:l}=r(38386),f=r(42142),{PROTOCOL:d,PING_LENGTH:h}=r(77667);(t=e.exports=async function(e,t){i("dialing %s to %s",d,t.toB58String?t.toB58String():t);const{stream:r}=await e.dialProtocol(t,d),n=Date.now(),p=a.randomBytes(h),[g]=await o([p],r,(e=>l(1,e)),c,u),m=Date.now();if(!f(p,g))throw s(new Error("Received wrong ping ack"),"ERR_WRONG_PING_ACK");return m-n}).mount=function(e){e.handle(d,(({stream:e})=>o(e,e)))},t.unmount=function(e){e.unhandle(d)}},65993:e=>{"use strict";e.exports=function(e,t,r){const n=new e(t,r);return n._subscribeAdapter=n.subscribe,n._unsubscribeAdapter=n.unsubscribe,n.subscribe=function(e,t){t&&n.on(e,t),n._subscribeAdapter(e)},n.unsubscribe=function(e,t){t?n.removeListener(e,t):n.removeAllListeners(e),0===n.listenerCount(e)&&n._unsubscribeAdapter(e)},n}},74142:(e,t,r)=>{"use strict";const n=r(57160);e.exports=n("\nmessage Envelope {\n  // public_key is the public key of the keypair the enclosed payload was\n  // signed with.\n  bytes public_key = 1;\n\n  // payload_type encodes the type of payload, so that it can be deserialized\n  // deterministically.\n  bytes payload_type = 2;\n\n  // payload is the actual payload carried inside this envelope.\n  bytes payload = 3;\n\n  // signature is the signature produced by the private key corresponding to\n  // the enclosed public key, over the payload, prefixing a domain string for\n  // additional security.\n  bytes signature = 5;\n}\n")},31244:(e,t,r)=>{"use strict";const n=r(32114),i=r(86643),s=r(87962),a=r(14437),o=r(88785),c=r(31997),u=r(42142),{codes:l}=r(23416),f=r(74142);class d{constructor({peerId:e,payloadType:t,payload:r,signature:n}){this.peerId=e,this.payloadType=t,this.payload=r,this.signature=n,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;const e=a.marshalPublicKey(this.peerId.pubKey);return this._marshal=f.Envelope.encode({public_key:e,payload_type:this.payloadType,payload:this.payload,signature:this.signature}),this._marshal}equals(e){return u(this.peerId.pubKey.bytes,e.peerId.pubKey.bytes)&&u(this.payloadType,e.payloadType)&&u(this.payload,e.payload)&&u(this.signature,e.signature)}validate(e){const t=h(e,this.payloadType,this.payload);return this.peerId.pubKey.verify(t,this.signature)}}const h=(e,t,r)=>{const n=s(e),a=c.encode(n.byteLength),o=c.encode(t.length),u=c.encode(r.length);return i([new Uint8Array(a),n,new Uint8Array(o),t,new Uint8Array(u),r])};d.createFromProtobuf=async e=>{const t=f.Envelope.decode(e),r=await o.createFromPubKey(t.public_key);return new d({peerId:r,payloadType:t.payload_type,payload:t.payload,signature:t.signature})},d.seal=async(e,t)=>{const r=e.domain,n=e.codec,i=e.marshal(),s=h(r,n,i),a=await t.privKey.sign(s);return new d({peerId:t,payloadType:n,payload:i,signature:a})},d.openAndCertify=async(e,t)=>{const r=await d.createFromProtobuf(e);if(!await r.validate(t))throw n(new Error("envelope signature is not valid for the given domain"),l.ERR_SIGNATURE_NOT_VALID);return r},e.exports=d},77854:(e,t,r)=>{"use strict";const n=r(1353),i=n.getName(n.LIBP2P_PEER_RECORD)||"libp2p-peer-record",s=Uint8Array.from([3,1]);e.exports={ENVELOPE_DOMAIN_PEER_RECORD:i,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:s}},61131:(e,t,r)=>{"use strict";const n=r(46584),i=r(88785),s=r(52942),a=r(86366),{ENVELOPE_DOMAIN_PEER_RECORD:o,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:c}=r(77854);class u{constructor({peerId:e,multiaddrs:t=[],seqNumber:r=Date.now()}){this.domain=o,this.codec=c,this.peerId=e,this.multiaddrs=t,this.seqNumber=r,this._marshal=void 0}marshal(){return this._marshal||(this._marshal=a.PeerRecord.encode({peer_id:this.peerId.toBytes(),seq:this.seqNumber,addresses:this.multiaddrs.map((e=>({multiaddr:e.bytes})))})),this._marshal}equals(e){return e instanceof u&&(!!this.peerId.equals(e.peerId)&&(this.seqNumber===e.seqNumber&&!!s(this.multiaddrs,e.multiaddrs)))}}u.createFromProtobuf=e=>{const t=a.PeerRecord.decode(e),r=i.createFromBytes(t.peer_id),s=(t.addresses||[]).map((e=>n(e.multiaddr))),o=t.seq;return new u({peerId:r,multiaddrs:s,seqNumber:o})},u.DOMAIN=o,e.exports=u},86366:(e,t,r)=>{"use strict";const n=r(57160);e.exports=n("\nmessage PeerRecord {\n    // AddressInfo is a wrapper around a binary multiaddr. It is defined as a\n    // separate message to allow us to add per-address metadata in the future.\n    message AddressInfo {\n        bytes multiaddr = 1;\n    }\n\n    // peer_id contains a libp2p peer id in its binary representation.\n    bytes peer_id = 1;\n\n    // seq contains a monotonically-increasing sequence counter to order PeerRecords in time.\n    uint64 seq = 2;\n\n    // addresses is a list of public listen addresses for the peer.\n    repeated AddressInfo addresses = 3;\n}\n")},1001:(e,t,r)=>{"use strict";const n=r(31244),i=r(61131);e.exports.updateSelfPeerRecord=async function(e){const t=new i({peerId:e.peerId,multiaddrs:e.multiaddrs}),r=await n.seal(t,e.peerId);e.peerStore.addressBook.consumePeerRecord(r)}},28861:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:peer-store"),{error:n("libp2p:peer-store:err")}),s=r(32114),{codes:{ERR_INVALID_PARAMETERS:a}}=r(23416),o=r(7609);e.exports=class{constructor({peerStore:e,connectionManager:t}){this.peerStore=e,this.connectionManager=t,this.topologies=new Map,this._handle=void 0,this._onDisconnect=this._onDisconnect.bind(this),this.connectionManager.on("peer:disconnect",this._onDisconnect)}get handle(){return this._handle}set handle(e){this._handle=e}getConnection(e){return this.connectionManager.get(e)}register(e){if(!o.isTopology(e))throw i.error("topology must be an instance of interfaces/topology"),s(new Error("topology must be an instance of interfaces/topology"),a);const t=(1e9*Math.random()).toString(36)+Date.now();return this.topologies.set(t,e),e.registrar=this,t}unregister(e){return this.topologies.delete(e)}_onDisconnect(e,t){for(const[,r]of this.topologies)r.disconnect(e.remotePeer,t)}}},6984:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:transports"),{error:n("libp2p:transports:err")}),s=r(13296),{codes:a}=r(23416),o=r(32114),{updateSelfPeerRecord:c}=r(1001);class u{constructor({libp2p:e,upgrader:t,faultTolerance:r=l.FATAL_ALL}){this.libp2p=e,this.upgrader=t,this._transports=new Map,this._listeners=new Map,this._listenerOptions=new Map,this.faultTolerance=r}add(e,t,r={}){if(i("adding %s",e),!e)throw o(new Error(`Transport must have a valid key, was given '${e}'`),a.ERR_INVALID_KEY);if(this._transports.has(e))throw o(new Error("There is already a transport with this key"),a.ERR_DUPLICATE_TRANSPORT);const n=new t({...r,libp2p:this.libp2p,upgrader:this.upgrader});this._transports.set(e,n),this._listenerOptions.set(e,r.listenerOptions||{}),this._listeners.has(e)||this._listeners.set(e,[])}async close(){const e=[];for(const[t,r]of this._listeners)for(i("closing listeners for %s",t);r.length;){const t=r.pop();t.removeAllListeners("listening"),t.removeAllListeners("close"),e.push(t.close())}await Promise.all(e),i("all listeners closed");for(const e of this._listeners.keys())this._listeners.set(e,[])}async dial(e,t){const r=this.transportForMultiaddr(e);if(!r)throw o(new Error(`No transport available for address ${String(e)}`),a.ERR_TRANSPORT_UNAVAILABLE);try{return await r.dial(e,t)}catch(e){throw e.code||(e.code=a.ERR_TRANSPORT_DIAL_FAILED),e}}getAddrs(){let e=[];for(const t of this._listeners.values())for(const r of t)e=[...e,...r.getAddrs()];return e}getTransports(){return this._transports.values()}transportForMultiaddr(e){for(const t of this._transports.values()){if(t.filter([e]).length)return t}return null}async listen(e){if(!e||0===e.length)return void i("no addresses were provided for listening, this node is dial only");const t=[];for(const[r,n]of this._transports.entries()){const u=n.filter(e),f=[];for(const e of u){i("creating listener for %s on %s",r,e);const t=n.createListener(this._listenerOptions.get(r));this._listeners.get(r).push(t),t.on("listening",(()=>c(this.libp2p))),t.on("close",(()=>c(this.libp2p))),f.push(t.listen(e))}if(0===f.length){t.push(r);continue}if(!(await s(f)).find((e=>!0===e.isFulfilled))&&this.faultTolerance!==l.NO_FATAL)throw o(new Error(`Transport (${r}) could not listen on any available address`),a.ERR_NO_VALID_ADDRESSES)}if(t.length===this._transports.size){const e=`no valid addresses were provided for transports [${t}]`;if(this.faultTolerance===l.FATAL_ALL)throw o(new Error(e),a.ERR_NO_VALID_ADDRESSES);i(`libp2p in dial mode only: ${e}`)}}async remove(e){if(i("removing %s",e),this._listeners.has(e))for(const t of this._listeners.get(e))t.removeAllListeners("listening"),t.removeAllListeners("close"),await t.close();this._transports.delete(e),this._listeners.delete(e)}async removeAll(){const e=[];for(const t of this._transports.keys())e.push(this.remove(t));await Promise.all(e)}}const l={FATAL_ALL:0,NO_FATAL:1};u.FaultTolerance=l,e.exports=u},21003:(e,t,r)=>{"use strict";const n=r(11227),i=Object.assign(n("libp2p:upgrader"),{error:n("libp2p:upgrader:err")}),s=r(32114),a=r(8738),{Connection:o}=r(15458),c=r(88785),{pipe:u}=r(60618),l=r(99633),{codes:f}=r(23416);e.exports=class{constructor({localPeer:e,metrics:t,cryptos:r=new Map,muxers:n=new Map,onConnectionEnd:i=(()=>{}),onConnection:s=(()=>{})}){this.localPeer=e,this.metrics=t,this.cryptos=r,this.muxers=n,this.protector=null,this.protocols=new Map,this.onConnection=s,this.onConnectionEnd=i}async upgradeInbound(e){let t,r,n,s,a,o,c;if(this.metrics){({setTarget:o,proxy:c}=l());const t=(1e9*Math.random()).toString(36)+Date.now();o({toB58String:()=>t}),e=this.metrics.trackStream({stream:e,remotePeer:c})}i("Starting the inbound connection upgrade");let u=e;this.protector&&(u=await this.protector.protect(e));try{({conn:t,remotePeer:r,protocol:a}=await this._encryptInbound(this.localPeer,u,this.cryptos)),this.muxers.size?({stream:n,Muxer:s}=await this._multiplexInbound(t,this.muxers)):n=t}catch(t){throw i.error("Failed to upgrade inbound connection",t),await e.close(t),t}return this.metrics&&(this.metrics.updatePlaceholder(c,r),o(r)),i("Successfully upgraded inbound connection"),this._createConnection({cryptoProtocol:a,direction:"inbound",maConn:e,upgradedConn:n,Muxer:s,remotePeer:r})}async upgradeOutbound(e){const t=c.createFromB58String(e.remoteAddr.getPeerId());let r,n,s,a,o,u,f;if(this.metrics){({setTarget:u,proxy:f}=l());const t=(1e9*Math.random()).toString(36)+Date.now();u({toB58String:()=>t}),e=this.metrics.trackStream({stream:e,remotePeer:f})}i("Starting the outbound connection upgrade");let d=e;this.protector&&(d=await this.protector.protect(e));try{({conn:r,remotePeer:n,protocol:a}=await this._encryptOutbound(this.localPeer,d,t,this.cryptos)),this.muxers.size?({stream:s,Muxer:o}=await this._multiplexOutbound(r,this.muxers)):s=r}catch(t){throw i.error("Failed to upgrade outbound connection",t),await e.close(t),t}return this.metrics&&(this.metrics.updatePlaceholder(f,n),u(n)),i("Successfully upgraded outbound connection"),this._createConnection({cryptoProtocol:a,direction:"outbound",maConn:e,upgradedConn:s,Muxer:o,remotePeer:n})}_createConnection({cryptoProtocol:e,direction:t,maConn:r,upgradedConn:n,Muxer:c,remotePeer:l}){let d,h,p;c&&(d=new c({onStream:async e=>{const r=new a.Listener(e);try{const{stream:n,protocol:s}=await r.handle(Array.from(this.protocols.keys()));i("%s: incoming stream opened on %s",t,s),this.metrics&&this.metrics.trackStream({stream:n,remotePeer:l,protocol:s}),p.addStream(e,{protocol:s}),this._onStream({connection:p,stream:{...e,...n},protocol:s})}catch(e){i.error(e)}},onStreamEnd:e=>{p.removeStream(e.id)}}),h=async e=>{i("%s: starting new stream on %s",t,e);const r=d.newStream(),n=new a.Dialer(r);try{const{stream:t,protocol:i}=await n.select(e);return this.metrics&&this.metrics.trackStream({stream:t,remotePeer:l,protocol:i}),{stream:{...r,...t},protocol:i}}catch(e){throw i.error("could not create new stream",e),s(e,f.ERR_UNSUPPORTED_PROTOCOL)}},u(n,d,n).catch(i.error));const g=r.timeline;r.timeline=new Proxy(g,{set:(...e)=>(p&&"close"===e[1]&&e[2]&&!g.close&&(async()=>{try{"open"===p.stat.status&&await p.close()}catch(e){i.error(e)}finally{this.onConnectionEnd(p)}})(),Reflect.set(...e))}),r.timeline.upgraded=Date.now();const m=()=>{throw s(new Error("connection is not multiplexed"),"ERR_CONNECTION_NOT_MULTIPLEXED")};return p=new o({localAddr:r.localAddr,remoteAddr:r.remoteAddr,localPeer:this.localPeer,remotePeer:l,stat:{direction:t,timeline:r.timeline,multiplexer:c&&c.multicodec,encryption:e},newStream:h||m,getStreams:()=>d?d.streams:m,close:async e=>{await r.close(e),d&&d.streams.map((t=>t.abort(e)))}}),this.onConnection(p),p}_onStream({connection:e,stream:t,protocol:r}){this.protocols.get(r)({connection:e,stream:t,protocol:r})}async _encryptInbound(e,t,r){const n=new a.Listener(t),o=Array.from(r.keys());i("handling inbound crypto protocol selection",o);try{const{stream:t,protocol:s}=await n.handle(o),a=r.get(s);if(i("encrypting inbound connection..."),!a)throw new Error(`no crypto module found for ${s}`);return{...await a.secureInbound(e,t),protocol:s}}catch(e){throw s(e,f.ERR_ENCRYPTION_FAILED)}}async _encryptOutbound(e,t,r,n){const o=new a.Dialer(t),c=Array.from(n.keys());i("selecting outbound crypto protocol",c);try{const{stream:t,protocol:s}=await o.select(c),a=n.get(s);if(i("encrypting outbound connection to %j",r),!a)throw new Error(`no crypto module found for ${s}`);return{...await a.secureOutbound(e,t,r),protocol:s}}catch(e){throw s(e,f.ERR_ENCRYPTION_FAILED)}}async _multiplexOutbound(e,t){const r=new a.Dialer(e),n=Array.from(t.keys());i("outbound selecting muxer %s",n);try{const{stream:e,protocol:s}=await r.select(n);i("%s selected as muxer protocol",s);return{stream:e,Muxer:t.get(s)}}catch(e){throw s(e,f.ERR_MUXER_UNAVAILABLE)}}async _multiplexInbound(e,t){const r=new a.Listener(e),n=Array.from(t.keys());i("inbound handling muxers %s",n);try{const{stream:e,protocol:i}=await r.handle(n);return{stream:e,Muxer:t.get(i)}}catch(e){throw s(e,f.ERR_MUXER_UNAVAILABLE)}}}},194:(e,t,r)=>{var n,i=r(34155);!function(){"use strict";var s="input is invalid type",a="object"==typeof window,o=a?window:{};o.JS_SHA3_NO_WINDOW&&(a=!1);var c=!a&&"object"==typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node?o=window:c&&(o=self);var u=!o.JS_SHA3_NO_COMMON_JS&&e.exports,l=r.amdO,f=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[4,1024,262144,67108864],p=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],b=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};!o.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var k=function(e,t,r){return function(n){return new M(e,t,e).update(n)[r]()}},S=function(e,t,r){return function(n,i){return new M(e,t,i).update(n)[r]()}},E=function(e,t,r){return function(t,n,i,s){return T["cshake"+e].update(t,n,i,s)[r]()}},w=function(e,t,r){return function(t,n,i,s){return T["kmac"+e].update(t,n,i,s)[r]()}},C=function(e,t,r,n){for(var i=0;i<y.length;++i){var s=y[i];e[s]=t(r,n,s)}return e},A=function(e,t){var r=k(e,t,"hex");return r.create=function(){return new M(e,t,e)},r.update=function(e){return r.create().update(e)},C(r,k,e,t)},I=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:A},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:A},{name:"shake",padding:[31,7936,2031616,520093696],bits:b,createMethod:function(e,t){var r=S(e,t,"hex");return r.create=function(r){return new M(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},C(r,S,e,t)}},{name:"cshake",padding:h,bits:b,createMethod:function(e,t){var r=v[e],n=E(e,0,"hex");return n.create=function(n,i,s){return i||s?new M(e,t,n).bytepad([i,s],r):T["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},C(n,E,e,t)}},{name:"kmac",padding:h,bits:b,createMethod:function(e,t){var r=v[e],n=w(e,0,"hex");return n.create=function(n,i,s){return new D(e,t,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},C(n,w,e,t)}}],T={},_=[],B=0;B<I.length;++B)for(var N=I[B],R=N.bits,P=0;P<R.length;++P){var x=N.name+"_"+R[P];if(_.push(x),T[x]=N.createMethod(R[P],N.padding),"sha3"!==N.name){var L=N.name+R[P];_.push(L),T[L]=T[x]}}function M(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function D(e,t,r){M.call(this,e,t,r)}M.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw s;if(null===e)throw s;if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw s;t=!0}for(var n,i,a=this.blocks,o=this.byteCount,c=e.length,u=this.blockCount,l=0,d=this.s;l<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<u+1;++n)a[n]=0;if(t)for(n=this.start;l<c&&n<o;++l)a[n>>2]|=e[l]<<p[3&n++];else for(n=this.start;l<c&&n<o;++l)(i=e.charCodeAt(l))<128?a[n>>2]|=i<<p[3&n++]:i<2048?(a[n>>2]|=(192|i>>6)<<p[3&n++],a[n>>2]|=(128|63&i)<<p[3&n++]):i<55296||i>=57344?(a[n>>2]|=(224|i>>12)<<p[3&n++],a[n>>2]|=(128|i>>6&63)<<p[3&n++],a[n>>2]|=(128|63&i)<<p[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++l)),a[n>>2]|=(240|i>>18)<<p[3&n++],a[n>>2]|=(128|i>>12&63)<<p[3&n++],a[n>>2]|=(128|i>>6&63)<<p[3&n++],a[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=o){for(this.start=n-o,this.block=a[u],n=0;n<u;++n)d[n]^=a[n];O(d),this.reset=!0}else this.start=n}return this}},M.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},M.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw s;if(null===e)throw s;if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw s;t=!0}var n=0,i=e.length;if(t)n=i;else for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);o<128?n+=1:o<2048?n+=2:o<55296||o>=57344?n+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++a)),n+=4)}return n+=this.encode(8*n),this.update(e),n},M.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,s=[];return s.length=i,this.update(s),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];O(n)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,a=0,o="";a<n;){for(s=0;s<t&&a<n;++s,++a)e=r[s],o+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];a%t==0&&(O(r),s=0)}return i&&(e=r[s],o+=d[e>>4&15]+d[15&e],i>1&&(o+=d[e>>12&15]+d[e>>8&15]),i>2&&(o+=d[e>>20&15]+d[e>>16&15])),o},M.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,a=0,o=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);a<n;){for(s=0;s<t&&a<n;++s,++a)c[a]=r[s];a%t==0&&O(r)}return i&&(c[s]=r[s],e=e.slice(0,o)),e},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,a=0,o=0,c=[];o<i;){for(a=0;a<r&&o<i;++a,++o)e=o<<2,t=n[a],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%r==0&&O(n)}return s&&(e=o<<2,t=n[a],c[e]=255&t,s>1&&(c[e+1]=t>>8&255),s>2&&(c[e+2]=t>>16&255)),c},D.prototype=new M,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var O=function(e){var t,r,n,i,s,a,o,c,u,l,f,d,h,p,m,b,y,v,k,S,E,w,C,A,I,T,_,B,N,R,P,x,L,M,D,O,U,K,V,q,j,F,z,J,H,G,Y,Q,X,Z,W,$,ee,te,re,ne,ie,se,ae,oe,ce,ue,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|o>>>31),r=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|a>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=s^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=a^(l<<1|f>>>31),r=o^(f<<1|l>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(d<<1|h>>>31),r=u^(h<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=l^(i<<1|s>>>31),r=f^(s<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],m=e[1],G=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,B=e[20]<<3|e[21]>>>29,N=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,F=e[40]<<18|e[41]>>>14,z=e[41]<<18|e[40]>>>14,M=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Q=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,O=e[14]<<6|e[15]>>>26,U=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,k=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,W=e[35]<<15|e[34]>>>17,x=e[45]<<29|e[44]>>>3,L=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,I=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,K=e[26]<<25|e[27]>>>7,V=e[27]<<25|e[26]>>>7,S=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,J=e[8]<<27|e[9]>>>5,H=e[9]<<27|e[8]>>>5,T=e[18]<<20|e[19]>>>12,_=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,j=e[39]<<8|e[38]>>>24,w=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=p^~b&v,e[1]=m^~y&k,e[10]=A^~T&B,e[11]=I^~_&N,e[20]=M^~O&K,e[21]=D^~U&V,e[30]=J^~G&Q,e[31]=H^~Y&X,e[40]=te^~ne&se,e[41]=re^~ie&ae,e[2]=b^~v&S,e[3]=y^~k&E,e[12]=T^~B&R,e[13]=_^~N&P,e[22]=O^~K&q,e[23]=U^~V&j,e[32]=G^~Q&Z,e[33]=Y^~X&W,e[42]=ne^~se&oe,e[43]=ie^~ae&ce,e[4]=v^~S&w,e[5]=k^~E&C,e[14]=B^~R&x,e[15]=N^~P&L,e[24]=K^~q&F,e[25]=V^~j&z,e[34]=Q^~Z&$,e[35]=X^~W&ee,e[44]=se^~oe&ue,e[45]=ae^~ce&le,e[6]=S^~w&p,e[7]=E^~C&m,e[16]=R^~x&A,e[17]=P^~L&I,e[26]=q^~F&M,e[27]=j^~z&D,e[36]=Z^~$&J,e[37]=W^~ee&H,e[46]=oe^~ue&te,e[47]=ce^~le&re,e[8]=w^~p&b,e[9]=C^~m&y,e[18]=x^~A&T,e[19]=L^~I&_,e[28]=F^~M&O,e[29]=z^~D&U,e[38]=$^~J&G,e[39]=ee^~H&Y,e[48]=ue^~te&ne,e[49]=le^~re&ie,e[0]^=g[n],e[1]^=g[n+1]};if(u)e.exports=T;else{for(B=0;B<_.length;++B)o[_[B]]=T[_[B]];l&&(void 0===(n=function(){return T}.call(t,r,t,e))||(e.exports=n))}}()},1797:(e,t,r)=>{"use strict";const n=r(44696);e.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},46671:(e,t,r)=>{"use strict";const n=r(1797),i={16:"aes-128-ctr",32:"aes-256-ctr"};t.create=function(e,t,r){const s=i[e.length];if(!s)return r(new Error("Invalid key length"));const a=n.createCipheriv(s,e,t),o=n.createDecipheriv(s,e,t);r(null,{encrypt(e,t){t(null,a.update(e))},decrypt(e,t){t(null,o.update(e))}})}},21615:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(53570),s=r(11057)(),a=r(74947),o={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};t.create=function(e,t,r){const c=o[e];i(s.subtle.importKey("raw",t,{name:"HMAC",hash:{name:c}},!1,["sign"]).then((t=>({digest(e,r){((e,t,r)=>{i(s.subtle.sign({name:"HMAC"},e,t).then((e=>n.from(e))),r)})(t,e,r)},length:a[e]}))),r)}},74947:e=>{"use strict";e.exports={SHA1:20,SHA256:32,SHA512:64}},13259:(e,t,r)=>{"use strict";const n=r(21615),i=r(46671),s=r(43482);(t=e.exports).aes=i,t.hmac=n,t.keys=s,t.randomBytes=r(77605),t.pbkdf2=r(40999)},33579:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(11057)(),s=r(53570),a=r(39809).bignum,o=r(39152),c=o.toBase64,u=o.toBn,l={"P-256":256,"P-384":384,"P-521":521};t.generateEphmeralKeyPair=function(e,t){s(i.subtle.generateKey({name:"ECDH",namedCurve:e},!0,["deriveBits"]).then((t=>{const r=(r,o,u)=>{let f;"function"==typeof o&&(u=o,o=void 0),f=o?i.subtle.importKey("jwk",function(e,t){const r=h(e,t.public);return r.d=c(new a(t.private)),r}(e,o),{name:"ECDH",namedCurve:e},!1,["deriveBits"]):Promise.resolve(t.privateKey);const d=Promise.all([i.subtle.importKey("jwk",h(e,r),{name:"ECDH",namedCurve:e},!1,[]),f]);s(d.then((t=>i.subtle.deriveBits({name:"ECDH",namedCurve:e,public:t[0]},t[1],l[e]))).then((e=>n.from(e))),u)};return i.subtle.exportKey("jwk",t.publicKey).then((e=>({key:d(e),genSharedKey:r})))})),t)};const f={"P-256":32,"P-384":48,"P-521":66};function d(e){const t=f[e.crv];return n.concat([n.from([4]),u(e.x).toArrayLike(n,"be",t),u(e.y).toArrayLike(n,"be",t)],1+2*t)}function h(e,t){const r=f[e];if(!t.slice(0,1).equals(n.from([4])))throw new Error("Invalid key format");const i=new a(t.slice(1,r+1)),s=new a(t.slice(1+r));return{kty:"EC",crv:e,x:c(i,r),y:c(s,r),ext:!0}}},96506:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(92829),s=r(23296),a=r(14414),o=r(59567),c=s(r(83218));class u{constructor(e){this._key=d(e,o.publicKeyLength)}verify(e,t,r){f(r),o.hashAndVerify(this._key,t,e,r)}marshal(){return n.from(this._key)}get bytes(){return c.PublicKey.encode({Type:c.KeyType.Ed25519,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){f(e),i(this.bytes,"sha2-256",e)}}class l{constructor(e,t){this._key=d(e,o.privateKeyLength),this._publicKey=d(t,o.publicKeyLength)}sign(e,t){f(t),o.hashAndSign(this._key,e,t)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new u(this._publicKey)}marshal(){return n.concat([n.from(this._key),n.from(this._publicKey)])}get bytes(){return c.PrivateKey.encode({Type:c.KeyType.Ed25519,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){f(e),i(this.bytes,"sha2-256",e)}id(e){this.public.hash(((t,r)=>{if(t)return e(t);e(null,a.encode(r))}))}}function f(e){if("function"!=typeof e)throw new Error("callback is required")}function d(e,t){if(n.isBuffer(e)&&(e=new Uint8Array(e)),!(e instanceof Uint8Array)||e.length!==t)throw new Error("Key must be a Uint8Array or Buffer of length "+t);return e}e.exports={Ed25519PublicKey:u,Ed25519PrivateKey:l,unmarshalEd25519PrivateKey:function(e,t){try{e=d(e,o.privateKeyLength+o.publicKeyLength)}catch(e){return t(e)}const r=e.slice(0,o.privateKeyLength),n=e.slice(o.privateKeyLength,e.length);t(null,new l(r,n))},unmarshalEd25519PublicKey:function(e){return e=d(e,o.publicKeyLength),new u(e)},generateKeyPair:function(e,t){void 0===t&&"function"==typeof e&&(t=e),o.generateKey(((e,r)=>{if(e)return t(e);let n;try{n=new l(r.secretKey,r.publicKey)}catch(e){return void t(e)}t(null,n)}))},generateKeyPairFromSeed:function(e,t,r){void 0===r&&"function"==typeof t&&(r=t),o.generateKeyFromSeed(e,((e,t)=>{if(e)return r(e);let n;try{n=new l(t.secretKey,t.publicKey)}catch(e){return void r(e)}r(null,n)}))}}},59567:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(44733),s=r(41942);t.publicKeyLength=i.sign.publicKeyLength,t.privateKeyLength=i.sign.secretKeyLength,t.generateKey=function(e){s((()=>{let t;try{t=i.sign.keyPair()}catch(t){return e(t)}e(null,t)}))},t.generateKeyFromSeed=function(e,t){s((()=>{let r;try{r=i.sign.keyPair.fromSeed(e)}catch(e){return t(e)}t(null,r)}))},t.hashAndSign=function(e,t,r){s((()=>{r(null,n.from(i.sign.detached(t,e)))}))},t.hashAndVerify=function(e,t,r,n){s((()=>{let s;try{s=i.sign.detached.verify(r,t,e)}catch(e){return n(e)}n(null,s)}))}},21311:(e,t,r)=>{"use strict";const n=r(33579);e.exports=(e,t)=>{n.generateEphmeralKeyPair(e,t)}},43482:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(23296)(r(83218)),s=r(8558);t=e.exports;const a={rsa:r(84384),ed25519:r(96506),secp256k1:r(95146)(i,r(77605))};function o(e){return void 0!==a[e.toLowerCase()]}t.supportedKeys=a,t.keysPBM=i,t.keyStretcher=r(46068),t.generateEphemeralKeyPair=r(21311),t.generateKeyPair=(e,t,r)=>{let n=a[e.toLowerCase()];if(!n)return r(new Error("invalid or unsupported key type"));n.generateKeyPair(t,r)},t.generateKeyPairFromSeed=(e,t,r,n)=>{let i=a[e.toLowerCase()];return i?"ed25519"!==e.toLowerCase()?n(new Error("Seed key derivation is unimplemented for RSA or secp256k1")):void i.generateKeyPairFromSeed(t,r,n):n(new Error("invalid or unsupported key type"))},t.unmarshalPublicKey=e=>{const t=i.PublicKey.decode(e),r=t.Data;switch(t.Type){case i.KeyType.RSA:return a.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return a.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(a.secp256k1)return a.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error("secp256k1 support requires libp2p-crypto-secp256k1 package");default:throw new Error("invalid or unsupported key type")}},t.marshalPublicKey=(e,t)=>{if(!o(t=(t||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return e.bytes},t.unmarshalPrivateKey=(e,t)=>{let r;try{r=i.PrivateKey.decode(e)}catch(e){return t(e)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return a.rsa.unmarshalRsaPrivateKey(n,t);case i.KeyType.Ed25519:return a.ed25519.unmarshalEd25519PrivateKey(n,t);case i.KeyType.Secp256k1:return a.secp256k1?a.secp256k1.unmarshalSecp256k1PrivateKey(n,t):t(new Error("secp256k1 support requires libp2p-crypto-secp256k1 package"));default:t(new Error("invalid or unsupported key type"))}},t.marshalPrivateKey=(e,t)=>{if(!o(t=(t||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return e.bytes},t.import=(e,t,r)=>{try{const i=s.pki.decryptRsaPrivateKey(e,t);if(null===i)throw new Error("Cannot read the key, most likely the password is wrong or not a RSA key");let o=s.asn1.toDer(s.pki.privateKeyToAsn1(i));return o=n.from(o.getBytes(),"binary"),a.rsa.unmarshalRsaPrivateKey(o,r)}catch(e){r(e)}}},46068:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(87714),s=r(21615),a={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};e.exports=(e,t,r,o)=>{const c=a[e];if(!c)return o(new Error("unkown cipherType passed"));if(!t)return o(new Error("unkown hashType passed"));const u=c.keySize,l=c.ivSize,f=n.from("key expansion"),d=2*(l+u+20);s.create(t,r,((e,t)=>{if(e)return o(e);t.digest(f,((e,r)=>{if(e)return o(e);let s=[],a=0;i((()=>a<d),(function(e){t.digest(n.concat([r,f]),((n,i)=>{if(n)return e(n);let o=i.length;a+o>d&&(o=d-a),s.push(i),a+=o,t.digest(r,((t,n)=>{if(t)return e(t);r=n,e()}))}))}),(function(e){if(e)return o(e);const t=d/2,r=n.concat(s),i=r.slice(0,t),a=r.slice(t,d),c=e=>({iv:e.slice(0,l),cipherKey:e.slice(l,l+u),macKey:e.slice(l+u)});o(null,{k1:c(i),k2:c(a)})}))}))}))}},83218:e=>{"use strict";e.exports="enum KeyType {\n  RSA = 0;\n  Ed25519 = 1;\n  Secp256k1 = 2;\n}\nmessage PublicKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}\nmessage PrivateKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}"},38141:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(53570),s=r(11057)();function a(e){return Promise.all([s.subtle.exportKey("jwk",e.privateKey),s.subtle.exportKey("jwk",e.publicKey)])}t.utils=r(26862),t.generateKey=function(e,t){i(s.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(a).then((e=>({privateKey:e[0],publicKey:e[1]}))),t)},t.unmarshalPrivateKey=function(e,t){const r=s.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]);var n;i(Promise.all([r,(n=e,s.subtle.importKey("jwk",{kty:n.kty,n:n.n,e:n.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))]).then((e=>a({privateKey:e[0],publicKey:e[1]}))).then((e=>({privateKey:e[0],publicKey:e[1]}))),t)},t.getRandomValues=function(e){return n.from(s.getRandomValues(e))},t.hashAndSign=function(e,t,r){i(s.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]).then((e=>s.subtle.sign({name:"RSASSA-PKCS1-v1_5"},e,Uint8Array.from(t)))).then((e=>n.from(e))),r)},t.hashAndVerify=function(e,t,r,n){i(s.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]).then((e=>s.subtle.verify({name:"RSASSA-PKCS1-v1_5"},e,t,r))),n)}},84384:(e,t,r)=>{"use strict";const n=r(92829),i=r(23296),s=r(14414),a=r(38141),o=i(r(83218)),c=r(8558),u=r(41942);class l{constructor(e){this._key=e}verify(e,t,r){d(r),a.hashAndVerify(this._key,t,e,r)}marshal(){return a.utils.jwkToPkix(this._key)}get bytes(){return o.PublicKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}encrypt(e){return this._key.encrypt(e,"RSAES-PKCS1-V1_5")}equals(e){return this.bytes.equals(e.bytes)}hash(e){d(e),n(this.bytes,"sha2-256",e)}}class f{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return a.getRandomValues(new Uint8Array(16))}sign(e,t){d(t),a.hashAndSign(this._key,e,t)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new l(this._publicKey)}decrypt(e,t){a.decrypt(this._key,e,t)}marshal(){return a.utils.jwkToPkcs1(this._key)}get bytes(){return o.PrivateKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}equals(e){return this.bytes.equals(e.bytes)}hash(e){d(e),n(this.bytes,"sha2-256",e)}id(e){this.public.hash(((t,r)=>{if(t)return e(t);e(null,s.encode(r))}))}export(e,t,r){"function"==typeof t&&(r=t,t=e,e="pkcs-8"),d(r),u((()=>{let n=null,i=null;try{const r=new c.util.ByteBuffer(this.marshal()),s=c.asn1.fromDer(r),a=c.pki.privateKeyFromAsn1(s);if("pkcs-8"===e){const e={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};i=c.pki.encryptRsaPrivateKey(a,t,e)}else n=new Error(`Unknown export format '${e}'`)}catch(e){n=e}r(n,i)}))}}function d(e){if("function"!=typeof e)throw new Error("callback is required")}e.exports={RsaPublicKey:l,RsaPrivateKey:f,unmarshalRsaPublicKey:function(e){const t=a.utils.pkixToJwk(e);return new l(t)},unmarshalRsaPrivateKey:function(e,t){const r=a.utils.pkcs1ToJwk(e);a.unmarshalPrivateKey(r,((e,r)=>{if(e)return t(e);t(null,new f(r.privateKey,r.publicKey))}))},generateKeyPair:function(e,t){a.generateKey(e,((e,r)=>{if(e)return t(e);t(null,new f(r.privateKey,r.publicKey))}))},fromJwk:function(e,t){a.unmarshalPrivateKey(e,((e,r)=>{if(e)return t(e);t(null,new f(r.privateKey,r.publicKey))}))}}},26862:(e,t,r)=>{"use strict";const n=r(39809),i=r(39152),s=i.toBase64,a=i.toBn,o=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})),c=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid({"1.2.840.113549.1.1.1":"rsa"}),this.key("none").optional().null_(),this.key("curve").optional().objid(),this.key("params").optional().seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()))})),u=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),l=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.pkcs1ToJwk=function(e){const t=o.decode(e,"der");return{kty:"RSA",n:s(t.modulus),e:s(t.publicExponent),d:s(t.privateExponent),p:s(t.prime1),q:s(t.prime2),dp:s(t.exponent1),dq:s(t.exponent2),qi:s(t.coefficient),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkcs1=function(e){return o.encode({version:0,modulus:a(e.n),publicExponent:a(e.e),privateExponent:a(e.d),prime1:a(e.p),prime2:a(e.q),exponent1:a(e.dp),exponent2:a(e.dq),coefficient:a(e.qi)},"der")},t.pkixToJwk=function(e){const t=u.decode(e,"der"),r=l.decode(t.subjectPublicKey.data,"der");return{kty:"RSA",n:s(r.modulus),e:s(r.publicExponent),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkix=function(e){return u.encode({algorithm:{algorithm:"rsa",none:null},subjectPublicKey:{data:l.encode({modulus:a(e.n),publicExponent:a(e.e)},"der")}},"der")}},53570:e=>{"use strict";e.exports=function(e,t){return e.then((e=>{t(null,e)}),(e=>{t(e)}))}},40999:(e,t,r)=>{"use strict";const n=r(8558),i={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};e.exports=function(e,t,r,s,a){const o=i[a];if(!o)throw new Error(`Hash '${a}' is unknown or not supported`);const c=n.pkcs5.pbkdf2(e,t,r,s,o);return n.util.encode64(c)}},77605:(e,t,r)=>{"use strict";const n=r(38141);e.exports=function(e){if(!e||"number"!=typeof e)throw new Error("first argument must be a Number bigger than 0");return n.getRandomValues(new Uint8Array(e))}},39152:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(39809).bignum;t.toBase64=function(e,t){return e.toArrayLike(n,"be",t).toString("base64").replace(/(=*)$/,"").replace(/\+/g,"-").replace(/\//g,"_")},t.toBn=function(e){return new i(n.from(e,"base64"))}},11057:(e,t,r)=>{"use strict";e.exports=()=>{if("undefined"!=typeof self&&(r(80708)(self),self.crypto))return self.crypto;throw new Error("Please use an environment with crypto support")}},73883:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(80820),s=r(4474),a=r(75353),o=r(42751),c=r(94676);function u(e){const t=[],r=e.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==o(i).size){if(n++,n>=r.length)throw k("invalid address: "+e);t.push([i,r[n]])}else t.push([i])}return t}function l(e){const t=[];return i(e,(function(e){const r=S(e);t.push(r.name),e.length>1&&t.push(e[1])})),"/"+t.join("/")}function f(e){return i(e,(function(e){Array.isArray(e)||(e=[e]);const t=S(e);return e.length>1?[t.code,a.toBuffer(t.code,e[1])]:[t.code]}))}function d(e){return i(e,(function(e){const t=S(e);return e.length>1?[t.code,a.toString(t.code,e[1])]:[t.code]}))}function h(e){return b(n.concat(i(e,(function(e){const t=S(e);let r=n.from(c.encode(t.code));return e.length>1&&(r=n.concat([r,e[1]])),r}))))}function p(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;return c.decode(t)+c.decode.bytes}function g(e){const t=[];let r=0;for(;r<e.length;){const n=c.decode(e,r),i=c.decode.bytes,s=p(o(n),e.slice(r+i));if(0===s){t.push([n]),r+=i;continue}const a=e.slice(r+i,r+i+s);if(r+=s+i,r>e.length)throw k("Invalid address buffer: "+e.toString("hex"));t.push([n,a])}return t}function m(e){return h(f(u(e=v(e))))}function b(e){const t=y(e);if(t)throw t;return n.from(e)}function y(e){try{g(e)}catch(e){return e}}function v(e){return"/"+s(e.trim().split("/")).join("/")}function k(e){return new Error("Error parsing address: "+e)}function S(e){return o(e[0])}e.exports={stringToStringTuples:u,stringTuplesToString:l,tuplesToStringTuples:d,stringTuplesToTuples:f,bufferToTuples:g,tuplesToBuffer:h,bufferToString:function(e){const t=g(e);return l(d(t))},stringToBuffer:m,fromString:function(e){return m(e)},fromBuffer:b,validateBuffer:y,isValidBuffer:function(e){return void 0===y(e)},cleanPath:v,ParseError:k,protoFromTuple:S,sizeForAddr:p}},75353:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(60413),s=r(17673),a=r(42751),o=r(14414),c=r(94676);function u(e,t){return t instanceof n?u.toString(e,t):u.toBuffer(e,t)}function l(e){if(!e.isValid())throw new Error("invalid ip address");return i.toBuffer(e.address)}e.exports=u,u.toString=function(e,t){switch((e=a(e)).code){case 4:case 41:return i.toString(t);case 6:case 17:case 33:case 132:return function(e){return e.readUInt16BE(0)}(t);case 54:case 55:case 56:return function(e){const t=c.decode(e);if((e=e.slice(c.decode.bytes)).length!==t)throw new Error("inconsistent lengths");return e.toString()}(t);case 421:return function(e){const t=c.decode(e),r=e.slice(c.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return o.encode(r)}(t);default:return t.toString("hex")}},u.toBuffer=function(e,t){switch((e=a(e)).code){case 4:return l(new s.Address4(t));case 41:return l(new s.Address6(t));case 6:case 17:case 33:case 132:return function(e){const t=n.alloc(2);return t.writeUInt16BE(e,0),t}(parseInt(t,10));case 54:case 55:case 56:return function(e){const t=n.from(e),r=n.from(c.encode(t.length));return n.concat([r,t])}(t);case 421:return function(e){const t=n.from(o.decode(e)),r=n.from(c.encode(t.length));return n.concat([r,t])}(t);default:return n.from(t,"hex")}}},6901:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(80820),s=r(47529),a=r(73883),o=r(42751),c=r(94676),u=r(14414),l=r(98514),f=new Error("Sorry, Not Implemented Yet."),d=l.proto((function(e){if(!(this instanceof d))return new d(e);if(null==e&&(e=""),e instanceof n)this.buffer=a.fromBuffer(e);else if("string"==typeof e||e instanceof String)this.buffer=a.fromString(e);else{if(!(e.buffer&&e.protos&&e.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.buffer=a.fromBuffer(e.buffer)}}),{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});d.prototype.toString=function(){return a.bufferToString(this.buffer)},d.prototype.toOptions=function(){const e={},t=this.toString().split("/");return e.family="ip4"===t[1]?"ipv4":"ipv6",e.host=t[2],e.transport=t[3],e.port=t[4],e},d.prototype.inspect=function(){return"<Multiaddr "+this.buffer.toString("hex")+" - "+a.bufferToString(this.buffer)+">"},d.prototype.protos=function(){return i(this.protoCodes(),(function(e){return s(o(e))}))},d.prototype.protoCodes=function(){const e=[],t=this.buffer;let r=0;for(;r<t.length;){const n=c.decode(t,r),i=c.decode.bytes,s=o(n);r+=a.sizeForAddr(s,t.slice(r+i))+i,e.push(n)}return e},d.prototype.protoNames=function(){return i(this.protos(),(function(e){return e.name}))},d.prototype.tuples=function(){return a.bufferToTuples(this.buffer)},d.prototype.stringTuples=function(){const e=a.bufferToTuples(this.buffer);return a.tuplesToStringTuples(e)},d.prototype.encapsulate=function(e){return e=d(e),d(this.toString()+e.toString())},d.prototype.decapsulate=function(e){e=e.toString();const t=this.toString(),r=t.lastIndexOf(e);if(r<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return d(t.slice(0,r))},d.prototype.getPeerId=function(){let e=null;try{e=this.stringTuples().filter((e=>{if(e[0]===o.names.ipfs.code)return!0}))[0][1],u.decode(e)}catch(t){e=null}return e},d.prototype.equals=function(e){return this.buffer.equals(e.buffer)},d.prototype.nodeAddress=function(){if(!this.isThinWaistAddress())throw new Error('Multiaddr must be "thin waist" address for nodeAddress.');const e=this.protoCodes(),t=this.toString().split("/").slice(1);return{family:41===e[0]?"IPv6":"IPv4",address:t[1],port:t[3]}},d.fromNodeAddress=function(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");const r="IPv6"===e.family?"ip6":"ip4";return d("/"+[r,e.address,t,e.port].join("/"))},d.prototype.isThinWaistAddress=function(e){const t=(e||this).protos();return 2===t.length&&((4===t[0].code||41===t[0].code)&&(6===t[1].code||17===t[1].code))},d.prototype.fromStupidString=function(e){throw f},d.protocols=o,d.isName=function(e){return!!d.isMultiaddr(e)&&e.protos().some((e=>e.resolvable))},d.resolve=function(e,t){return d.isMultiaddr(e)&&d.isName(e)?t(new Error("not implemented yet")):t(new Error("not a valid name"))},e.exports=d},42751:(e,t,r)=>{"use strict";const n=r(80820);function i(e){if("number"==typeof e){if(i.codes[e])return i.codes[e];throw new Error("no protocol with code: "+e)}if("string"==typeof e||e instanceof String){if(i.names[e])return i.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}function s(e,t,r,n){return{code:e,size:t,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,"ip4"],[6,16,"tcp"],[17,16,"udp"],[33,16,"dccp"],[41,128,"ip6"],[54,-1,"dns4","resolvable"],[55,-1,"dns6","resolvable"],[56,-1,"dnsaddr","resolvable"],[132,16,"sctp"],[302,0,"utp"],[421,i.lengthPrefixedVarSize,"ipfs"],[480,0,"http"],[443,0,"https"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[290,0,"p2p-circuit"]],i.names={},i.codes={},n(i.table,(function(e){const t=s.apply(null,e);i.codes[t.code]=t,i.names[t.name]=t})),i.object=s,e.exports=i},31820:e=>{"use strict";e.exports=class{constructor(e,t,r,n){this.name=e,this.code=t,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}}},47301:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764);e.exports=function(e){return{encode:e=>"string"==typeof e?n.from(e).toString("hex"):e.toString("hex"),decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base16 character");return n.from(t,"hex")}}}},64036:e=>{"use strict";function t(e,t){const r=e.byteLength,n=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-1));let s=0,a=0,o="";for(let e=0;e<r;e++)for(a=a<<8|n[e],s+=8;s>=5;)o+=t[a>>>s-5&31],s-=5;if(s>0&&(o+=t[a<<5-s&31]),i)for(;o.length%8!=0;)o+="=";return o}e.exports=function(e){return{encode:r=>t("string"==typeof r?Uint8Array.from(r):r,e),decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base32 character");return function(e,t){const r=(e=e.replace(new RegExp("=","g"),"")).length;let n=0,i=0,s=0;const a=new Uint8Array(5*r/8|0);for(let o=0;o<r;o++)i=i<<5|t.indexOf(e[o]),n+=5,n>=8&&(a[s++]=i>>>n-8&255,n-=8);return a.buffer}(t,e)}}}},79595:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764);e.exports=function(e){const t=e.indexOf("=")>-1,r=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode(e){let i="";i="string"==typeof e?n.from(e).toString("base64"):e.toString("base64"),r&&(i=i.replace(/\+/g,"-").replace(/\//g,"_"));const s=i.indexOf("=");return s>0&&!t&&(i=i.substring(0,s)),i},decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base64 character");return n.from(t,"base64")}}}},24413:(e,t,r)=>{"use strict";const n=r(31820),i=r(58162),s=r(47301),a=r(64036),o=r(79595),c=[["base1","1","","1"],["base2","0",i,"01"],["base8","7",i,"01234567"],["base10","9",i,"0123456789"],["base16","f",s,"0123456789abcdef"],["base32","b",a,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",a,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",a,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",a,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",a,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new n(t[0],t[1],t[2],t[3]),e)),{}),l=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});e.exports={names:u,codes:l}},87220:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764),i=r(24413);function s(e,t){if(!t)throw new Error("requires an encoded buffer");const r=a(e),i=n.from(r.code);return function(e,t){a(e).decode(t.toString())}(r.name,t),n.concat([i,t])}function a(e){let t;if(i.names[e])t=i.names[e];else{if(!i.codes[e])throw new Error("Unsupported encoding");t=i.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}(t=e.exports=s).encode=function(e,t){const r=a(e);return s(r.name,n.from(r.encode(t)))},t.decode=function(e){n.isBuffer(e)&&(e=e.toString());const t=e.substring(0,1);"string"==typeof(e=e.substring(1,e.length))&&(e=n.from(e));const r=a(t);return n.from(r.decode(e.toString()))},t.isEncoded=function(e){n.isBuffer(e)&&(e=e.toString());if("[object String]"!==Object.prototype.toString.call(e))return!1;const t=e.substring(0,1);try{return a(t).name}catch(e){return!1}},t.names=Object.freeze(Object.keys(i.names)),t.codes=Object.freeze(Object.keys(i.codes))},49256:(e,t)=>{"use strict";t.names=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,md4:212,md5:213,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),t.codes=Object.freeze({0:"identity",17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",212:"md4",213:"md5",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46e3:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),t.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46e3:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},69914:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764),i=r(87220),s=r(94676),a=r(49256);function o(e){t.decode(e)}t.names=a.names,t.codes=a.codes,t.defaultLengths=a.defaultLengths,t.toHexString=function(e){if(!n.isBuffer(e))throw new Error("must be passed a buffer");return e.toString("hex")},t.fromHexString=function(e){return n.from(e,"hex")},t.toB58String=function(e){if(!n.isBuffer(e))throw new Error("must be passed a buffer");return i.encode("base58btc",e).toString().slice(1)},t.fromB58String=function(e){let t=e;return n.isBuffer(e)&&(t=e.toString()),i.decode("z"+t)},t.decode=function(e){if(!n.isBuffer(e))throw new Error("multihash must be a Buffer");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const r=s.decode(e);if(!t.isValidCode(r))throw new Error(`multihash unknown function code: 0x${r.toString(16)}`);e=e.slice(s.decode.bytes);const i=s.decode(e);if(i<0)throw new Error(`multihash invalid length: ${i}`);if((e=e.slice(s.decode.bytes)).length!==i)throw new Error(`multihash length inconsistent: 0x${e.toString("hex")}`);return{code:r,name:a.codes[r],length:i,digest:e}},t.encode=function(e,r,i){if(!e||void 0===r)throw new Error("multihash encode requires at least two args: digest, code");const a=t.coerceCode(r);if(!n.isBuffer(e))throw new Error("digest should be a Buffer");if(null==i&&(i=e.length),i&&e.length!==i)throw new Error("digest length should be equal to specified length.");return n.concat([n.from(s.encode(a)),n.from(s.encode(i)),e])},t.coerceCode=function(e){let r=e;if("string"==typeof e){if(void 0===a.names[e])throw new Error(`Unrecognized hash function named: ${e}`);r=a.names[e]}if("number"!=typeof r)throw new Error(`Hash function code should be a number. Got: ${r}`);if(void 0===a.codes[r]&&!t.isAppCode(r))throw new Error(`Unrecognized function code: ${r}`);return r},t.isAppCode=function(e){return e>0&&e<16},t.isValidCode=function(e){return!!t.isAppCode(e)||!!a.codes[e]},t.validate=o,t.prefix=function(e){return o(e),e.slice(0,2)}},69384:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(1191),s=r(998).toCallback,a={init:i.blake2bInit,update:i.blake2bUpdate,digest:i.blake2bFinal},o={init:i.blake2sInit,update:i.blake2sUpdate,digest:i.blake2sFinal},c=(e,t)=>s((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));e.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=c(t+1,a);for(let t=0;t<32;t++)e[45633+t]=c(t+1,o)}},39554:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(93067),s=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function a(e){if(!s)throw new Error("Please use a browser with webcrypto support");return(t,r)=>{const a=s.digest({name:e},t);if("function"!=typeof a.then)return a.onerror=()=>{r(new Error(`hashing data using ${e}`))},void(a.oncomplete=e=>{r(null,e.target.result)});i(a.then((e=>n.from(new Uint8Array(e)))),r)}}e.exports={sha1:function(e,t){a("SHA-1")(e,t)},sha2256:function(e,t){a("SHA-256")(e,t)},sha2512:function(e,t){a("SHA-512")(e,t)}}},62923:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(194),s=r(77139),a=r(998),o=r(39554),c=a.toCallback,u=a.toBuf,l=a.fromString,f=a.fromNumberTo32BitBuf;e.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:c(u(i.sha3_512)),sha3384:c(u(i.sha3_384)),sha3256:c(u(i.sha3_256)),sha3224:c(u(i.sha3_224)),shake128:c(u(i.shake_128,256)),shake256:c(u(i.shake_256,512)),keccak224:c(u(i.keccak_224)),keccak256:c(u(i.keccak_256)),keccak384:c(u(i.keccak_384)),keccak512:c(u(i.keccak_512)),murmur3128:c(u(l(s.x64.hash128))),murmur332:c(f(l(s.x86.hash32))),addBlake:r(69384),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}},92829:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(69914),s=r(62923);function a(e,t,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");a.digest(e,t,r,((e,s)=>{if(e)return n(e);n(null,i.encode(s,t,r))}))}e.exports=a,a.Buffer=n,a.multihash=i,a.digest=function(e,t,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");let i,s=n;r&&(s=(e,t)=>{if(e)return n(e);n(null,t.slice(0,r))});try{i=a.createHash(t)}catch(e){return s(e)}i(e,s)},a.createHash=function(e){if(e=i.coerceCode(e),!a.functions[e])throw new Error("multihash function "+e+" not yet supported");return a.functions[e]},a.functions={17:s.sha1,18:s.sha2256,19:s.sha2512,20:s.sha3512,21:s.sha3384,22:s.sha3256,23:s.sha3224,24:s.shake128,25:s.shake256,26:s.keccak224,27:s.keccak256,28:s.keccak384,29:s.keccak512,34:s.murmur3128,35:s.murmur332,86:s.dblSha2256},s.addBlake(a.functions)},998:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(41942);t.toCallback=e=>function(t,r){const n=(e,t)=>i((()=>{r(e,t)}));let s;try{s=e(t)}catch(e){return void n(e)}n(null,s)},t.toBuf=(e,t)=>r=>{let i=e(r,t);return n.from(i,"hex")},t.fromString=(e,t)=>r=>{const i=n.isBuffer(r)?r.toString():r;return e(i,t)},t.fromNumberTo32BitBuf=(e,t)=>r=>{let i=e(r,t);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return n.from(s)}},9922:(e,t,r)=>{var n=r(73965);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.aes.Algorithm(e,t)}))}r(57095),r(77499),r(30152),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},n.aes.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},n.aes.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){l||f();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return h(r._w,e,t,!1)},decrypt:function(e,t){return h(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var s=t.length();if(16===s||24===s||32===s){s>>>=2;for(i=0;i<s;++i)r.push(t.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,o=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=d(r,e.decrypt&&!o),this._init=!0}},n.aes._expandKey=function(e,t){return l||f(),d(e,t)},n.aes._updateBlock=h,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var s,a,o,c,u,l=!1;function f(){l=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;s=new Array(256),a=new Array(256),c=new Array(4),u=new Array(4);for(t=0;t<4;++t)c[t]=new Array(256),u[t]=new Array(256);var r,n,i,f,d,h,p,g=0,m=0;for(t=0;t<256;++t){f=(f=m^m<<1^m<<2^m<<3^m<<4)>>8^255&f^99,s[g]=f,a[f]=g,h=(d=e[f])<<24^f<<16^f<<8^f^d,p=((r=e[g])^(n=e[r])^(i=e[n]))<<24^(g^i)<<16^(g^n^i)<<8^g^r^i;for(var b=0;b<4;++b)c[b][g]=h,u[b][f]=p,h=h<<24|h>>>8,p=p<<24|p>>>8;0===g?g=m=1:(g=r^e[e[e[r^i]]],m^=e[e[m]])}}function d(e,t){for(var r,n=e.slice(0),i=1,a=n.length,c=4*(a+6+1),l=a;l<c;++l)r=n[l-1],l%a==0?(r=s[r>>>16&255]<<24^s[r>>>8&255]<<16^s[255&r]<<8^s[r>>>24]^o[i]<<24,i++):a>6&&l%a==4&&(r=s[r>>>24]<<24^s[r>>>16&255]<<16^s[r>>>8&255]<<8^s[255&r]),n[l]=n[l-a]^r;if(t){for(var f,d=u[0],h=u[1],p=u[2],g=u[3],m=n.slice(0),b=(l=0,(c=n.length)-4);l<c;l+=4,b-=4)if(0===l||l===c-4)m[l]=n[b],m[l+1]=n[b+3],m[l+2]=n[b+2],m[l+3]=n[b+1];else for(var y=0;y<4;++y)f=n[b+y],m[l+(3&-y)]=d[s[f>>>24]]^h[s[f>>>16&255]]^p[s[f>>>8&255]]^g[s[255&f]];n=m}return n}function h(e,t,r,n){var i,o,l,f,d,h,p,g,m,b,y,v,k=e.length/4-1;n?(i=u[0],o=u[1],l=u[2],f=u[3],d=a):(i=c[0],o=c[1],l=c[2],f=c[3],d=s),h=t[0]^e[0],p=t[n?3:1]^e[1],g=t[2]^e[2],m=t[n?1:3]^e[3];for(var S=3,E=1;E<k;++E)b=i[h>>>24]^o[p>>>16&255]^l[g>>>8&255]^f[255&m]^e[++S],y=i[p>>>24]^o[g>>>16&255]^l[m>>>8&255]^f[255&h]^e[++S],v=i[g>>>24]^o[m>>>16&255]^l[h>>>8&255]^f[255&p]^e[++S],m=i[m>>>24]^o[h>>>16&255]^l[p>>>8&255]^f[255&g]^e[++S],h=b,p=y,g=v;r[0]=d[h>>>24]<<24^d[p>>>16&255]<<16^d[g>>>8&255]<<8^d[255&m]^e[++S],r[n?3:1]=d[p>>>24]<<24^d[g>>>16&255]<<16^d[m>>>8&255]<<8^d[255&h]^e[++S],r[2]=d[g>>>24]<<24^d[m>>>16&255]<<16^d[h>>>8&255]<<8^d[255&p]^e[++S],r[n?1:3]=d[m>>>24]<<24^d[h>>>16&255]<<16^d[p>>>8&255]<<8^d[255&g]^e[++S]}function p(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=e,i.call(t,r)},t}},79515:(e,t,r)=>{var n=r(73965);r(9922),r(55567);var i=e.exports=n.tls;function s(e,t,r){var s=t.entity===n.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",s?r.keys.server_write_key:r.keys.client_write_key),iv:s?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",s?r.keys.client_write_key:r.keys.server_write_key),iv:s?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=u,e.write.cipherFunction=a,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=i.hmac_sha1}function a(e,t){var r,s=!1,a=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(a),t.updateSequenceNumber(),r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:n.random.getBytesSync(16),t.cipherState.init=!0;var c=t.cipherState.cipher;return c.start({iv:r}),e.version.minor>=i.Versions.TLS_1_1.minor&&c.output.putBytes(r),c.update(e.fragment),c.finish(o)&&(e.fragment=c.output,e.length=e.fragment.length(),s=!0),s}function o(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function c(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:s},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:s};function u(e,t){var r,s=!1;r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var a=t.cipherState.cipher;a.start({iv:r}),a.update(e.fragment),s=a.finish(c);var o=t.macLength,u=n.random.getBytesSync(o),l=a.output.length();l>=o?(e.fragment=a.output.getBytes(l-o),u=a.output.getBytes(o)):e.fragment=a.output.getBytes(),e.fragment=n.util.createBuffer(e.fragment),e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),s=function(e,t,r){var i=n.hmac.create();return i.start("SHA1",e),i.update(t),t=i.digest().getBytes(),i.start(null,null),i.update(r),r=i.digest().getBytes(),t===r}(t.macKey,u,f)&&s}},39661:(e,t,r)=>{var n=r(73965);r(30152),r(21186);var i=e.exports=n.asn1=n.asn1||{};function s(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,r,s,a){if(n.util.isArray(s)){for(var o=[],c=0;c<s.length;++c)void 0!==s[c]&&o.push(s[c]);s=o}var u={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(s),value:s};return a&&"bitStringContents"in a&&(u.bitStringContents=a.bitStringContents,u.original=i.copy(u)),u},i.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var s=0;s<e.length;++s)r.push(i.copy(e[s],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},i.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var s=0;s<e.length;++s)if(!i.equals(e[s],t[s]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},i.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};function a(e,t,r,n){var o;s(e,t,2);var c=e.getByte();t--;var u=192&c,l=31&c;o=e.length();var f,d,h=function(e,t){var r=e.getByte();if(t--,128!==r){var n;if(128&r){var i=127&r;s(e,t,i),n=e.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(e,t);if(t-=o-e.length(),void 0!==h&&h>t){if(n.strict){var p=new Error("Too few bytes to read ASN.1 value.");throw p.available=e.length(),p.remaining=t,p.requested=h,p}h=t}var g=32==(32&c);if(g)if(f=[],void 0===h)for(;;){if(s(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}o=e.length(),f.push(a(e,t,r+1,n)),t-=o-e.length()}else for(;h>0;)o=e.length(),f.push(a(e,h,r+1,n)),t-=o-e.length(),h-=o-e.length();if(void 0===f&&u===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&(d=e.bytes(h)),void 0===f&&n.decodeBitStrings&&u===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&h>1){var m=e.read,b=t,y=0;if(l===i.Type.BITSTRING&&(s(e,t,1),y=e.getByte(),t--),0===y)try{o=e.length();var v=a(e,t,r+1,{verbose:n.verbose,strict:!0,decodeBitStrings:!0}),k=o-e.length();t-=k,l==i.Type.BITSTRING&&k++;var S=v.tagClass;k!==h||S!==i.Class.UNIVERSAL&&S!==i.Class.CONTEXT_SPECIFIC||(f=[v])}catch(e){}void 0===f&&(e.read=m,t=b)}if(void 0===f){if(void 0===h){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");h=t}if(l===i.Type.BMPSTRING)for(f="";h>0;h-=2)s(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(h)}var E=void 0===d?null:{bitStringContents:d};return i.create(u,l,g,f,E)}i.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),a(e,e.length(),0,t)},i.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,s=n.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=i.equals(e,e.original))),a)s.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:s.putByte(0);for(var o=0;o<e.value.length;++o)void 0!==e.value[o]&&s.putBuffer(i.toDer(e.value[o]))}else if(e.type===i.Type.BMPSTRING)for(o=0;o<e.value.length;++o)s.putInt16(e.value.charCodeAt(o));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?s.putBytes(e.value.substr(1)):s.putBytes(e.value);if(t.putByte(r),s.length()<=127)t.putByte(127&s.length());else{var c=s.length(),u="";do{u+=String.fromCharCode(255&c),c>>>=8}while(c>0);t.putByte(128|u.length);for(o=u.length-1;o>=0;--o)t.putByte(u.charCodeAt(o))}return t.putBuffer(s),t},i.oidToDer=function(e){var t,r,i,s,a=e.split("."),o=n.util.createBuffer();o.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var c=2;c<a.length;++c){t=!0,r=[],i=parseInt(a[c],10);do{s=127&i,i>>>=7,t||(s|=128),r.push(s),t=!1}while(i>0);for(var u=r.length-1;u>=0;--u)o.putByte(r[u])}return o},i.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var i=0;e.length()>0;)i<<=7,128&(r=e.getByte())?i+=127&r:(t+="."+(i+r),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var c=e.charAt(10),u=10;"+"!==c&&"-"!==c&&(o=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,0),u&&("+"===(c=e.charAt(u))||"-"===c)){var l=60*parseInt(e.substr(u+1,2),10)+parseInt(e.substr(u+4,2),10);l*=6e4,"+"===c?t.setTime(+t-l):t.setTime(+t+l)}return t},i.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),c=0,u=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var f=e.length-5,d=e.charAt(f);"+"!==d&&"-"!==d||(u=60*parseInt(e.substr(f+1,2),10)+parseInt(e.substr(f+4,2),10),u*=6e4,"+"===d&&(u*=-1),l=!0);return"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,o,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,o,c)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},i.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,r,s){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)s&&(e.tagClass!==t.tagClass&&s.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&s.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&n.util.isArray(t.value))for(var o=0,c=0;a&&c<t.value.length;++c)a=t.value[c].optional||!1,e.value[o]&&((a=i.validate(e.value[o],t.value[c],r,s))?++o:t.value[c].optional&&(a=!0)),!a&&s&&s.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r)if(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else s&&s.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var o=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,r){var s="";r=r||2,(t=t||0)>0&&(s+="\n");for(var a="",c=0;c<t*r;++c)a+=" ";switch(s+=a+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:s+="Universal:";break;case i.Class.APPLICATION:s+="Application:";break;case i.Class.CONTEXT_SPECIFIC:s+="Context-Specific:";break;case i.Class.PRIVATE:s+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(s+=e.type,e.type){case i.Type.NONE:s+=" (None)";break;case i.Type.BOOLEAN:s+=" (Boolean)";break;case i.Type.INTEGER:s+=" (Integer)";break;case i.Type.BITSTRING:s+=" (Bit string)";break;case i.Type.OCTETSTRING:s+=" (Octet string)";break;case i.Type.NULL:s+=" (Null)";break;case i.Type.OID:s+=" (Object Identifier)";break;case i.Type.ODESC:s+=" (Object Descriptor)";break;case i.Type.EXTERNAL:s+=" (External or Instance of)";break;case i.Type.REAL:s+=" (Real)";break;case i.Type.ENUMERATED:s+=" (Enumerated)";break;case i.Type.EMBEDDED:s+=" (Embedded PDV)";break;case i.Type.UTF8:s+=" (UTF8)";break;case i.Type.ROID:s+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:s+=" (Sequence)";break;case i.Type.SET:s+=" (Set)";break;case i.Type.PRINTABLESTRING:s+=" (Printable String)";break;case i.Type.IA5String:s+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:s+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:s+=" (Generalized time)";break;case i.Type.BMPSTRING:s+=" (BMP String)"}else s+=e.type;if(s+="\n",s+=a+"Constructed: "+e.constructed+"\n",e.composed){var u=0,l="";for(c=0;c<e.value.length;++c)void 0!==e.value[c]&&(u+=1,l+=i.prettyPrint(e.value[c],t+1,r),c+1<e.value.length&&(l+=","));s+=a+"Sub values: "+u+l}else{if(s+=a+"Value: ",e.type===i.Type.OID){var f=i.derToOid(e.value);s+=f,n.pki&&n.pki.oids&&f in n.pki.oids&&(s+=" ("+n.pki.oids[f]+") ")}if(e.type===i.Type.INTEGER)try{s+=i.derToInteger(e.value)}catch(t){s+="0x"+n.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?s+="0x"+n.util.bytesToHex(e.value.slice(1)):s+="(none)",e.value.length>0){var d=e.value.charCodeAt(0);1==d?s+=" (1 unused bit shown)":d>1&&(s+=" ("+d+" unused bits shown)")}}else e.type===i.Type.OCTETSTRING?(o.test(e.value)||(s+="("+e.value+") "),s+="0x"+n.util.bytesToHex(e.value)):e.type===i.Type.UTF8?s+=n.util.decodeUtf8(e.value):e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?s+=e.value:o.test(e.value)?s+="0x"+n.util.bytesToHex(e.value):0===e.value.length?s+="[null]":s+=e.value}return s}},29480:(e,t,r)=>{var n=r(48764).Buffer,i={};e.exports=i;var s={};i.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,s=t.length,a=t.charAt(0),o=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<o.length;++c)u+=o[c]<<8,o[c]=u%s,u=u/s|0;for(;u>0;)o.push(u%s),u=u/s|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=o.length-1;i>=0;--i)n+=t[o[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,o=e.at(r);a<s.length;++a)o+=s[a]<<8,s[a]=o%n,o=o/n|0;for(;o>0;)s.push(o%n),o=o/n|0}var c="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},i.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var r=s[t];if(!r){r=s[t]=[];for(var i=0;i<t.length;++i)r[t.charCodeAt(i)]=i}e=e.replace(/\s/g,"");var a=t.length,o=t.charAt(0),c=[0];for(i=0;i<e.length;i++){var u=r[e.charCodeAt(i)];if(void 0===u)return;for(var l=0,f=u;l<c.length;++l)f+=c[l]*a,c[l]=255&f,f>>=8;for(;f>0;)c.push(255&f),f>>=8}for(var d=0;e[d]===o&&d<e.length-1;++d)c.push(0);return void 0!==n?n.from(c.reverse()):new Uint8Array(c.reverse())}},57095:(e,t,r)=>{var n=r(73965);r(30152),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},77499:(e,t,r)=>{var n=r(73965);r(30152),n.cipher=n.cipher||{};var i=e.exports=n.cipher.modes=n.cipher.modes||{};function s(e){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var t=e;e=n.util.createBuffer();for(var r=0;r<t.length;++r)e.putByte(t[r])}return n.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function o(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=o(8*t.length());var s=t.length()%this.blockSize;for(s&&t.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0===s||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(o(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var s=[];this.cipher.encrypt(this._j0,s);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^s[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var o=[0,0,0,0],c=(n-1-a%n)*t;o[a/n|0]=1<<t-1<<c,s[a]=this.generateSubHashTable(this.multiply(o,e),t)}return s},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var o=i[s],c=i[a];i[s+a]=[o[0]^c[0],o[1]^c[1],o[2]^c[2],o[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i}},3027:(e,t,r)=>{var n=r(73965);e.exports=n.debug=n.debug||{},n.debug.storage={},n.debug.get=function(e,t){var r;return void 0===e?r=n.debug.storage:e in n.debug.storage&&(r=void 0===t?n.debug.storage[e]:n.debug.storage[e][t]),r},n.debug.set=function(e,t,r){e in n.debug.storage||(n.debug.storage[e]={}),n.debug.storage[e][t]=r},n.debug.clear=function(e,t){void 0===e?n.debug.storage={}:e in n.debug.storage&&(void 0===t?delete n.debug.storage[e]:delete n.debug.storage[e][t])}},17535:(e,t,r)=>{var n=r(73965);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.des.Algorithm(e,t)}))}r(57095),r(77499),r(30152),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var i=p({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return h(r._keys,e,t,!1)},decrypt:function(e,t){return h(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,b=[],y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,k=0;k<m;k++){var S=e.getInt32(),E=e.getInt32();S^=(t=252645135&(S>>>4^E))<<4,S^=t=65535&((E^=t)>>>-16^S),S^=(t=858993459&(S>>>2^(E^=t<<-16)))<<2,S^=t=65535&((E^=t)>>>-16^S),S^=(t=1431655765&(S>>>1^(E^=t<<-16)))<<1,S^=t=16711935&((E^=t)>>>8^S),t=(S^=(t=1431655765&(S>>>1^(E^=t<<8)))<<1)<<8|(E^=t)>>>20&240,S=E<<24|E<<8&16711680|E>>>8&65280|E>>>24&240,E=t;for(var w=0;w<y.length;++w){y[w]?(S=S<<2|S>>>26,E=E<<2|E>>>26):(S=S<<1|S>>>27,E=E<<1|E>>>27),E&=-15;var C=r[(S&=-15)>>>28]|n[S>>>24&15]|i[S>>>20&15]|s[S>>>16&15]|a[S>>>12&15]|o[S>>>8&15]|c[S>>>4&15],A=u[E>>>28]|l[E>>>24&15]|f[E>>>20&15]|d[E>>>16&15]|h[E>>>12&15]|p[E>>>8&15]|g[E>>>4&15];t=65535&(A>>>16^C),b[v++]=C^t,b[v++]=A^t<<16}}return b}(t),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(e,t,r,n){var i,h,p=32===e.length?3:9;i=3===p?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],m=t[1];g^=(h=252645135&(g>>>4^m))<<4,g^=(h=65535&(g>>>16^(m^=h)))<<16,g^=h=858993459&((m^=h)>>>2^g),g^=h=16711935&((m^=h<<2)>>>8^g),g=(g^=(h=1431655765&(g>>>1^(m^=h<<8)))<<1)<<1|g>>>31,m=(m^=h)<<1|m>>>31;for(var b=0;b<p;b+=3){for(var y=i[b+1],v=i[b+2],k=i[b];k!=y;k+=v){var S=m^e[k],E=(m>>>4|m<<28)^e[k+1];h=g,g=m,m=h^(a[S>>>24&63]|c[S>>>16&63]|l[S>>>8&63]|d[63&S]|s[E>>>24&63]|o[E>>>16&63]|u[E>>>8&63]|f[63&E])}h=g,g=m,m=h}m=m>>>1|m<<31,m^=h=1431655765&((g=g>>>1|g<<31)>>>1^m),m^=(h=16711935&(m>>>8^(g^=h<<1)))<<8,m^=(h=858993459&(m>>>2^(g^=h)))<<2,m^=h=65535&((g^=h)>>>16^m),m^=h=252645135&((g^=h<<16)>>>4^m),g^=h<<4,r[0]=g,r[1]=m}function p(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var s=null;r instanceof n.util.ByteBuffer&&(s=r,r={}),(r=r||{}).output=s,r.iv=e,i.call(t,r)},t}},71861:(e,t,r)=>{var n=r(48764).Buffer,i=r(73965);if(r(31074),r(42173),r(55507),r(30152),void 0===s)var s=i.jsbn.BigInteger;var a=i.util.ByteBuffer,o=void 0===n?Uint8Array:n;i.pki=i.pki||{},e.exports=i.pki.ed25519=i.ed25519=i.ed25519||{};var c=i.ed25519;function u(e){var t=e.message;if(t instanceof Uint8Array)return t;var r=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),r="binary"}if("string"==typeof t&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if(void 0!==n)return new n(t,r);t=new a(t,r)}else if(!(t instanceof a))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new o(t.length()),s=0;s<i.length;++s)i[s]=t.at(s);return i}c.constants={},c.constants.PUBLIC_KEY_BYTE_LENGTH=32,c.constants.PRIVATE_KEY_BYTE_LENGTH=64,c.constants.SEED_BYTE_LENGTH=32,c.constants.SIGN_BYTE_LENGTH=64,c.constants.HASH_BYTE_LENGTH=64,c.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=i.random.getBytesSync(c.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==c.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+c.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=u({message:t,encoding:"binary"});for(var r=new o(c.constants.PUBLIC_KEY_BYTE_LENGTH),n=new o(c.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return function(e,t){var r,n=[x(),x(),x(),x()],i=y(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,B(n,i),w(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,n),{publicKey:r,privateKey:n}},c.publicKeyFromPrivateKey=function(e){var t=u({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new o(c.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},c.sign=function(e){var t=u(e=e||{}),r=u({message:e.privateKey,encoding:"binary"});if(r.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new o(c.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var i,s,a=new Float64Array(64),o=[x(),x(),x(),x()],c=y(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var l=y(e.subarray(32),r+32);for(k(l),B(o,l),w(e,o),i=32;i<64;++i)e[i]=n[i];var f=y(e,r+64);for(k(f),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=l[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=f[i]*c[s];v(e.subarray(32),a)}(n,t,t.length,r);for(var i=new o(c.constants.SIGN_BYTE_LENGTH),s=0;s<i.length;++s)i[s]=n[s];return i},c.verify=function(e){var t=u(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=u({message:e.signature,encoding:"binary"});if(r.length!==c.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+c.constants.SIGN_BYTE_LENGTH);var n=u({message:e.publicKey,encoding:"binary"});if(n.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+c.constants.PUBLIC_KEY_BYTE_LENGTH);var i,s=new o(c.constants.SIGN_BYTE_LENGTH+t.length),a=new o(c.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<c.constants.SIGN_BYTE_LENGTH;++i)s[i]=r[i];for(i=0;i<t.length;++i)s[i+c.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,r,n){var i,s=new o(32),a=[x(),x(),x(),x()],c=[x(),x(),x(),x()];if(-1,r<64)return-1;if(function(e,t){var r=x(),n=x(),i=x(),s=x(),a=x(),o=x(),c=x();N(e[2],f),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),D(i,e[1]),O(s,i,d),M(i,i,e[2]),L(s,e[2],s),D(a,s),D(o,a),O(c,o,a),O(r,c,i),O(r,r,s),function(e,t){var r,n=x();for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)D(n,n),1!==r&&O(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(r,r),O(r,r,i),O(r,r,s),O(r,r,s),O(e[0],r,s),D(n,e[0]),O(n,n,s),A(n,i)&&O(e[0],e[0],b);if(D(n,e[0]),O(n,n,s),A(n,i))return-1;T(e[0])===t[31]>>7&&M(e[0],l,e[0]);return O(e[3],e[0],e[1]),0}(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=y(e,r);if(k(u),_(a,c,u),B(c,t.subarray(32)),S(a,c),w(s,a),r-=64,I(t,0,s,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return r}(a,s,s.length,n)>=0};var l=x(),f=x([1]),d=x([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=x([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=x([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=x([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),b=x([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(e,t){var r=i.md.sha512.create(),s=new a(e);r.update(s.getBytes(t),"binary");var u=r.digest().getBytes();if(void 0!==n)return new n(u,"binary");for(var l=new o(c.constants.HASH_BYTE_LENGTH),f=0;f<64;++f)l[f]=u.charCodeAt(f);return l}function v(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*m[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*m[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*m[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function k(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;v(e,t)}function S(e,t){var r=x(),n=x(),i=x(),s=x(),a=x(),o=x(),c=x(),u=x(),l=x();M(r,e[1],e[0]),M(l,t[1],t[0]),O(r,r,l),L(n,e[0],e[1]),L(l,t[0],t[1]),O(n,n,l),O(i,e[3],t[3]),O(i,i,h),O(s,e[2],t[2]),L(s,s,s),M(a,n,r),M(o,s,i),L(c,s,i),L(u,n,r),O(e[0],a,o),O(e[1],u,c),O(e[2],c,o),O(e[3],a,u)}function E(e,t,r){for(var n=0;n<4;++n)P(e[n],t[n],r)}function w(e,t){var r=x(),n=x(),i=x();!function(e,t){var r,n=x();for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)D(n,n),2!==r&&4!==r&&O(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(i,t[2]),O(r,t[0],i),O(n,t[1],i),C(e,n),e[31]^=T(r)<<7}function C(e,t){var r,n,i,s=x(),a=x();for(r=0;r<16;++r)a[r]=t[r];for(R(a),R(a),R(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,P(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function A(e,t){var r=new o(32),n=new o(32);return C(r,e),C(n,t),I(r,0,n,0)}function I(e,t,r,n){return function(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}(e,t,r,n,32)}function T(e){var t=new o(32);return C(t,e),1&t[0]}function _(e,t,r){var n,i;for(N(e[0],l),N(e[1],f),N(e[2],f),N(e[3],l),i=255;i>=0;--i)E(e,t,n=r[i/8|0]>>(7&i)&1),S(t,e),S(e,e),E(e,t,n)}function B(e,t){var r=[x(),x(),x(),x()];N(r[0],p),N(r[1],g),N(r[2],f),O(r[3],p,g),_(e,r,t)}function N(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function R(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function x(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function L(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function M(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function D(e,t){O(e,t,t)}function O(e,t,r){var n,i,s=0,a=0,o=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,g=0,m=0,b=0,y=0,v=0,k=0,S=0,E=0,w=0,C=0,A=0,I=0,T=0,_=0,B=0,N=0,R=0,P=0,x=0,L=0,M=0,D=r[0],O=r[1],U=r[2],K=r[3],V=r[4],q=r[5],j=r[6],F=r[7],z=r[8],J=r[9],H=r[10],G=r[11],Y=r[12],Q=r[13],X=r[14],Z=r[15];s+=(n=t[0])*D,a+=n*O,o+=n*U,c+=n*K,u+=n*V,l+=n*q,f+=n*j,d+=n*F,h+=n*z,p+=n*J,g+=n*H,m+=n*G,b+=n*Y,y+=n*Q,v+=n*X,k+=n*Z,a+=(n=t[1])*D,o+=n*O,c+=n*U,u+=n*K,l+=n*V,f+=n*q,d+=n*j,h+=n*F,p+=n*z,g+=n*J,m+=n*H,b+=n*G,y+=n*Y,v+=n*Q,k+=n*X,S+=n*Z,o+=(n=t[2])*D,c+=n*O,u+=n*U,l+=n*K,f+=n*V,d+=n*q,h+=n*j,p+=n*F,g+=n*z,m+=n*J,b+=n*H,y+=n*G,v+=n*Y,k+=n*Q,S+=n*X,E+=n*Z,c+=(n=t[3])*D,u+=n*O,l+=n*U,f+=n*K,d+=n*V,h+=n*q,p+=n*j,g+=n*F,m+=n*z,b+=n*J,y+=n*H,v+=n*G,k+=n*Y,S+=n*Q,E+=n*X,w+=n*Z,u+=(n=t[4])*D,l+=n*O,f+=n*U,d+=n*K,h+=n*V,p+=n*q,g+=n*j,m+=n*F,b+=n*z,y+=n*J,v+=n*H,k+=n*G,S+=n*Y,E+=n*Q,w+=n*X,C+=n*Z,l+=(n=t[5])*D,f+=n*O,d+=n*U,h+=n*K,p+=n*V,g+=n*q,m+=n*j,b+=n*F,y+=n*z,v+=n*J,k+=n*H,S+=n*G,E+=n*Y,w+=n*Q,C+=n*X,A+=n*Z,f+=(n=t[6])*D,d+=n*O,h+=n*U,p+=n*K,g+=n*V,m+=n*q,b+=n*j,y+=n*F,v+=n*z,k+=n*J,S+=n*H,E+=n*G,w+=n*Y,C+=n*Q,A+=n*X,I+=n*Z,d+=(n=t[7])*D,h+=n*O,p+=n*U,g+=n*K,m+=n*V,b+=n*q,y+=n*j,v+=n*F,k+=n*z,S+=n*J,E+=n*H,w+=n*G,C+=n*Y,A+=n*Q,I+=n*X,T+=n*Z,h+=(n=t[8])*D,p+=n*O,g+=n*U,m+=n*K,b+=n*V,y+=n*q,v+=n*j,k+=n*F,S+=n*z,E+=n*J,w+=n*H,C+=n*G,A+=n*Y,I+=n*Q,T+=n*X,_+=n*Z,p+=(n=t[9])*D,g+=n*O,m+=n*U,b+=n*K,y+=n*V,v+=n*q,k+=n*j,S+=n*F,E+=n*z,w+=n*J,C+=n*H,A+=n*G,I+=n*Y,T+=n*Q,_+=n*X,B+=n*Z,g+=(n=t[10])*D,m+=n*O,b+=n*U,y+=n*K,v+=n*V,k+=n*q,S+=n*j,E+=n*F,w+=n*z,C+=n*J,A+=n*H,I+=n*G,T+=n*Y,_+=n*Q,B+=n*X,N+=n*Z,m+=(n=t[11])*D,b+=n*O,y+=n*U,v+=n*K,k+=n*V,S+=n*q,E+=n*j,w+=n*F,C+=n*z,A+=n*J,I+=n*H,T+=n*G,_+=n*Y,B+=n*Q,N+=n*X,R+=n*Z,b+=(n=t[12])*D,y+=n*O,v+=n*U,k+=n*K,S+=n*V,E+=n*q,w+=n*j,C+=n*F,A+=n*z,I+=n*J,T+=n*H,_+=n*G,B+=n*Y,N+=n*Q,R+=n*X,P+=n*Z,y+=(n=t[13])*D,v+=n*O,k+=n*U,S+=n*K,E+=n*V,w+=n*q,C+=n*j,A+=n*F,I+=n*z,T+=n*J,_+=n*H,B+=n*G,N+=n*Y,R+=n*Q,P+=n*X,x+=n*Z,v+=(n=t[14])*D,k+=n*O,S+=n*U,E+=n*K,w+=n*V,C+=n*q,A+=n*j,I+=n*F,T+=n*z,_+=n*J,B+=n*H,N+=n*G,R+=n*Y,P+=n*Q,x+=n*X,L+=n*Z,k+=(n=t[15])*D,a+=38*(E+=n*U),o+=38*(w+=n*K),c+=38*(C+=n*V),u+=38*(A+=n*q),l+=38*(I+=n*j),f+=38*(T+=n*F),d+=38*(_+=n*z),h+=38*(B+=n*J),p+=38*(N+=n*H),g+=38*(R+=n*G),m+=38*(P+=n*Y),b+=38*(x+=n*Q),y+=38*(L+=n*X),v+=38*(M+=n*Z),s=(n=(s+=38*(S+=n*O))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=g,e[11]=m,e[12]=b,e[13]=y,e[14]=v,e[15]=k}},73965:e=>{e.exports={options:{usePureJavaScript:!1}}},66976:(e,t,r)=>{var n=r(73965);r(57312),r(30152),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,i=null,s={start:function(s,a){if(null!==s)if("string"==typeof s){if(!((s=s.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+s+'"');t=n.md.algorithms[s].create()}else t=s;if(null===a)a=e;else{if("string"==typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){var o=a;a=n.util.createBuffer();for(var c=0;c<o.length;++c)a.putByte(o[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),u=a.length();for(c=0;c<u;++c){o=a.at(c);r.putByte(54^o),i.putByte(92^o)}if(u<t.blockLength)for(o=t.blockLength-u,c=0;c<o;++c)r.putByte(54),i.putByte(92);e=a,r=r.bytes(),i=i.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return s.digest=s.getMac,s}},8558:(e,t,r)=>{e.exports=r(73965),r(9922),r(79515),r(39661),r(57095),r(3027),r(17535),r(71861),r(66976),r(19875),r(60755),r(5970),r(72752),r(13162),r(78850),r(70174),r(91396),r(68337),r(52518),r(17283),r(99768),r(56823),r(42173),r(32335),r(20315),r(15648),r(55567),r(30152)},31074:(e,t,r)=>{var n,i=r(73965);e.exports=i.jsbn=i.jsbn||{};function s(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new s(null)}function o(e,t,r,n,i,s){for(var a=16383&t,o=t>>14;--s>=0;){var c=16383&this.data[e],u=this.data[e++]>>14,l=o*c+u*a;i=((c=a*c+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+o*u,r.data[n++]=268435455&c}return i}i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=o,n=28):"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(e,t,r,n,i,s){for(var a=32767&t,o=t>>15;--s>=0;){var c=32767&this.data[e],u=this.data[e++]>>15,l=o*c+u*a;i=((c=a*c+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+o*u+(i>>>30),r.data[n++]=1073741823&c}return i},n=30):"Netscape"!=navigator.appName?(s.prototype.am=function(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},n=26):(s.prototype.am=o,n=28),s.prototype.DB=n,s.prototype.DM=(1<<n)-1,s.prototype.DV=1<<n;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-n,s.prototype.F2=2*n-52;var c,u,l=new Array;for(c="0".charCodeAt(0),u=0;u<=9;++u)l[c++]=u;for(c="a".charCodeAt(0),u=10;u<36;++u)l[c++]=u;for(c="A".charCodeAt(0),u=10;u<36;++u)l[c++]=u;function f(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function d(e,t){var r=l[e.charCodeAt(t)];return null==r?-1:r}function h(e){var t=a();return t.fromInt(e),t}function p(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function g(e){this.m=e}function m(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function b(e,t){return e&t}function y(e,t){return e|t}function v(e,t){return e^t}function k(e,t){return e&~t}function S(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function E(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function w(){}function C(e){return e}function A(e){this.r2=a(),this.q3=a(),s.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}g.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},g.prototype.revert=function(e){return e},g.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},g.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},m.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},m.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},s.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var o=8==r?255&e[n]:d(e,n);o<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==a?this.data[this.t++]=o:a+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this.data[this.t++]=o>>this.DB-a):this.data[this.t-1]|=o<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,s=(1<<i)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>i|o,o=(this.data[r]&s)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}},s.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},s.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var o=a(),c=this.s,u=e.s,l=this.DB-p(n.data[n.t-1]);l>0?(n.lShiftTo(l,o),i.lShiftTo(l,r)):(n.copyTo(o),i.copyTo(r));var f=o.t,d=o.data[f-1];if(0!=d){var h=d*(1<<this.F1)+(f>1?o.data[f-2]>>this.F2:0),g=this.FV/h,m=(1<<this.F1)/h,b=1<<this.F2,y=r.t,v=y-f,k=null==t?a():t;for(o.dlShiftTo(v,k),r.compareTo(k)>=0&&(r.data[r.t++]=1,r.subTo(k,r)),s.ONE.dlShiftTo(f,k),k.subTo(o,o);o.t<f;)o.data[o.t++]=0;for(;--v>=0;){var S=r.data[--y]==d?this.DM:Math.floor(r.data[y]*g+(r.data[y-1]+b)*m);if((r.data[y]+=o.am(0,S,r,v,0,f))<S)for(o.dlShiftTo(v,k),r.subTo(k,r);r.data[y]<--S;)r.subTo(k,r)}null!=t&&(r.drShiftTo(f,t),c!=u&&s.ZERO.subTo(t,t)),r.t=f,r.clamp(),l>0&&r.rShiftTo(l,r),c<0&&s.ZERO.subTo(r,r)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},s.prototype.exp=function(e,t){if(e>4294967295||e<1)return s.ONE;var r=a(),n=a(),i=t.convert(this),o=p(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var c=r;r=n,n=c}return t.revert(r)},s.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(r=this.data[a]>>o)>0&&(i=!0,s=f(r));a>=0;)o<t?(r=(this.data[a]&(1<<o)-1)<<t-o,r|=this.data[--a]>>(o+=this.DB-t)):(r=this.data[a]>>(o-=t)&n,o<=0&&(o+=this.DB,--a)),r>0&&(i=!0),i&&(s+=f(r));return i?s:"0"},s.prototype.negate=function(){var e=a();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this.data[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new g(t):new m(t),this.exp(e,r)},s.ZERO=h(0),s.ONE=h(1),w.prototype.convert=C,w.prototype.revert=C,w.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},w.prototype.sqrTo=function(e,t){e.squareTo(t)},A.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},A.prototype.revert=function(e){return e},A.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},A.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},A.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var I=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],T=(1<<26)/I[I.length-1];s.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},s.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=h(r),i=a(),s=a(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},s.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,o=0,c=0;c<e.length;++c){var u=d(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(o=t*o+u,++a>=r&&(this.dMultiply(n),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(s.ONE.shiftLeft(e-1),y,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(s.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},s.prototype.bitwiseTo=function(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},s.prototype.changeBit=function(e,t){var r=s.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},s.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},s.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},s.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},s.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},s.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},s.prototype.millerRabin=function(e){var t=this.subtract(s.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},o=0;o<e;++o){do{n=new s(this.bitLength(),a)}while(n.compareTo(s.ONE)<=0||n.compareTo(t)>=0);var c=n.modPow(i,this);if(0!=c.compareTo(s.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<r&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},s.prototype.clone=function(){var e=a();return this.copyTo(e),e},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},s.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},s.prototype.equals=function(e){return 0==this.compareTo(e)},s.prototype.min=function(e){return this.compareTo(e)<0?this:e},s.prototype.max=function(e){return this.compareTo(e)>0?this:e},s.prototype.and=function(e){var t=a();return this.bitwiseTo(e,b,t),t},s.prototype.or=function(e){var t=a();return this.bitwiseTo(e,y,t),t},s.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,v,t),t},s.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,k,t),t},s.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},s.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},s.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},s.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+S(this.data[e]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=E(this.data[r]^t);return e},s.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},s.prototype.setBit=function(e){return this.changeBit(e,y)},s.prototype.clearBit=function(e){return this.changeBit(e,k)},s.prototype.flipBit=function(e){return this.changeBit(e,v)},s.prototype.add=function(e){var t=a();return this.addTo(e,t),t},s.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},s.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},s.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},s.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},s.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),s=h(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new g(t):t.isEven()?new A(t):new m(t);var o=new Array,c=3,u=r-1,l=(1<<r)-1;if(o[1]=n.convert(this),r>1){var f=a();for(n.sqrTo(o[1],f);c<=l;)o[c]=a(),n.mulTo(f,o[c-2],o[c]),c+=2}var d,b,y=e.t-1,v=!0,k=a();for(i=p(e.data[y])-1;y>=0;){for(i>=u?d=e.data[y]>>i-u&l:(d=(e.data[y]&(1<<i+1)-1)<<u-i,y>0&&(d|=e.data[y-1]>>this.DB+i-u)),c=r;0==(1&d);)d>>=1,--c;if((i-=c)<0&&(i+=this.DB,--y),v)o[d].copyTo(s),v=!1;else{for(;c>1;)n.sqrTo(s,k),n.sqrTo(k,s),c-=2;c>0?n.sqrTo(s,k):(b=s,s=k,k=b),n.mulTo(k,o[d],s)}for(;y>=0&&0==(e.data[y]&1<<i);)n.sqrTo(s,k),b=s,s=k,k=b,--i<0&&(i=this.DB-1,--y)}return n.revert(s)},s.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return s.ZERO;for(var r=e.clone(),n=this.clone(),i=h(1),a=h(0),o=h(0),c=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&c.isEven()||(o.addTo(this,o),c.subTo(e,c)),o.rShiftTo(1,o)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),a.subTo(c,a)):(n.subTo(r,n),t&&o.subTo(i,o),c.subTo(a,c))}return 0!=n.compareTo(s.ONE)?s.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},s.prototype.pow=function(e){return this.exp(e,new w)},s.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},s.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=I[I.length-1]){for(t=0;t<I.length;++t)if(r.data[0]==I[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<I.length;){for(var n=I[t],i=t+1;i<I.length&&n<T;)n*=I[i++];for(n=r.modInt(n);t<i;)if(n%I[t++]==0)return!1}return r.millerRabin(e)}},19875:(e,t,r)=>{var n=r(73965);r(30152),r(42173),r(31074),e.exports=n.kem=n.kem||{};var i=n.jsbn.BigInteger;function s(e,t,r,i){e.generate=function(e,s){for(var a=new n.util.ByteBuffer,o=Math.ceil(s/i)+r,c=new n.util.ByteBuffer,u=r;u<o;++u){c.putInt32(u),t.start(),t.update(e+c.getBytes());var l=t.digest();a.putBytes(l.getBytes(i))}return a.truncate(a.length()-s),a.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||n.random,s={encrypt:function(t,s){var a,o=Math.ceil(t.n.bitLength()/8);do{a=new i(n.util.bytesToHex(r.getBytesSync(o)),16).mod(t.n)}while(a.equals(i.ZERO));var c=o-(a=n.util.hexToBytes(a.toString(16))).length;return c>0&&(a=n.util.fillString(String.fromCharCode(0),c)+a),{encapsulation:t.encrypt(a,"NONE"),key:e.generate(a,s)}},decrypt:function(t,r,n){var i=t.decrypt(r,"NONE");return e.generate(i,n)}};return s},n.kem.kdf1=function(e,t){s(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){s(this,e,1,t||e.digestLength)}},60755:(e,t,r)=>{var n=r(73965);r(30152),e.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},s=[],a=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var o=0;o<n.log.levels.length;++o){var c=n.log.levels[o];i[c]={index:o,name:c.toUpperCase()}}n.log.logMessage=function(e){for(var t=i[e.level].index,r=0;r<s.length;++r){var a=s[r];if(a.flags&n.log.NO_LEVEL_CHECK)a.f(e);else t<=i[a.level].index&&a.f(a,e)}},n.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)},n.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||0),e.full=n.util.format.apply(this,t)}},n.log.prepareStandardFull=function(e){"standardFull"in e||(n.log.prepareStandard(e),e.standardFull=e.standard)};var u=["error","warning","info","debug","verbose"];for(o=0;o<u.length;++o)!function(e){n.log[e]=function(t,r){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:e,category:t,message:r,arguments:i};n.log.logMessage(s)}}(u[o]);if(n.log.makeLogger=function(e){var t={flags:0,f:e};return n.log.setLevel(t,"none"),t},n.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&n.log.LEVEL_LOCKED))for(var i=0;i<n.log.levels.length;++i){if(t==n.log.levels[i]){e.level=t,r=!0;break}}return r},n.log.lock=function(e,t){void 0===t||t?e.flags|=n.log.LEVEL_LOCKED:e.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(e){s.push(e)},"undefined"!=typeof console&&"log"in console){var l;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},d=function(e,t){n.log.prepareStandard(t);var r=f[t.level],i=[t.standard];i=i.concat(t.arguments.slice()),r.apply(console,i)};l=n.log.makeLogger(d)}else{d=function(e,t){n.log.prepareStandardFull(t),console.log(t.standardFull)};l=n.log.makeLogger(d)}n.log.setLevel(l,"debug"),n.log.addLogger(l),a=l}else console={log:function(){}};if(null!==a){var h=n.util.getQueryVariables();if("console.level"in h&&n.log.setLevel(a,h["console.level"].slice(-1)[0]),"console.lock"in h)"true"==h["console.lock"].slice(-1)[0]&&n.log.lock(a)}n.log.consoleLogger=a},5970:(e,t,r)=>{e.exports=r(57312),r(61387),r(73689),r(14425),r(55507)},57312:(e,t,r)=>{var n=r(73965);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},61387:(e,t,r)=>{var n=r(73965);r(57312),r(30152);var i=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=i,i.create=function(){u||function(){s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var e=0;e<64;++e)c[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));u=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),i={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var o=s.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=o[1],o[1]=o[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),l(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var o=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-o));for(var c,u=0,f=i.fullMessageLength.length-1;f>=0;--f)u=(c=8*i.fullMessageLength[f]+u)/4294967296>>>0,a.putInt32Le(c>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};l(d,r,a);var h=n.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},i};var s=null,a=null,o=null,c=null,u=!1;function l(e,t,r){for(var n,i,s,u,l,f,d,h=r.length();h>=64;){for(i=e.h0,s=e.h1,u=e.h2,l=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),n=i+(l^s&(u^l))+c[d]+t[d],i=l,l=u,u=s,s+=n<<(f=o[d])|n>>>32-f;for(;d<32;++d)n=i+(u^l&(s^u))+c[d]+t[a[d]],i=l,l=u,u=s,s+=n<<(f=o[d])|n>>>32-f;for(;d<48;++d)n=i+(s^u^l)+c[d]+t[a[d]],i=l,l=u,u=s,s+=n<<(f=o[d])|n>>>32-f;for(;d<64;++d)n=i+(u^(s|~l))+c[d]+t[a[d]],i=l,l=u,u=s,s+=n<<(f=o[d])|n>>>32-f;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+u|0,e.h3=e.h3+l|0,h-=64}}},86167:(e,t,r)=>{var n=r(73965);r(72752),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},72752:(e,t,r)=>{var n=r(73965);r(30152),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var i=new n.util.ByteBuffer,s=Math.ceil(r/e.digestLength),a=0;a<s;a++){var o=new n.util.ByteBuffer;o.putInt32(a),e.start(),e.update(t+o.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},21186:(e,t,r)=>{var n=r(73965);n.pki=n.pki||{};var i=e.exports=n.pki.oids=n.oids=n.oids||{};function s(e,t){i[e]=t,i[t]=e}function a(e,t){i[e]=t}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.5","serialName"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.16.840.1.113730.1.1","nsCertType"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")},39429:(e,t,r)=>{var n=r(73965);if(r(9922),r(39661),r(17535),r(57312),r(21186),r(13162),r(78850),r(42173),r(32335),r(35221),r(30152),void 0===i)var i=n.jsbn.BigInteger;var s=n.asn1,a=n.pki=n.pki||{};e.exports=a.pbe=n.pbe=n.pbe||{};var o=a.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},u={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(e,t){return e.start().update(t).digest().getBytes()}function d(e){var t;if(e){if(!(t=a.oids[s.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return h(t)}function h(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,c,u,l=n.random.getBytesSync(r.saltSize),f=r.count,d=s.integerToDer(f);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var p,g,m;switch(r.algorithm){case"aes128":i=16,p=16,g=o["aes128-CBC"],m=n.aes.createEncryptionCipher;break;case"aes192":i=24,p=16,g=o["aes192-CBC"],m=n.aes.createEncryptionCipher;break;case"aes256":i=32,p=16,g=o["aes256-CBC"],m=n.aes.createEncryptionCipher;break;case"des":i=8,p=8,g=o.desCBC,m=n.des.createEncryptionCipher;break;default:throw(E=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,E}var b="hmacWith"+r.prfAlgorithm.toUpperCase(),y=h(b),v=n.pkcs5.pbkdf2(t,l,f,i,y),k=n.random.getBytesSync(p);(w=m(v)).start(k),w.update(s.toDer(e)),w.finish(),u=w.output.getBytes();var S=function(e,t,r,i){var o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&o.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids[i]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]));return o}(l,d,i,b);c=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBKDF2).getBytes()),S]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(g).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,k)])])])}else{var E;if("3des"!==r.algorithm)throw(E=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,E;i=24;var w,C=new n.util.ByteBuffer(l);v=a.pbe.generatePkcs12Key(t,C,1,f,i),k=a.pbe.generatePkcs12Key(t,C,2,f,i);(w=n.des.createEncryptionCipher(v)).start(k),w.update(s.toDer(e)),w.finish(),u=w.output.getBytes(),c=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,l),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,d.getBytes())])])}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[c,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,u)])},a.decryptPrivateKeyInfo=function(e,t){var r=null,i={},o=[];if(!s.validate(e,c,i,o)){var u=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=o,u}var l=s.derToOid(i.encryptionOid),f=a.pbe.getCipher(l,i.encryptionParams,t),d=n.util.createBuffer(i.encryptedData);return f.update(d),f.finish()&&(r=s.fromDer(f.output)),r},a.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return i=a.encryptPrivateKeyInfo(i,t,r),a.encryptedPrivateKeyToPem(i)}var o,c,u,l;switch(r.algorithm){case"aes128":o="AES-128-CBC",u=16,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",u=24,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",u=32,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",u=24,c=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;case"des":o="DES-CBC",u=8,c=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var d=l(n.pbe.opensslDeriveBytes(t,c.substr(0,8),u));d.start(c),d.update(s.toDer(a.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:n.util.bytesToHex(c).toUpperCase()},body:d.output.getBytes()};return n.pem.encode(h)},a.decryptRsaPrivateKey=function(e,t){var r=null,i=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(u=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=u,u;if(i.procType&&"ENCRYPTED"===i.procType.type){var o,c;switch(i.dekInfo.algorithm){case"DES-CBC":o=8,c=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,c=n.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,c=n.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,c=n.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,c=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,c=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":o=8,c=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":o=16,c=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var u;throw(u=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,u}var l=n.util.hexToBytes(i.dekInfo.parameters),f=c(n.pbe.opensslDeriveBytes(t,l.substr(0,8),o));if(f.start(l),f.update(n.util.createBuffer(i.body)),!f.finish())return r;r=f.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(s.fromDer(r),t):s.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(e,t,r,i,s,a){var o,c;if(null==a){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');a=n.md.sha1.create()}var u=a.digestLength,l=a.blockLength,f=new n.util.ByteBuffer,d=new n.util.ByteBuffer;if(null!=e){for(c=0;c<e.length;c++)d.putInt16(e.charCodeAt(c));d.putInt16(0)}var h=d.length(),p=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,l);var m=l*Math.ceil(p/l),b=new n.util.ByteBuffer;for(c=0;c<m;c++)b.putByte(t.at(c%p));var y=l*Math.ceil(h/l),v=new n.util.ByteBuffer;for(c=0;c<y;c++)v.putByte(d.at(c%h));var k=b;k.putBuffer(v);for(var S=Math.ceil(s/u),E=1;E<=S;E++){var w=new n.util.ByteBuffer;w.putBytes(g.bytes()),w.putBytes(k.bytes());for(var C=0;C<i;C++)a.start(),a.update(w.getBytes()),w=a.digest();var A=new n.util.ByteBuffer;for(c=0;c<l;c++)A.putByte(w.at(c%u));var I=Math.ceil(p/l)+Math.ceil(h/l),T=new n.util.ByteBuffer;for(o=0;o<I;o++){var _=new n.util.ByteBuffer(k.getBytes(l)),B=511;for(c=A.length()-1;c>=0;c--)B>>=8,B+=A.at(c)+_.at(c),_.setAt(c,255&B);T.putBuffer(_)}k=T,f.putBuffer(w)}return f.truncate(f.length()-s),f},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(e,t,r){var i,o={},c=[];if(!s.validate(t,u,o,c))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=c,i;if((e=s.derToOid(o.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=s.derToOid(o.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var l,f,h=o.kdfSalt,p=n.util.createBuffer(o.kdfIterationCount);switch(p=p.getInt(p.length()<<3),a.oids[e]){case"aes128-CBC":l=16,f=n.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,f=n.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,f=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,f=n.des.createDecryptionCipher;break;case"desCBC":l=8,f=n.des.createDecryptionCipher}var g=d(o.prfOid),m=n.pkcs5.pbkdf2(r,h,p,l,g),b=o.encIv,y=f(m);return y.start(b),y},a.pbe.getCipherForPKCS12PBE=function(e,t,r){var i={},o=[];if(!s.validate(t,l,i,o))throw(g=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o,g;var c,u,f,h=n.util.createBuffer(i.salt),p=n.util.createBuffer(i.iterations);switch(p=p.getInt(p.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=n.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var m=d(i.prfOid),b=a.pbe.generatePkcs12Key(r,h,1,p,c,m);return m.start(),f(b,a.pbe.generatePkcs12Key(r,h,2,p,u,m))},a.pbe.opensslDeriveBytes=function(e,t,r,i){if(null==i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===t&&(t="");for(var s=[f(i,e+t)],a=16,o=1;a<r;++o,a+=16)s.push(f(i,s[o-1]+e+t));return s.join("").substr(0,r)}},13162:(e,t,r)=>{var n=r(48764).Buffer,i=r(73965);r(66976),r(57312),r(30152);var s,a=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(s=r(63906)),e.exports=i.pbkdf2=a.pbkdf2=function(e,t,r,a,o,c){if("function"==typeof o&&(c=o,o=null),i.util.isNodejs&&!i.options.usePureJavaScript&&s.pbkdf2&&(null===o||"object"!=typeof o)&&(s.pbkdf2Sync.length>4||!o||"sha1"===o))return"string"!=typeof o&&(o="sha1"),e=new n(e,"binary"),t=new n(t,"binary"),c?4===s.pbkdf2Sync.length?s.pbkdf2(e,t,r,a,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):s.pbkdf2(e,t,r,a,o,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):4===s.pbkdf2Sync.length?s.pbkdf2Sync(e,t,r,a).toString("binary"):s.pbkdf2Sync(e,t,r,a,o).toString("binary");if(null==o&&(o="sha1"),"string"==typeof o){if(!(o in i.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=i.md[o].create()}var u=o.digestLength;if(a>4294967295*u){var l=new Error("Derived key is too long.");if(c)return c(l);throw l}var f=Math.ceil(a/u),d=a-(f-1)*u,h=i.hmac.create();h.start(o,e);var p,g,m,b="";if(!c){for(var y=1;y<=f;++y){h.start(null,null),h.update(t),h.update(i.util.int32ToBytes(y)),p=m=h.digest().getBytes();for(var v=2;v<=r;++v)h.start(null,null),h.update(m),g=h.digest().getBytes(),p=i.util.xorBytes(p,g,u),m=g;b+=y<f?p:p.substr(0,d)}return b}y=1;function k(){if(y>f)return c(null,b);h.start(null,null),h.update(t),h.update(i.util.int32ToBytes(y)),p=m=h.digest().getBytes(),v=2,S()}function S(){if(v<=r)return h.start(null,null),h.update(m),g=h.digest().getBytes(),p=i.util.xorBytes(p,g,u),m=g,++v,i.util.setImmediate(S);b+=y<f?p:p.substr(0,d),++y,k()}k()}},78850:(e,t,r)=>{var n=r(73965);r(30152);var i=e.exports=n.pem=n.pem||{};function s(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var s=0,a=-1;for(i=0;i<t.length;++i,++s)if(s>65&&-1!==a){var o=t[a];","===o?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+o+t.substr(a+1),s=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function a(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var r,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=s(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=s(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),i+=s(r)),e.headers)for(var a=0;a<e.headers.length;++a)i+=s(e.headers[a]);return e.procType&&(i+="\r\n"),i+=n.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;t=i.exec(e);){var c={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(c),t[2]){for(var u=t[2].split(o),l=0;t&&l<u.length;){for(var f=u[l].replace(/\s+$/,""),d=l+1;d<u.length;++d){var h=u[d];if(!/\s/.test(h[0]))break;f+=h,l=d}if(t=f.match(s)){for(var p={name:t[1],values:[]},g=t[2].split(","),m=0;m<g.length;++m)p.values.push(a(g[m]));if(c.procType)if(c.contentDomain||"Content-Domain"!==p.name)if(c.dekInfo||"DEK-Info"!==p.name)c.headers.push(p);else{if(0===p.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:g[0],parameters:g[1]||null}}else c.contentDomain=g[0]||"";else{if("Proc-Type"!==p.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==p.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:g[0],type:g[1]}}}++l}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},70174:(e,t,r)=>{var n=r(73965);r(30152),r(42173),r(73689);var i=e.exports=n.pkcs1=n.pkcs1||{};function s(e,t,r){r||(r=n.md.sha1.create());for(var i="",s=Math.ceil(t/r.digestLength),a=0;a<s;++a){var o=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(e+o),i+=r.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,r){var i,a,o,c;"string"==typeof r?(i=r,a=arguments[3]||void 0,o=arguments[4]||void 0):r&&(i=r.label||void 0,a=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),o?o.start():o=n.md.sha1.create(),c||(c=o);var u=Math.ceil(e.n.bitLength()/8),l=u-2*o.digestLength-2;if(t.length>l)throw(m=new Error("RSAES-OAEP input message length is too long.")).length=t.length,m.maxLength=l,m;i||(i=""),o.update(i,"raw");for(var f=o.digest(),d="",h=l-t.length,p=0;p<h;p++)d+="\0";var g=f.getBytes()+d+""+t;if(a){if(a.length!==o.digestLength){var m;throw(m=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,m.digestLength=o.digestLength,m}}else a=n.random.getBytes(o.digestLength);var b=s(a,u-o.digestLength-1,c),y=n.util.xorBytes(g,b,g.length),v=s(y,o.digestLength,c),k=n.util.xorBytes(a,v,a.length);return"\0"+k+y},i.decode_rsa_oaep=function(e,t,r){var i,a,o;"string"==typeof r?(i=r,a=arguments[3]||void 0):r&&(i=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var c=Math.ceil(e.n.bitLength()/8);if(t.length!==c)throw(y=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,y.expectedLength=c,y;if(void 0===a?a=n.md.sha1.create():a.start(),o||(o=a),c<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var u=a.digest().getBytes(),l=t.charAt(0),f=t.substring(1,a.digestLength+1),d=t.substring(1+a.digestLength),h=s(d,a.digestLength,o),p=n.util.xorBytes(f,h,f.length),g=s(p,c-a.digestLength-1,o),m=n.util.xorBytes(d,g,d.length),b=m.substring(0,a.digestLength),y="\0"!==l,v=0;v<a.digestLength;++v)y|=u.charAt(v)!==b.charAt(v);for(var k=1,S=a.digestLength,E=a.digestLength;E<m.length;E++){var w=m.charCodeAt(E),C=1&w^1,A=k?65534:0;y|=w&A,S+=k&=C}if(y||1!==m.charCodeAt(S))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(S+1)}},91396:(e,t,r)=>{var n=r(73965);r(39661),r(66976),r(21186),r(18551),r(39429),r(42173),r(35221),r(73689),r(30152),r(17960);var i=n.asn1,s=n.pki,a=e.exports=n.pkcs12=n.pkcs12||{},o={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},o,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},l={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function d(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var o=e[s].safeBags[a];void 0!==n&&o.type!==n||(null!==t?void 0!==o.attributes[t]&&o.attributes[t].indexOf(r)>=0&&i.push(o):i.push(o))}return i}function h(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function p(e,t){var r={},a=[];if(!i.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,a))throw(o=new Error("Cannot read EncryptedContentInfo.")).errors=a,o;var o,c=i.derToOid(r.contentType);if(c!==s.oids.data)throw(o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=c,o;c=i.derToOid(r.encAlgorithm);var u=s.pbe.getCipher(c,r.encParameter,t),l=h(r.encryptedContentAsn1),f=n.util.createBuffer(l.value);if(u.update(f),!u.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return u.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<e.value.length;a++){var o=e.value[a],c={},l=[];if(!i.validate(o,u,c,l))throw(b=new Error("Cannot read SafeBag.")).errors=l,b;var d,h,p={type:i.derToOid(c.bagId),attributes:m(c.bagAttributes)};n.push(p);var g=c.bagValue.value[0];switch(p.type){case s.oids.pkcs8ShroudedKeyBag:if(null===(g=s.decryptPrivateKeyInfo(g,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{p.key=s.privateKeyFromAsn1(g)}catch(e){p.key=null,p.asn1=g}continue;case s.oids.certBag:d=f,h=function(){if(i.derToOid(c.certId)!==s.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(c.certId),e}var r=i.fromDer(c.cert,t);try{p.cert=s.certificateFromAsn1(r,!0)}catch(e){p.cert=null,p.asn1=r}};break;default:var b;throw(b=new Error("Unsupported PKCS#12 SafeBag type.")).oid=p.type,b}if(void 0!==d&&!i.validate(g,d,c,l))throw(b=new Error("Cannot read PKCS#12 "+d.name)).errors=l,b;h()}return n}function m(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},a=[];if(!i.validate(e[r],l,n,a)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=a,o}var c=i.derToOid(n.oid);if(void 0!==s.oids[c]){t[s.oids[c]]=[];for(var u=0;u<n.values.length;++u)t[s.oids[c]].push(n.values[u].value)}}return t}a.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var u={};if(!i.validate(e,c,u,[]))throw(l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=l,l;var l,f={version:u.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=d(f.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=d(f.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=d(f.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return d(f.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return d(f.safeContents,"localKeyId",e,t)}};if(3!==u.version.charCodeAt(0))throw(l=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=u.version.charCodeAt(0),l;if(i.derToOid(u.contentType)!==s.oids.data)throw(l=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(u.contentType),l;var m=u.content.value[0];if(m.tagClass!==i.Class.UNIVERSAL||m.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=h(m),u.mac){var b=null,y=0,v=i.derToOid(u.macAlgorithm);switch(v){case s.oids.sha1:b=n.md.sha1.create(),y=20;break;case s.oids.sha256:b=n.md.sha256.create(),y=32;break;case s.oids.sha384:b=n.md.sha384.create(),y=48;break;case s.oids.sha512:b=n.md.sha512.create(),y=64;break;case s.oids.md5:b=n.md.md5.create(),y=16}if(null===b)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+v);var k=new n.util.ByteBuffer(u.macSalt),S="macIterations"in u?parseInt(n.util.bytesToHex(u.macIterations),16):1,E=a.generateKey(r,k,3,S,y,b),w=n.hmac.create();if(w.start(b,E),w.update(m.value),w.getMac().getBytes()!==u.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,n){if((t=i.fromDer(t,r)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var c=t.value[a],u={},l=[];if(!i.validate(c,o,u,l))throw(b=new Error("Cannot read ContentInfo.")).errors=l,b;var f={encrypted:!1},d=null,m=u.content.value[0];switch(i.derToOid(u.contentType)){case s.oids.data:if(m.tagClass!==i.Class.UNIVERSAL||m.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=h(m).value;break;case s.oids.encryptedData:d=p(m,n),f.encrypted=!0;break;default:var b;throw(b=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(u.contentType),b}f.safeBags=g(d,r,n),e.safeContents.push(f)}}(f,m.value,t,r),f},a.toPkcs12Asn1=function(e,t,r,o){(o=o||{}).saltSize=o.saltSize||8,o.count=o.count||2048,o.algorithm=o.algorithm||o.encAlgorithm||"aes128","useMac"in o||(o.useMac=!0),"localKeyId"in o||(o.localKeyId=null),"generateLocalKeyId"in o||(o.generateLocalKeyId=!0);var c,u=o.localKeyId;if(null!==u)u=n.util.hexToBytes(u);else if(o.generateLocalKeyId)if(t){var l=n.util.isArray(t)?t[0]:t;"string"==typeof l&&(l=s.certificateFromPem(l)),(T=n.md.sha1.create()).update(i.toDer(s.certificateToAsn1(l)).getBytes()),u=T.digest().getBytes()}else u=n.random.getBytes(20);var f=[];null!==u&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,u)])])),"friendlyName"in o&&f.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,o.friendlyName)])])),f.length>0&&(c=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,f));var d=[],h=[];null!==t&&(h=n.util.isArray(t)?t:[t]);for(var p=[],g=0;g<h.length;++g){"string"==typeof(t=h[g])&&(t=s.certificateFromPem(t));var m=0===g?c:void 0,b=s.certificateToAsn1(t),y=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])])]),m]);p.push(y)}if(p.length>0){var v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,p),k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(v).getBytes())])]);d.push(k)}var S=null;if(null!==e){var E=s.wrapRsaPrivateKey(s.privateKeyToAsn1(e));S=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[E]),c]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(E,r,o)]),c]);var w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[S]),C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(w).getBytes())])]);d.push(C)}var A,I=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d);if(o.useMac){var T=n.md.sha1.create(),_=new n.util.ByteBuffer(n.random.getBytes(o.saltSize)),B=o.count,N=(e=a.generateKey(r,_,3,B,20),n.hmac.create());N.start(T,e),N.update(i.toDer(I).getBytes());var R=N.getMac();A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,R.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,_.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(B).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(I).getBytes())])]),A])},a.generateKey=n.pbe.generatePkcs12Key},68337:(e,t,r)=>{var n=r(73965);r(9922),r(39661),r(17535),r(21186),r(78850),r(18551),r(42173),r(30152),r(17960);var i=n.asn1,s=e.exports=n.pkcs7=n.pkcs7||{};function a(e){var t={},r=[];if(!i.validate(e,s.asn1.recipientInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function o(e){for(var t,r=[],s=0;s<e.length;++s)r.push((t=e[s],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function c(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),s=0;s<e.unauthenticatedAttributes.length;++s){var a=e.unauthenticatedAttributes[s];r.values.push(u(a))}t.value.push(r)}return t}function u(e){var t;if(e.type===n.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),s=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var o=Date.parse(a);a=isNaN(o)?13===a.length?i.utcTimeToDate(a):i.generalizedTimeToDate(a):new Date(o)}t=a>=r&&a<s?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(a)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(a))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function l(e,t,r){var s={};if(!i.validate(t,r,s,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(i.derToOid(s.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(s.encryptedContent){var o="";if(n.util.isArray(s.encryptedContent))for(var c=0;c<s.encryptedContent.length;++c){if(s.encryptedContent[c].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=s.encryptedContent[c].value}else o=s.encryptedContent;e.encryptedContent={algorithm:i.derToOid(s.encAlgorithm),parameter:n.util.createBuffer(s.encParameter.value),content:n.util.createBuffer(o)}}if(s.content){o="";if(n.util.isArray(s.content))for(c=0;c<s.content.length;++c){if(s.content[c].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=s.content[c].value}else o=s.content;e.content=n.util.createBuffer(o)}return e.version=s.version.charCodeAt(0),e.rawCapture=s,s}function f(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.messageFromAsn1(a)},s.messageToPem=function(e,t){var r={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},s.messageFromAsn1=function(e){var t={},r=[];if(!i.validate(e,s.asn1.contentInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=r,a}var o,c=i.derToOid(t.contentType);switch(c){case n.pki.oids.envelopedData:o=s.createEnvelopedData();break;case n.pki.oids.encryptedData:o=s.createEncryptedData();break;case n.pki.oids.signedData:o=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o},s.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(l(e,t,s.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,i=0;i<r.length;++i)e.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var s=[],a=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),s.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var s=t.certificate;"string"==typeof s&&(s=n.pki.certificateFromPem(s)),r=s.issuer.attributes,i=s.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=n.pki.privateKeyFromPem(a));var o=t.digestAlgorithm||n.pki.oids.sha1;switch(o){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+o)}var c=t.authenticatedAttributes||[];if(c.length>0){for(var u=!1,l=!1,f=0;f<c.length;++f){var d=c[f];if(u||d.type!==n.pki.oids.contentType){if(l||d.type!==n.pki.oids.messageDigest);else if(l=!0,u)break}else if(u=!0,l)break}if(!u||!l)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:r,serialNumber:i,digestAlgorithm:o,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(t){var r;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)]))));0!==e.signers.length&&function(t){var r;r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=i.derToOid(e.contentInfo.value[0].value),a=i.toDer(r);for(var o in a.getByte(),i.getBerValueLength(a),a=a.getBytes(),t)t[o].start().update(a);for(var l=new Date,f=0;f<e.signers.length;++f){var d=e.signers[f];if(0===d.authenticatedAttributes.length){if(s!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),p=0;p<d.authenticatedAttributes.length;++p){var g=d.authenticatedAttributes[p];g.type===n.pki.oids.messageDigest?g.value=t[d.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=l)),h.value.push(u(g)),d.authenticatedAttributesAsn1.value.push(u(g))}a=i.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var s=e.signers[r];(a=s.digestAlgorithm)in t||(t[a]=n.md[n.pki.oids[a]].create()),0===s.authenticatedAttributes.length?s.md=t[a]:s.md=n.md[n.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){l(e,t,s.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),f(e)}}},s.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=l(e,t,s.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,o(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,o=0;o<r.length;++o)if(s[o].type!==r[o].type||s[o].value!==r[o].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}f(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var i,s,a;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,s=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,s=8,a=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(s));var o=a(t);if(o.start(e.encryptedContent.parameter.copy()),o.update(e.content),!o.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=o.output}for(var c=0;c<e.recipients.length;++c){var u=e.recipients[c];if(void 0===u.encryptedContent.content)switch(u.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}}}},18551:(e,t,r)=>{var n=r(73965);r(39661),r(30152);var i=n.asn1,s=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=s;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=a;var o={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},s.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var c={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},52518:(e,t,r)=>{var n=r(73965);r(39661),r(21186),r(39429),r(78850),r(13162),r(91396),r(56823),r(35221),r(30152),r(17960);var i=n.asn1,s=e.exports=n.pki=n.pki||{};s.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},s.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.privateKeyFromAsn1(a)},s.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:i.toDer(s.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},17283:(e,t,r)=>{var n=r(73965);r(30152),r(31074),r(42173),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],s=new r(null);s.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var s=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof s&&(s={name:s}),s.options=s.options||{};var a=t.prng||n.random,c={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===s.name)return function(e,t,i,s){if("workers"in i)return function(e,t,i,s){if("undefined"==typeof Worker)return o(e,t,i,s);var a=u(e,t),c=i.workers,l=i.workLoad||100,f=30*l/8,d=i.workerScript||"forge/prime.worker.js";if(-1===c)return n.util.estimateCores((function(e,t){e&&(t=2),c=t-1,h()}));function h(){c=Math.max(1,c);for(var n=[],i=0;i<c;++i)n[i]=new Worker(d);for(i=0;i<c;++i)n[i].addEventListener("message",h);var o=!1;function h(i){if(!o){0;var c=i.data;if(c.found){for(var d=0;d<n.length;++d)n[d].terminate();return o=!0,s(null,new r(c.prime,16))}a.bitLength()>e&&(a=u(e,t));var h=a.toString(16);i.target.postMessage({hex:h,workLoad:l}),a.dAddOffset(f,0)}}}h()}(e,t,i,s);return o(e,t,i,s)}(e,c,s.options,i);throw new Error("Invalid prime generation algorithm: "+s.name)}}function o(e,t,r,n){var i=u(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(i.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var a=10;"maxBlockTime"in r&&(a=r.maxBlockTime),c(i,e,t,0,s,a,n)}function c(e,t,r,s,a,o,l){var f=+new Date;do{if(e.bitLength()>t&&(e=u(t,r)),e.isProbablePrime(a))return l(null,e);e.dAddOffset(i[s++%8],0)}while(o<0||+new Date-f<o);n.util.setImmediate((function(){c(e,t,r,s,a,o,l)}))}function u(e,t){var n=new r(e,t),i=e-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),a,n),n.dAddOffset(31-n.mod(s).byteValue(),0),n}}()},99768:(e,t,r)=>{var n=r(34155),i=r(73965);r(30152);var s=null;!i.util.isNodejs||i.options.usePureJavaScript||n.versions["node-webkit"]||(s=r(63906)),(e.exports=i.prng=i.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),a=0;a<32;++a)n[a]=r.create();function o(){if(t.pools[0].messageLength>=32)return c();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),c()}function c(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function u(e){var t=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)})}var n=i.util.createBuffer();if(t)for(;n.length()<e;){var s=Math.max(1,Math.min(e-n.length(),65536)/4),a=new Uint32Array(Math.floor(s));try{t(a);for(var o=0;o<a.length;++o)n.putInt32(a[o])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(n.length()<e)for(var c,u,l,f=Math.floor(65536*Math.random());n.length()<e;){u=16807*(65535&f),u+=(32767&(c=16807*(f>>16)))<<16,f=4294967295&(u=(2147483647&(u+=c>>15))+(u>>31));for(o=0;o<3;++o)l=f>>>(o<<3),l^=Math.floor(256*Math.random()),n.putByte(String.fromCharCode(255&l))}return n.getBytes(e)}return t.pools=n,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var n=t.plugin.cipher,s=t.plugin.increment,a=t.plugin.formatKey,o=t.plugin.formatSeed,u=i.util.createBuffer();t.key=null,function l(f){if(f)return r(f);if(u.length()>=e)return r(null,u.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return i.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return c(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),c(),e()}))}(l)}));var d=n(t.key,t.seed);t.generated+=d.length,u.putBytes(d),t.key=a(n(t.key,s(t.seed))),t.seed=o(n(t.key,t.seed)),i.util.setImmediate(l)}()},t.generateSync=function(e){var r=t.plugin.cipher,n=t.plugin.increment,s=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var c=i.util.createBuffer();c.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&o();var u=r(t.key,t.seed);t.generated+=u.length,c.putBytes(u),t.key=s(r(t.key,n(t.seed))),t.seed=a(r(t.key,t.seed))}return c.getBytes(e)},s?(t.seedFile=function(e,t){s.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return s.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,u(e))}catch(e){t(e)}},t.seedFileSync=u),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}},56823:(e,t,r)=>{var n=r(73965);r(42173),r(30152),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,i=e.mgf,s=r.digestLength,a=e.salt||null;if("string"==typeof a&&(a=n.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||n.random,c={encode:function(e,c){var u,l,f=c-1,d=Math.ceil(f/8),h=e.digest().getBytes();if(d<s+t+2)throw new Error("Message is too long to encrypt.");l=null===a?o.getBytesSync(t):a.bytes();var p=new n.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(h),p.putBytes(l),r.start(),r.update(p.getBytes());var g=r.digest().getBytes(),m=new n.util.ByteBuffer;m.fillWithByte(0,d-t-s-2),m.putByte(1),m.putBytes(l);var b=m.getBytes(),y=d-s-1,v=i.generate(g,y),k="";for(u=0;u<y;u++)k+=String.fromCharCode(b.charCodeAt(u)^v.charCodeAt(u));var S=65280>>8*d-f&255;return(k=String.fromCharCode(k.charCodeAt(0)&~S)+k.substr(1))+g+String.fromCharCode(188)},verify:function(e,a,o){var c,u=o-1,l=Math.ceil(u/8);if(a=a.substr(-l),l<s+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var f=l-s-1,d=a.substr(0,f),h=a.substr(f,s),p=65280>>8*l-u&255;if(0!=(d.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var g=i.generate(h,f),m="";for(c=0;c<f;c++)m+=String.fromCharCode(d.charCodeAt(c)^g.charCodeAt(c));m=String.fromCharCode(m.charCodeAt(0)&~p)+m.substr(1);var b=l-s-t-2;for(c=0;c<b;c++)if(0!==m.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==m.charCodeAt(b))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var y=m.substr(-t),v=new n.util.ByteBuffer;return v.fillWithByte(0,8),v.putBytes(e),v.putBytes(y),r.start(),r.update(v.getBytes()),h===r.digest().getBytes()}};return c}},42173:(e,t,r)=>{var n=r(73965);r(9922),r(14425),r(99768),r(30152),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},i=new Array(4),s=n.util.createBuffer();function a(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var o=a(),c=null;if("undefined"!=typeof window){var u=window.crypto||window.msCrypto;u&&u.getRandomValues&&(c=function(e){return u.getRandomValues(e)})}if(n.options.usePureJavaScript||!n.util.isNodejs&&!c){if("undefined"==typeof window||window.document,o.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var f in navigator)try{"string"==typeof navigator[f]&&(l+=navigator[f])}catch(e){}o.collect(l),l=null}t&&(t().mousemove((function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)})),t().keypress((function(e){o.collectInt(e.charCode,8)})))}if(n.random)for(var f in o)n.random[f]=o[f];else n.random=o;n.random.createInstance=a,e.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},32335:(e,t,r)=>{var n=r(73965);r(30152);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,s=e,a=e.length(),o=t,c=Math.ceil(o/8),u=255>>(7&o);for(r=a;r<128;r++)s.putByte(i[s.at(r-1)+s.at(r-a)&255]);for(s.setAt(128-c,i[s.at(128-c)&u]),r=127-c;r>=0;r--)s.setAt(r,i[s.at(r+1)^s.at(r+c)]);return s};var c=function(e,t,r){var i,c,u,l,f=!1,d=null,h=null,p=null,g=[];for(e=n.rc2.expandKey(e,t),u=0;u<64;u++)g.push(e.getInt16Le());r?(i=function(e){for(u=0;u<4;u++)e[u]+=g[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),e[u]=a(e[u],s[u]),l++},c=function(e){for(u=0;u<4;u++)e[u]+=g[63&e[(u+3)%4]]}):(i=function(e){for(u=3;u>=0;u--)e[u]=o(e[u],s[u]),e[u]-=g[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),l--},c=function(e){for(u=3;u>=0;u--)e[u]-=g[63&e[(u+3)%4]]});var m=function(e){var t=[];for(u=0;u<4;u++){var n=d.getInt16Le();null!==p&&(r?n^=p.getInt16Le():p.putInt16Le(n)),t.push(65535&n)}l=r?0:63;for(var i=0;i<e.length;i++)for(var s=0;s<e[i][0];s++)e[i][1](t);for(u=0;u<4;u++)null!==p&&(r?p.putInt16Le(t[u]):t[u]^=p.getInt16Le()),h.putInt16Le(t[u])},b=null;return b={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),f=!1,d=n.util.createBuffer(),h=t||new n.util.createBuffer,p=e,b.output=h},update:function(e){for(f||d.putBuffer(e);d.length()>=8;)m([[5,i],[1,c],[6,i],[1,c],[5,i]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,d,!r);else{var n=8===d.length()?8:8-d.length();d.fillWithByte(n,n)}if(t&&(f=!0,b.update()),!r&&(t=0===d.length()))if(e)t=e(8,h,!r);else{var i=h.length(),s=h.at(i-1);s>i?t=!1:h.truncate(s)}return t}}};n.rc2.startEncrypting=function(e,t,r){var i=n.rc2.createEncryptionCipher(e,128);return i.start(t,r),i},n.rc2.createEncryptionCipher=function(e,t){return c(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var i=n.rc2.createDecryptionCipher(e,128);return i.start(t,r),i},n.rc2.createDecryptionCipher=function(e,t){return c(e,t,!1)}},35221:(e,t,r)=>{var n=r(73965);if(r(39661),r(31074),r(21186),r(70174),r(17283),r(42173),r(30152),void 0===i)var i=n.jsbn.BigInteger;var s=n.asn1;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var a=n.pki,o=[6,4,2,4,2,4,6,2],c={name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},l={name:"RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},d=function(e){var t;if(!(e.algorithm in a.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=a.oids[e.algorithm];var n=s.oidToDer(t).getBytes(),i=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);o.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,n)),o.value.push(s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,""));var c=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(c),s.toDer(i).getBytes()},h=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var s;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{s=new i(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(s.compareTo(t.n)>=0||!s.gcd(t.n).equals(i.ONE));for(var a=(e=e.multiply(s.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(o)<0;)a=a.add(t.p);var c=a.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return c=c.multiply(s.modInverse(t.n)).mod(t.n)};function p(e,t,r){var i=n.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=s-11,a}i.putByte(0),i.putByte(r);var o,c=s-3-e.length;if(0===r||1===r){o=0===r?0:255;for(var u=0;u<c;++u)i.putByte(o)}else for(;c>0;){var l=0,f=n.random.getBytes(c);for(u=0;u<c;++u)0===(o=f.charCodeAt(u))?++l:i.putByte(o);c=l}return i.putByte(0),i.putBytes(e),i}function g(e,t,r,i){var s=Math.ceil(t.n.bitLength()/8),a=n.util.createBuffer(e),o=a.getByte(),c=a.getByte();if(0!==o||r&&0!==c&&1!==c||!r&&2!=c||r&&0===c&&void 0===i)throw new Error("Encryption block is invalid.");var u=0;if(0===c){u=s-3-i;for(var l=0;l<u;++l)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===c)for(u=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++u}else if(2===c)for(u=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++u}if(0!==a.getByte()||u!==s-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function m(e,t,r){"function"==typeof t&&(r=t,t={});var s={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function o(){c(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?u(t,e.q):void c(e.qBits,u))}))}function c(e,t){n.prime.generateProbablePrime(e,s,t)}function u(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var s=e.p;e.p=e.q,e.q=s}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void o();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void c(e.qBits,u);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void o();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void c(e.qBits,u);var l=e.e.modInverse(e.phi);e.keys={privateKey:a.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:a.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(s.prng=t.prng),o()}function b(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function y(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function v(e){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[e]}function k(e){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[e]}function S(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),i=0;i<t.length;++i)r[i]=t.charCodeAt(i);return r}a.rsa.encrypt=function(e,t,r){var s,a=r,o=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,s=p(e,t,r)):(s=n.util.createBuffer()).putBytes(e);for(var c=new i(s.toHex(),16),u=h(c,t,a).toString(16),l=n.util.createBuffer(),f=o-Math.ceil(u.length/2);f>0;)l.putByte(0),--f;return l.putBytes(n.util.hexToBytes(u)),l.getBytes()},a.rsa.decrypt=function(e,t,r,s){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=a,o}var c=new i(n.util.createBuffer(e).toHex(),16);if(c.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=h(c,t,r).toString(16),l=n.util.createBuffer(),f=a-Math.ceil(u.length/2);f>0;)l.putByte(0),--f;return l.putBytes(n.util.hexToBytes(u)),!1!==s?g(l.getBytes(),t,r):l.getBytes()},a.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var s,a=(r=r||{}).prng||n.random,o={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},c=r.algorithm||"PRIMEINC";if("PRIMEINC"!==c)throw new Error("Invalid key generation algorithm: "+c);return(s={algorithm:c,state:0,bits:e,rng:o,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(s.eInt),s},a.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,s=0,c=function(e,t){return e|t},u=+new Date,l=0;null===e.keys&&(t<=0||l<t);){if(0===e.state){var f=null===e.p?e.pBits:e.qBits,d=f-1;0===e.pqState?(e.num=new i(f,e.rng),e.num.testBit(d)||e.num.bitwiseTo(i.ONE.shiftLeft(d),c,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),s=0,++e.pqState):1===e.pqState?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(y(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(o[s++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var h=e.e.modInverse(e.phi);e.keys={privateKey:a.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:a.rsa.setPublicKey(e.n,e.e)}}l+=(n=+new Date)-u,u=n}return null!==e.keys},a.rsa.generateKeyPair=function(e,t,r,i){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(i=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(i=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,i=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(i=r,r=void 0):(i=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&i&&e>=256&&e<=16384&&(65537===t||3===t)){if(v("generateKey")&&v("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){i(e)})).then((function(e){if(e){var t=a.privateKeyFromAsn1(s.fromDer(n.util.createBuffer(e)));i(null,{privateKey:t,publicKey:a.setRsaPublicKey(t.n,t.e)})}}));if(k("generateKey")&&k("exportKey")){var o=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:S(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return o.oncomplete=function(e){var t=e.target.result,r=window.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=a.privateKeyFromAsn1(s.fromDer(n.util.createBuffer(t)));i(null,{privateKey:r,publicKey:a.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){i(e)}},void(o.onerror=function(e){i(e)})}}var c=a.rsa.createKeyPairGenerationState(e,t,r);if(!i)return a.rsa.stepKeyPairGenerationState(c,0),c.keys;m(c,r,i)},a.setRsaPublicKey=a.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return p(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var s=t.encode(e,r,!0);return a.rsa.encrypt(s,r,!0)},verify:function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){return t=g(t,r,!0),e===s.fromDer(t).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===(t=g(t,r,!0))}});var i=a.rsa.decrypt(t,r,!0,!1);return n.verify(e,i,r.n.bitLength())}};return r},a.setRsaPrivateKey=a.rsa.setPrivateKey=function(e,t,r,i,s,o,c,u){var l={n:e,e:t,d:r,p:i,q:s,dP:o,dQ:c,qInv:u,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var i=a.rsa.decrypt(e,l,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:g};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,l,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:d},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,l.n.bitLength());return a.rsa.encrypt(n,l,r)}};return l},a.wrapRsaPrivateKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(e).getBytes())])},a.privateKeyFromAsn1=function(e){var t,r,o,l,f,d,h,p,g={},m=[];if(s.validate(e,c,g,m)&&(e=s.fromDer(n.util.createBuffer(g.privateKey))),g={},m=[],!s.validate(e,u,g,m)){var b=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw b.errors=m,b}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),o=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),l=n.util.createBuffer(g.privateKeyPrime1).toHex(),f=n.util.createBuffer(g.privateKeyPrime2).toHex(),d=n.util.createBuffer(g.privateKeyExponent1).toHex(),h=n.util.createBuffer(g.privateKeyExponent2).toHex(),p=n.util.createBuffer(g.privateKeyCoefficient).toHex(),a.setRsaPrivateKey(new i(t,16),new i(r,16),new i(o,16),new i(l,16),new i(f,16),new i(d,16),new i(h,16),new i(p,16))},a.privateKeyToAsn1=a.privateKeyToRSAPrivateKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.e)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.d)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.p)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.q)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.dP)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.dQ)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.qInv))])},a.publicKeyFromAsn1=function(e){var t={},r=[];if(s.validate(e,f,t,r)){var o,c=s.derToOid(t.publicKeyOid);if(c!==a.oids.rsaEncryption)throw(o=new Error("Cannot read public key. Unknown OID.")).oid=c,o;e=t.rsaPublicKey}if(r=[],!s.validate(e,l,t,r))throw(o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,o;var u=n.util.createBuffer(t.publicKeyModulus).toHex(),d=n.util.createBuffer(t.publicKeyExponent).toHex();return a.setRsaPublicKey(new i(u,16),new i(d,16))},a.publicKeyToAsn1=a.publicKeyToSubjectPublicKeyInfo=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,[a.publicKeyToRSAPublicKey(e)])])},a.publicKeyToRSAPublicKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,b(e.e))])}},73689:(e,t,r)=>{var n=r(73965);r(57312),r(30152);var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var c=s.length;i.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=c[1],c[1]=c[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(s),o(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var c,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-u));for(var l=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)l+=(c=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(l>>>0),l=c>>>0;a.putInt32(l);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};o(d,r,a);var h=n.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h},i};var s=null,a=!1;function o(e,t,r){for(var n,i,s,a,o,c,u,l=r.length();l>=64;){for(i=e.h0,s=e.h1,a=e.h2,o=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+c+1518500249+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<20;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+c+1518500249+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<32;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(s^a^o)+c+1859775393+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<40;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(s^a^o)+c+1859775393+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<60;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(s&a|o&(s^a))+c+2400959708+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<80;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(s^a^o)+c+3395469782+n,c=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+o|0,e.h4=e.h4+c|0,l-=64}}},14425:(e,t,r)=>{var n=r(73965);r(57312),r(30152);var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(s,a){"utf8"===a&&(s=n.util.encodeUtf8(s));var o=s.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=o[1],o[1]=o[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),c(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var o,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(s.substr(0,i.blockLength-u));for(var l=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)l+=(o=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(l>>>0),l=o>>>0;a.putInt32(l);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};c(d,r,a);var h=n.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h.putInt32(d.h5),h.putInt32(d.h6),h.putInt32(d.h7),h},i};var s=null,a=!1,o=null;function c(e,t,r){for(var n,i,s,a,c,u,l,f,d,h,p,g,m,b=r.length();b>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=((n=t[c-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[c-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[c]=n+t[c-7]+i+t[c-16]|0;for(u=e.h0,l=e.h1,f=e.h2,d=e.h3,h=e.h4,p=e.h5,g=e.h6,m=e.h7,c=0;c<64;++c)s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),a=u&l|f&(u^l),n=m+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(g^h&(p^g))+o[c]+t[c],m=g,g=p,p=h,h=d+n>>>0,d=f,f=l,l=u,u=n+(i=s+a)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+l|0,e.h2=e.h2+f|0,e.h3=e.h3+d|0,e.h4=e.h4+h|0,e.h5=e.h5+p|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,b-=64}}},55507:(e,t,r)=>{var n=r(73965);r(57312),r(30152);var i=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var s=n.sha384=n.sha512.sha384=n.sha512.sha384||{};s.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=s,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(e){if(o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(u={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],u["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],u["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],u["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],o=!0),void 0===e&&(e="SHA-512"),!(e in u))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=u[e],r=null,i=n.util.createBuffer(),s=new Array(80),f=0;f<80;++f)s[f]=new Array(2);var d=64;switch(e){case"SHA-384":d=48;break;case"SHA-512/256":d=32;break;case"SHA-512/224":d=28}var h={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:d,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){h.messageLength=0,h.fullMessageLength=h.messageLength128=[];for(var e=h.messageLengthSize/4,s=0;s<e;++s)h.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(t.length);for(s=0;s<t.length;++s)r[s]=t[s].slice(0);return h}};return h.start(),h.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var a=e.length;h.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=h.fullMessageLength.length-1;o>=0;--o)h.fullMessageLength[o]+=a[1],a[1]=a[0]+(h.fullMessageLength[o]/4294967296>>>0),h.fullMessageLength[o]=h.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(e),l(r,s,i),(i.read>2048||0===i.length())&&i.compact(),h},h.digest=function(){var t=n.util.createBuffer();t.putBytes(i.bytes());var o,c=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize&h.blockLength-1;t.putBytes(a.substr(0,h.blockLength-c));for(var u=8*h.fullMessageLength[0],f=0;f<h.fullMessageLength.length-1;++f)u+=(o=8*h.fullMessageLength[f+1])/4294967296>>>0,t.putInt32(u>>>0),u=o>>>0;t.putInt32(u);var d=new Array(r.length);for(f=0;f<r.length;++f)d[f]=r[f].slice(0);l(d,s,t);var p,g=n.util.createBuffer();p="SHA-512"===e?d.length:"SHA-384"===e?d.length-2:d.length-4;for(f=0;f<p;++f)g.putInt32(d[f][0]),f===p-1&&"SHA-512/224"===e||g.putInt32(d[f][1]);return g},h};var a=null,o=!1,c=null,u=null;function l(e,t,r){for(var n,i,s,a,o,u,l,f,d,h,p,g,m,b,y,v,k,S,E,w,C,A,I,T,_,B,N,R,P,x,L,M,D,O=r.length();O>=128;){for(N=0;N<16;++N)t[N][0]=r.getInt32()>>>0,t[N][1]=r.getInt32()>>>0;for(;N<80;++N)n=(((R=(x=t[N-2])[0])>>>19|(P=x[1])<<13)^(P>>>29|R<<3)^R>>>6)>>>0,i=((R<<13|P>>>19)^(P<<3|R>>>29)^(R<<26|P>>>6))>>>0,s=(((R=(M=t[N-15])[0])>>>1|(P=M[1])<<31)^(R>>>8|P<<24)^R>>>7)>>>0,a=((R<<31|P>>>1)^(R<<24|P>>>8)^(R<<25|P>>>7))>>>0,L=t[N-7],D=t[N-16],P=i+L[1]+a+D[1],t[N][0]=n+L[0]+s+D[0]+(P/4294967296>>>0)>>>0,t[N][1]=P>>>0;for(p=e[0][0],g=e[0][1],m=e[1][0],b=e[1][1],y=e[2][0],v=e[2][1],k=e[3][0],S=e[3][1],E=e[4][0],w=e[4][1],C=e[5][0],A=e[5][1],I=e[6][0],T=e[6][1],_=e[7][0],B=e[7][1],N=0;N<80;++N)l=((E>>>14|w<<18)^(E>>>18|w<<14)^(w>>>9|E<<23))>>>0,f=(I^E&(C^I))>>>0,o=((p>>>28|g<<4)^(g>>>2|p<<30)^(g>>>7|p<<25))>>>0,u=((p<<4|g>>>28)^(g<<30|p>>>2)^(g<<25|p>>>7))>>>0,d=(p&m|y&(p^m))>>>0,h=(g&b|v&(g^b))>>>0,P=B+(((E<<18|w>>>14)^(E<<14|w>>>18)^(w<<23|E>>>9))>>>0)+((T^w&(A^T))>>>0)+c[N][1]+t[N][1],n=_+l+f+c[N][0]+t[N][0]+(P/4294967296>>>0)>>>0,i=P>>>0,s=o+d+((P=u+h)/4294967296>>>0)>>>0,a=P>>>0,_=I,B=T,I=C,T=A,C=E,A=w,E=k+n+((P=S+i)/4294967296>>>0)>>>0,w=P>>>0,k=y,S=v,y=m,v=b,m=p,b=g,p=n+s+((P=i+a)/4294967296>>>0)>>>0,g=P>>>0;P=e[0][1]+g,e[0][0]=e[0][0]+p+(P/4294967296>>>0)>>>0,e[0][1]=P>>>0,P=e[1][1]+b,e[1][0]=e[1][0]+m+(P/4294967296>>>0)>>>0,e[1][1]=P>>>0,P=e[2][1]+v,e[2][0]=e[2][0]+y+(P/4294967296>>>0)>>>0,e[2][1]=P>>>0,P=e[3][1]+S,e[3][0]=e[3][0]+k+(P/4294967296>>>0)>>>0,e[3][1]=P>>>0,P=e[4][1]+w,e[4][0]=e[4][0]+E+(P/4294967296>>>0)>>>0,e[4][1]=P>>>0,P=e[5][1]+A,e[5][0]=e[5][0]+C+(P/4294967296>>>0)>>>0,e[5][1]=P>>>0,P=e[6][1]+T,e[6][0]=e[6][0]+I+(P/4294967296>>>0)>>>0,e[6][1]=P>>>0,P=e[7][1]+B,e[7][0]=e[7][0]+_+(P/4294967296>>>0)>>>0,e[7][1]=P>>>0,O-=128}}},20315:(e,t,r)=>{var n=r(73965);r(9922),r(66976),r(61387),r(73689),r(30152);var i=e.exports=n.ssh=n.ssh||{};function s(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var i=n.util.hexToBytes(r);e.putInt32(i.length),e.putBytes(i)}function a(e,t){e.putInt32(t.length),e.putString(t)}function o(){for(var e=n.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}i.privateKeyToPutty=function(e,t,r){var i="ssh-rsa",c=""===(t=t||"")?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: ssh-rsa\r\n";u+="Encryption: "+c+"\r\n",u+="Comment: "+(r=r||"")+"\r\n";var l=n.util.createBuffer();a(l,i),s(l,e.e),s(l,e.n);var f=n.util.encode64(l.bytes(),64),d=Math.floor(f.length/66)+1;u+="Public-Lines: "+d+"\r\n",u+=f;var h,p=n.util.createBuffer();if(s(p,e.d),s(p,e.p),s(p,e.q),s(p,e.qInv),t){var g=p.length()+16-1;g-=g%16;var m=o(p.bytes());m.truncate(m.length()-g+p.length()),p.putBuffer(m);var b=n.util.createBuffer();b.putBuffer(o("\0\0\0\0",t)),b.putBuffer(o("\0\0\0",t));var y=n.aes.createEncryptionCipher(b.truncate(8),"CBC");y.start(n.util.createBuffer().fillWithByte(0,16)),y.update(p.copy()),y.finish();var v=y.output;v.truncate(16),h=n.util.encode64(v.bytes(),64)}else h=n.util.encode64(p.bytes(),64);u+="\r\nPrivate-Lines: "+(d=Math.floor(h.length/66)+1)+"\r\n",u+=h;var k=o("putty-private-key-file-mac-key",t),S=n.util.createBuffer();a(S,i),a(S,c),a(S,r),S.putInt32(l.length()),S.putBuffer(l),S.putInt32(p.length()),S.putBuffer(p);var E=n.hmac.create();return E.start("sha1",k),E.update(S.bytes()),u+="\r\nPrivate-MAC: "+E.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var i=n.util.createBuffer();return a(i,r),s(i,e.e),s(i,e.n),r+" "+n.util.encode64(i.bytes())+" "+t},i.privateKeyToOpenSSH=function(e,t){return t?n.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(e)},i.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||n.md.md5.create(),i=n.util.createBuffer();a(i,"ssh-rsa"),s(i,e.e),s(i,e.n),r.start(),r.update(i.getBytes());var o=r.digest();if("hex"===t.encoding){var c=o.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o}},15648:(e,t,r)=>{var n=r(73965);r(3027),r(60755),r(30152);var i="forge.task",s={},a=0;n.debug.set(i,"tasks",s);var o={};n.debug.set(i,"queues",o);var c="ready",u="running",l="blocked",f="sleeping",d="done",h="error",p={ready:{}};p.ready.stop=c,p.ready.start=u,p.ready.cancel=d,p.ready.fail=h,p.running={},p.running.stop=c,p.running.start=u,p.running.block=l,p.running.unblock=u,p.running.sleep=f,p.running.wakeup=u,p.running.cancel=d,p.running.fail=h,p.blocked={},p.blocked.stop=l,p.blocked.start=l,p.blocked.block=l,p.blocked.unblock=l,p.blocked.sleep=l,p.blocked.wakeup=l,p.blocked.cancel=d,p.blocked.fail=h,p.sleeping={},p.sleeping.stop=f,p.sleeping.start=f,p.sleeping.block=f,p.sleeping.unblock=f,p.sleeping.sleep=f,p.sleeping.wakeup=f,p.sleeping.cancel=d,p.sleeping.fail=h,p.done={},p.done.stop=d,p.done.start=d,p.done.block=d,p.done.unblock=d,p.done.sleep=d,p.done.wakeup=d,p.done.cancel=d,p.done.fail=h,p.error={},p.error.stop=h,p.error.start=h,p.error.block=h,p.error.unblock=h,p.error.sleep=h,p.error.wakeup=h,p.error.cancel=h,p.error.fail=h;var g=function(e){this.id=-1,this.name=e.name||"?",this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=c,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=a++,s[this.id]=this};g.prototype.debug=function(e){e=e||"",n.log.debug(i,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",o)},g.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new g({run:t,name:e,parent:this});return r.state=u,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},g.prototype.parallel=function(e,t){return n.util.isArray(e)&&(t=e,e=this.name),this.next(e,(function(r){var i=r;i.block(t.length);for(var s=function(e,r){n.task.start({type:e,run:function(e){t[r](e)},success:function(e){i.unblock()},failure:function(e){i.unblock()}})},a=0;a<t.length;a++){s(e+"__parallel-"+r.id+"-"+a,a)}}))},g.prototype.stop=function(){this.state=p[this.state].stop},g.prototype.start=function(){this.error=!1,this.state=p[this.state].start,this.state===u&&(this.start=new Date,this.run(this),m(this,0))},g.prototype.block=function(e){e=void 0===e?1:e,this.blocks+=e,this.blocks>0&&(this.state=p[this.state].block)},g.prototype.unblock=function(e){return e=void 0===e?1:e,this.blocks-=e,0===this.blocks&&this.state!==d&&(this.state=u,m(this,0)),this.blocks},g.prototype.sleep=function(e){e=void 0===e?0:e,this.state=p[this.state].sleep;var t=this;this.timeoutId=setTimeout((function(){t.timeoutId=null,t.state=u,m(t,0)}),e)},g.prototype.wait=function(e){e.wait(this)},g.prototype.wakeup=function(){this.state===f&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=u,m(this,0))},g.prototype.cancel=function(){this.state=p[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},g.prototype.fail=function(e){if(this.error=!0,b(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,m(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;b(t,!0)}this.failureCallback&&this.failureCallback(this)}};var m=function(e,t){var r=t>30||+new Date-e.swapTime>20,n=function(t){if(t++,e.state===u)if(r&&(e.swapTime=+new Date),e.subtasks.length>0){var n=e.subtasks.shift();n.error=e.error,n.swapTime=e.swapTime,n.userData=e.userData,n.run(n),n.error||m(n,t)}else b(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,m(e.parent,t))};r?setTimeout(n,0):n(t)},b=function(e,t){e.state=d,delete s[e.id],null===e.parent&&(e.type in o?0===o[e.type].length?n.log.error(i,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):o[e.type][0]!==e?n.log.error(i,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(o[e.type].shift(),0===o[e.type].length?delete o[e.type]:o[e.type][0].start()):n.log.error(i,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};e.exports=n.task=n.task||{},n.task.start=function(e){var t=new g({run:e.run,name:e.name||"?"});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in o?o[e.type].push(t):(o[t.type]=[t],function(e){e.error=!1,e.state=p[e.state].start,setTimeout((function(){e.state===u&&(e.swapTime=+new Date,e.run(e),m(e,0))}),0)}(t))},n.task.cancel=function(e){e in o&&(o[e]=[o[e][0]])},n.task.createCondition=function(){var e={tasks:{},wait:function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},notify:function(){var t=e.tasks;for(var r in e.tasks={},t)t[r].unblock()}};return e}},55567:(e,t,r)=>{var n=r(73965);r(39661),r(66976),r(61387),r(78850),r(52518),r(42173),r(73689),r(30152);var i=function(e,t,r,i){var s=n.util.createBuffer(),a=e.length>>1,o=a+(1&e.length),c=e.substr(0,o),u=e.substr(a,o),l=n.util.createBuffer(),f=n.hmac.create();r=t+r;var d=Math.ceil(i/16),h=Math.ceil(i/20);f.start("MD5",c);var p=n.util.createBuffer();l.putBytes(r);for(var g=0;g<d;++g)f.start(null,null),f.update(l.getBytes()),l.putBuffer(f.digest()),f.start(null,null),f.update(l.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",u);var m=n.util.createBuffer();l.clear(),l.putBytes(r);for(g=0;g<h;++g)f.start(null,null),f.update(l.getBytes()),l.putBuffer(f.digest()),f.start(null,null),f.update(l.bytes()+r),m.putBuffer(f.digest());return s.putBytes(n.util.xorBytes(p.getBytes(),m.getBytes(),i)),s},s=function(e,t,r){var i=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(s),t.length=s.length,i=!0}catch(e){}return i},a=function(e,t,r){var i=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(s),t.length=s.length,i=!0}catch(e){}return i},o=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return n.util.createBuffer(e.getBytes(r))},c=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},u={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};u.SupportedVersions=[u.Versions.TLS_1_1,u.Versions.TLS_1_0],u.Version=u.SupportedVersions[0],u.MaxFragment=15360,u.ConnectionEnd={server:0,client:1},u.PRFAlgorithm={tls_prf_sha256:0},u.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},u.CipherType={stream:0,block:1,aead:2},u.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},u.CompressionMethod={none:0,deflate:1},u.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},u.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},u.Alert={},u.Alert.Level={warning:1,fatal:2},u.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},u.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},u.CipherSuites={},u.getCipherSuite=function(e){var t=null;for(var r in u.CipherSuites){var n=u.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},u.handleUnexpected=function(e,t){!e.open&&e.entity===u.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})},u.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(u.queue(e,u.createAlert(e,{level:u.Alert.Level.warning,description:u.Alert.Description.no_renegotiation})),u.flush(e)),e.process()},u.parseHelloMessage=function(e,t,r){var i=null,s=e.entity===u.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});else{var a=t.fragment,c=a.length();if(i={version:{major:a.getByte(),minor:a.getByte()},random:n.util.createBuffer(a.getBytes(32)),session_id:o(a,1),extensions:[]},s?(i.cipher_suite=a.getBytes(2),i.compression_method=a.getByte()):(i.cipher_suites=o(a,2),i.compression_methods=o(a,1)),(c=r-(c-a.length()))>0){for(var l=o(a,2);l.length()>0;)i.extensions.push({type:[l.getByte(),l.getByte()],data:o(l,2)});if(!s)for(var f=0;f<i.extensions.length;++f){var d=i.extensions[f];if(0===d.type[0]&&0===d.type[1])for(var h=o(d.data,2);h.length()>0;){if(0!==h.getByte())break;e.session.extensions.server_name.serverNameList.push(o(h,2).getBytes())}}}if(e.session.version&&(i.version.major!==e.session.version.major||i.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=u.getCipherSuite(i.cipher_suite);else for(var p=n.util.createBuffer(i.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=u.getCipherSuite(p.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(i.cipher_suite)});e.session.compressionMethod=s?i.compression_method:u.CompressionMethod.none}return i},u.createSecurityParameters=function(e,t){var r=e.entity===u.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:u.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:u.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}},u.handleServerHello=function(e,t,r){var n=u.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=p,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=l,e.session.resuming=!1,u.createSecurityParameters(e,n)),e.session.id=i,e.process()}},u.handleClientHello=function(e,t,r){var i=u.parseHelloMessage(e,t,r);if(!e.fail){var s=i.session_id.bytes(),a=null;if(e.sessionCache&&(null===(a=e.sessionCache.getSession(s))?s="":(a.version.major!==i.version.major||a.version.minor>i.version.minor)&&(a=null,s="")),0===s.length&&(s=n.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=i.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var o,c=1;c<u.SupportedVersions.length&&!((o=u.SupportedVersions[c]).minor<=i.version.minor);++c);e.version={major:o.major,minor:o.minor},e.session.version=e.version}null!==a?(e.expect=S,e.session.resuming=!0,e.session.sp.client_random=i.random.bytes()):(e.expect=!1!==e.verifyClient?y:v,e.session.resuming=!1,u.createSecurityParameters(e,i)),e.open=!0,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHello(e)})),e.session.resuming?(u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.pending=u.createConnectionState(e),e.state.current.write=e.state.pending.write,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))):(u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)})),e.fail||(u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerKeyExchange(e)})),!1!==e.verifyClient&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateRequest(e)})),u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHelloDone(e)})))),u.flush(e),e.process()}},u.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i,s,a=t.fragment,c={certificate_list:o(a,3)},l=[];try{for(;c.certificate_list.length()>0;)i=o(c.certificate_list,3),s=n.asn1.fromDer(i),i=n.pki.certificateFromAsn1(s,!0),l.push(i)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var d=e.entity===u.ConnectionEnd.client;!d&&!0!==e.verifyClient||0!==l.length?0===l.length?e.expect=d?f:v:(d?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],u.verifyCertificateChain(e,l)&&(e.expect=d?f:v)):e.error(e,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}}),e.process()},u.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});e.expect=d,e.process()},u.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});var i=t.fragment,s={enc_pre_master_secret:o(i,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=n.pki.privateKeyFromPem(a)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}if(null===a)return e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}});try{var c=e.session.sp;c.pre_master_secret=a.decrypt(s.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==c.pre_master_secret.charCodeAt(0)||l.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){c.pre_master_secret=n.random.getBytes(48)}e.expect=S,null!==e.session.clientCertificate&&(e.expect=k),e.process()},u.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:o(n,1),certificate_authorities:o(n,2)};e.session.certificateRequest=i,e.expect=h,e.process()},u.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i=t.fragment;i.read-=4;var s=i.bytes();i.read+=4;var a={signature:o(i,2).getBytes()},c=n.util.createBuffer();c.putBuffer(e.session.md5.digest()),c.putBuffer(e.session.sha1.digest()),c=c.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(c,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure}})}e.expect=S,e.process()},u.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.record_overflow}});if(null===e.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.insufficient_security}},s=e.verify(e,i.alert.description,0,[]);if(!0!==s)return(s||0===s)&&("object"!=typeof s||n.util.isArray(s)?"number"==typeof s&&(i.alert.description=s):(s.message&&(i.message=s.message),s.alert&&(i.alert.description=s.alert))),e.error(e,i)}null!==e.session.certificateRequest&&(t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)}),u.queue(e,t)),t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createClientKeyExchange(e)}),u.queue(e,t),e.expect=b;var a=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateVerify(e,t)})),u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.pending=u.createConnectionState(e),e.state.current.write=e.state.pending.write,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)})),e.expect=p,u.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return a(e,null);u.getClientSignature(e,a)},u.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var r=e.entity===u.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=u.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?g:E,e.process()},u.handleFinished=function(e,t,r){var s=t.fragment;s.read-=4;var a=s.bytes();s.read+=4;var o=t.fragment.getBytes();(s=n.util.createBuffer()).putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest());var c=e.entity===u.ConnectionEnd.client,l=c?"server finished":"client finished",f=e.session.sp;if((s=i(f.master_secret,l,s.getBytes(),12)).getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decrypt_error}});e.session.md5.update(a),e.session.sha1.update(a),(e.session.resuming&&c||!e.session.resuming&&!c)&&(u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))),e.expect=c?m:w,e.handshaking=!1,++e.handshakes,e.peerCertificate=c?e.session.serverCertificate:e.session.clientCertificate,u.flush(e),e.isConnected=!0,e.connected(e),e.process()},u.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case u.Alert.Description.close_notify:r="Connection closed.";break;case u.Alert.Description.unexpected_message:r="Unexpected message.";break;case u.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case u.Alert.Description.decryption_failed:r="Decryption failed.";break;case u.Alert.Description.record_overflow:r="Record overflow.";break;case u.Alert.Description.decompression_failure:r="Decompression failed.";break;case u.Alert.Description.handshake_failure:r="Handshake failure.";break;case u.Alert.Description.bad_certificate:r="Bad certificate.";break;case u.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case u.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case u.Alert.Description.certificate_expired:r="Certificate expired.";break;case u.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case u.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case u.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case u.Alert.Description.access_denied:r="Access denied.";break;case u.Alert.Description.decode_error:r="Decode error.";break;case u.Alert.Description.decrypt_error:r="Decrypt error.";break;case u.Alert.Description.export_restriction:r="Export restriction.";break;case u.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case u.Alert.Description.insufficient_security:r="Insufficient security.";break;case u.Alert.Description.internal_error:r="Internal error.";break;case u.Alert.Description.user_canceled:r="User canceled.";break;case u.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===u.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===u.ConnectionEnd.client?"server":"client",alert:i}),e.process()},u.handleHandshake=function(e,t){var r=t.fragment,i=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=n.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(s+4);r.read+=4,i in U[e.entity][e.expect]?(e.entity!==u.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),i!==u.HandshakeType.hello_request&&i!==u.HandshakeType.certificate_verify&&i!==u.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),U[e.entity][e.expect][i](e,t,s)):u.handleUnexpected(e,t)},u.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},u.handleHeartbeat=function(e,t){var r=t.fragment,i=r.getByte(),s=r.getInt16(),a=r.getBytes(s);if(i===u.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>a.length)return e.process();u.queue(e,u.createRecord(e,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_response,a)})),u.flush(e)}else if(i===u.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,n.util.createBuffer(a))}e.process()};var l=1,f=2,d=3,h=4,p=5,g=6,m=7,b=8,y=1,v=2,k=3,S=4,E=5,w=6,C=u.handleUnexpected,A=u.handleChangeCipherSpec,I=u.handleAlert,T=u.handleHandshake,_=u.handleApplicationData,B=u.handleHeartbeat,N=[];N[u.ConnectionEnd.client]=[[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[A,I,C,C,B],[C,I,T,C,B],[C,I,T,_,B],[C,I,T,C,B]],N[u.ConnectionEnd.server]=[[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[C,I,T,C,B],[A,I,C,C,B],[C,I,T,C,B],[C,I,T,_,B],[C,I,T,C,B]];var R=u.handleHelloRequest,P=u.handleServerHello,x=u.handleCertificate,L=u.handleServerKeyExchange,M=u.handleCertificateRequest,D=u.handleServerHelloDone,O=u.handleFinished,U=[];U[u.ConnectionEnd.client]=[[C,C,P,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,x,L,M,D,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,L,M,D,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,M,D,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,D,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,O],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]];var K=u.handleClientHello,V=u.handleClientKeyExchange,q=u.handleCertificateVerify;U[u.ConnectionEnd.server]=[[C,K,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,x,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,V,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,q,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,O],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]],u.generateKeys=function(e,t){var r=i,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===u.Versions.TLS_1_0.major&&e.version.minor===u.Versions.TLS_1_0.minor;a&&(s+=2*t.fixed_iv_length);var o=r(t.master_secret,"key expansion",n,s),c={client_write_MAC_key:o.getBytes(t.mac_key_length),server_write_MAC_key:o.getBytes(t.mac_key_length),client_write_key:o.getBytes(t.enc_key_length),server_write_key:o.getBytes(t.enc_key_length)};return a&&(c.client_write_IV=o.getBytes(t.fixed_iv_length),c.server_write_IV=o.getBytes(t.fixed_iv_length)),c},u.createConnectionState=function(e){var t=e.entity===u.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}),!e.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=u.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case u.CompressionMethod.none:break;case u.CompressionMethod.deflate:n.read.compressFunction=a,n.write.compressFunction=s;break;default:throw new Error("Unsupported compression algorithm.")}}return n},u.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(t),r.putBytes(n.random.getBytes(28)),r},u.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},u.createAlert=function(e,t){var r=n.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),u.createRecord(e,{type:u.ContentType.alert,data:r})},u.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=n.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var i=e.cipherSuites[r];t.putByte(i.id[0]),t.putByte(i.id[1])}var s=t.length(),a=n.util.createBuffer();a.putByte(u.CompressionMethod.none);var o=a.length(),l=n.util.createBuffer();if(e.virtualHost){var f=n.util.createBuffer();f.putByte(0),f.putByte(0);var d=n.util.createBuffer();d.putByte(0),c(d,2,n.util.createBuffer(e.virtualHost));var h=n.util.createBuffer();c(h,2,d),c(f,2,h),l.putBuffer(f)}var p=l.length();p>0&&(p+=2);var g=e.session.id,m=g.length+1+2+4+28+2+s+1+o+p,b=n.util.createBuffer();return b.putByte(u.HandshakeType.client_hello),b.putInt24(m),b.putByte(e.version.major),b.putByte(e.version.minor),b.putBytes(e.session.sp.client_random),c(b,1,n.util.createBuffer(g)),c(b,2,t),c(b,1,a),p>0&&c(b,2,l),b},u.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,i=n.util.createBuffer();return i.putByte(u.HandshakeType.server_hello),i.putInt24(r),i.putByte(e.version.major),i.putByte(e.version.minor),i.putBytes(e.session.sp.server_random),c(i,1,n.util.createBuffer(t)),i.putByte(e.session.cipherSuite.id[0]),i.putByte(e.session.cipherSuite.id[1]),i.putByte(e.session.compressionMethod),i},u.createCertificate=function(e){var t,r=e.entity===u.ConnectionEnd.client,i=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,i=e.getCertificate(e,t));var s=n.util.createBuffer();if(null!==i)try{n.util.isArray(i)||(i=[i]);for(var a=null,o=0;o<i.length;++o){var l=n.pem.decode(i[o])[0];if("CERTIFICATE"!==l.type&&"X509 CERTIFICATE"!==l.type&&"TRUSTED CERTIFICATE"!==l.type){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw f.headerType=l.type,f}if(l.procType&&"ENCRYPTED"===l.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=n.util.createBuffer(l.body);null===a&&(a=n.asn1.fromDer(d.bytes(),!1));var h=n.util.createBuffer();c(h,3,d),s.putBuffer(h)}i=n.pki.certificateFromAsn1(a),r?e.session.clientCertificate=i:e.session.serverCertificate=i}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var p=3+s.length(),g=n.util.createBuffer();return g.putByte(u.HandshakeType.certificate),g.putInt24(p),c(g,3,s),g},u.createClientKeyExchange=function(e){var t=n.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(n.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var i=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,s=n.util.createBuffer();return s.putByte(u.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s},u.createServerKeyExchange=function(e){var t=n.util.createBuffer();return t},u.getClientSignature=function(e,t){var r=n.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.clientCertificate),i=n.pki.privateKeyFromPem(i)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}null===i?e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):t=i.sign(t,null),r(e,t)},e.getSignature(e,r,t)},u.createCertificateVerify=function(e,t){var r=t.length+2,i=n.util.createBuffer();return i.putByte(u.HandshakeType.certificate_verify),i.putInt24(r),i.putInt16(t.length),i.putBytes(t),i},u.createCertificateRequest=function(e){var t=n.util.createBuffer();t.putByte(1);var r=n.util.createBuffer();for(var i in e.caStore.certs){var s=e.caStore.certs[i],a=n.pki.distinguishedNameToAsn1(s.subject),o=n.asn1.toDer(a);r.putInt16(o.length()),r.putBuffer(o)}var l=1+t.length()+2+r.length(),f=n.util.createBuffer();return f.putByte(u.HandshakeType.certificate_request),f.putInt24(l),c(f,1,t),c(f,2,r),f},u.createServerHelloDone=function(e){var t=n.util.createBuffer();return t.putByte(u.HandshakeType.server_hello_done),t.putInt24(0),t},u.createChangeCipherSpec=function(){var e=n.util.createBuffer();return e.putByte(1),e},u.createFinished=function(e){var t=n.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===u.ConnectionEnd.client,s=e.session.sp,a=r?"client finished":"server finished";t=i(s.master_secret,a,t.getBytes(),12);var o=n.util.createBuffer();return o.putByte(u.HandshakeType.finished),o.putInt24(t.length()),o.putBuffer(t),o},u.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var i=n.util.createBuffer();i.putByte(e),i.putInt16(r),i.putBytes(t);var s=i.length(),a=Math.max(16,s-r-3);return i.putBytes(n.random.getBytes(a)),i},u.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==u.ContentType.handshake&&t.type!==u.ContentType.alert&&t.type!==u.ContentType.change_cipher_spec)){if(t.type===u.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var i;if(t.fragment.length()<=u.MaxFragment)i=[t];else{i=[];for(var s=t.fragment.bytes();s.length>u.MaxFragment;)i.push(u.createRecord(e,{type:t.type,data:n.util.createBuffer(s.slice(0,u.MaxFragment))})),s=s.slice(u.MaxFragment);s.length>0&&i.push(u.createRecord(e,{type:t.type,data:n.util.createBuffer(s)}))}for(var a=0;a<i.length&&!e.fail;++a){var o=i[a];e.state.current.write.update(e,o)&&e.records.push(o)}}},u.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var j=function(e){switch(e){case!0:return!0;case n.pki.certificateError.bad_certificate:return u.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return u.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return u.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return u.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return u.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return u.Alert.Description.unknown_ca;default:return u.Alert.Description.bad_certificate}};for(var F in u.verifyCertificateChain=function(e,t){try{n.pki.verifyCertificateChain(e.caStore,t,(function(t,r,i){j(t);var s=e.verify(e,t,r,i);if(!0!==s){if("object"==typeof s&&!n.util.isArray(s)){var a=new Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate},s.message&&(a.message=s.message),s.alert&&(a.alert.description=s.alert),a}s!==t&&(s=function(e){switch(e){case!0:return!0;case u.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case u.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case u.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case u.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case u.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case u.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(s))}return s}))}catch(t){var r=t;("object"!=typeof r||n.util.isArray(r))&&(r={send:!0,alert:{level:u.Alert.Level.fatal,description:j(t)}}),"send"in r||(r.send=!0),"alert"in r||(r.alert={level:u.Alert.Level.fatal,description:j(r.error)}),e.error(e,r)}return!e.fail},u.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var i in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(i):delete e[i];r.getSession=function(e){var t=null,i=null;if(e?i=n.util.bytesToHex(e):r.order.length>0&&(i=r.order[0]),null!==i&&i in r.cache)for(var s in t=r.cache[i],delete r.cache[i],r.order)if(r.order[s]===i){r.order.splice(s,1);break}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var i=r.order.shift();delete r.cache[i]}i=n.util.bytesToHex(e);r.order.push(i),r.cache[i]=t}}return r},u.createConnection=function(e){var t=null;t=e.caStore?n.util.isArray(e.caStore)?n.pki.createCaStore(e.caStore):e.caStore:n.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var i in r=[],u.CipherSuites)r.push(u.CipherSuites[i]);var s=e.server?u.ConnectionEnd.server:u.ConnectionEnd.client,a=e.sessionCache?u.createSessionCache(e.sessionCache):null,o={version:{major:u.Version.major,minor:u.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===u.ConnectionEnd.client?"client":"server"),r.send&&(u.queue(t,u.createAlert(t,r.alert)),u.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){o.version={major:u.Version.major,minor:u.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=(o.entity,u.ConnectionEnd.client,0),o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(e||void 0===e),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=u.createConnectionState(o)}};o.reset();return o.handshake=function(e){if(o.entity!==u.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0;var t=null;(e=e||"").length>0&&(o.sessionCache&&(t=o.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&o.sessionCache&&null!==(t=o.sessionCache.getSession())&&(e=t.id),o.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},t&&(o.version=t.version,o.session.sp=t.sp),o.session.sp.client_random=u.createRandom().getBytes(),o.open=!0,u.queue(o,u.createRecord(o,{type:u.ContentType.handshake,data:u.createClientHello(o)})),u.flush(o)}},o.process=function(e){var t=0;return e&&o.input.putBytes(e),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(t=function(e){var t=0,r=e.input,i=r.length();if(i<5)t=5-i;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var s=e.record.version.major===e.version.major;s&&e.session&&e.session.version&&(s=e.record.version.minor===e.version.minor),s||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}})}return t}(o)),o.fail||null===o.record||o.record.ready||(t=function(e){var t=0,r=e.input,n=r.length();return n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})),e.record.ready=!0)),t}(o)),!o.fail&&null!==o.record&&o.record.ready&&function(e,t){var r=t.type-u.ContentType.change_cipher_spec,n=N[e.entity][e.expect];r in n?n[r](e,t):u.handleUnexpected(e,t)}(o,o.record)),t},o.prepare=function(e){return u.queue(o,u.createRecord(o,{type:u.ContentType.application_data,data:n.util.createBuffer(e)})),u.flush(o)},o.prepareHeartbeatRequest=function(e,t){return e instanceof n.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),o.expectedHeartbeatPayload=e,u.queue(o,u.createRecord(o,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_request,e,t)})),u.flush(o)},o.close=function(e){if(!o.fail&&o.sessionCache&&o.session){var t={id:o.session.id,version:o.session.version,sp:o.session.sp};t.sp.keys=null,o.sessionCache.setSession(t.id,t)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,u.queue(o,u.createAlert(o,{level:u.Alert.Level.warning,description:u.Alert.Description.close_notify})),u.flush(o)),o.closed(o)),o.reset(e)},o},e.exports=n.tls=n.tls||{},u)"function"!=typeof u[F]&&(n.tls[F]=u[F]);n.tls.prf_tls1=i,n.tls.hmac_sha1=function(e,t,r){var i=n.hmac.create();i.start("SHA1",e);var s=n.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),i.update(s.getBytes()),i.digest().getBytes()},n.tls.createSessionCache=u.createSessionCache,n.tls.createConnection=u.createConnection},30152:(e,t,r)=>{var n=r(34155),i=r(48764).Buffer,s=r(73965),a=r(29480),o=e.exports=s.util=s.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function u(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(o.isArrayBuffer(e)||o.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof u||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==n&&n.nextTick&&!n.browser)return o.nextTick=n.nextTick,void("function"==typeof setImmediate?o.setImmediate=setImmediate:o.setImmediate=o.nextTick);if("function"==typeof setImmediate)return o.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(o.nextTick=function(e){return setImmediate(e)});if(o.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];o.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),i=!0,s=document.createElement("div");t=[];new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(s,{attributes:!0});var a=o.setImmediate;o.setImmediate=function(e){Date.now()-r>15?(r=Date.now(),a(e)):(t.push(e),1===t.length&&s.setAttribute("a",i=!i))}}o.nextTick=o.setImmediate}(),o.isNodejs=void 0!==n&&n.versions&&n.versions.node,o.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},o.isArrayBufferView=function(e){return e&&o.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},o.ByteBuffer=u,o.ByteStringBuffer=u;o.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},o.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},o.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},o.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},o.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},o.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},o.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(o.encodeUtf8(e))},o.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},o.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},o.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},o.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},o.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},o.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},o.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},o.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},o.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},o.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},o.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},o.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},o.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},o.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},o.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},o.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},o.ByteStringBuffer.prototype.copy=function(){var e=o.createBuffer(this.data);return e.read=this.read,e},o.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},o.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},o.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},o.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.ByteStringBuffer.prototype.toString=function(){return o.decodeUtf8(this.bytes())},o.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=o.isArrayBuffer(e),n=o.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},o.DataBuffer.prototype.length=function(){return this.write-this.read},o.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},o.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},o.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},o.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},o.DataBuffer.prototype.putBytes=function(e,t){if(o.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(o.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof o.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&o.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof o.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=o.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=o.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},o.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},o.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},o.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},o.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},o.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},o.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},o.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},o.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},o.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},o.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},o.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},o.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},o.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},o.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},o.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},o.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},o.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},o.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},o.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},o.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},o.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},o.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},o.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},o.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},o.DataBuffer.prototype.copy=function(){return new o.DataBuffer(this)},o.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},o.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},o.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},o.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},o.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return o.binary.raw.encode(t);if("hex"===e)return o.binary.hex.encode(t);if("base64"===e)return o.binary.base64.encode(t);if("utf8"===e)return o.text.utf8.decode(t);if("utf16"===e)return o.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},o.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=o.encodeUtf8(e)),new o.ByteBuffer(e)},o.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},o.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,o=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),o>=10&&(n+=s,s="",o=0),s+=String.fromCharCode(i),++o;return n+=s},o.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},o.bytesToHex=function(e){return o.createBuffer(e).toHex()},o.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],d="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";o.encode64=function(e,t){for(var r,n,i,s="",a="",o=0;o<e.length;)r=e.charCodeAt(o++),n=e.charCodeAt(o++),i=e.charCodeAt(o++),s+=l.charAt(r>>2),s+=l.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=l.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":l.charAt(63&i)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+=s},o.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,s="",a=0;a<e.length;)t=f[e.charCodeAt(a++)-43],r=f[e.charCodeAt(a++)-43],n=f[e.charCodeAt(a++)-43],i=f[e.charCodeAt(a++)-43],s+=String.fromCharCode(t<<2|r>>4),64!==n&&(s+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(s+=String.fromCharCode((3&n)<<6|i)));return s},o.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},o.decodeUtf8=function(e){return decodeURIComponent(escape(e))},o.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},o.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},o.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},o.binary.hex.encode=o.bytesToHex,o.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,s=r=r||0;for(1&e.length&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n},o.binary.base64.encode=function(e,t){for(var r,n,i,s="",a="",o=0;o<e.byteLength;)r=e[o++],n=e[o++],i=e[o++],s+=l.charAt(r>>2),s+=l.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=l.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":l.charAt(63&i)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+=s},o.binary.base64.decode=function(e,t,r){var n,i,s,a,o=t;o||(o=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,u=r=r||0;c<e.length;)n=f[e.charCodeAt(c++)-43],i=f[e.charCodeAt(c++)-43],s=f[e.charCodeAt(c++)-43],a=f[e.charCodeAt(c++)-43],o[u++]=n<<2|i>>4,64!==s&&(o[u++]=(15&i)<<4|s>>2,64!==a&&(o[u++]=(3&s)<<6|a));return t?u-r:o.subarray(0,u)},o.binary.base58.encode=function(e,t){return o.binary.baseN.encode(e,d,t)},o.binary.base58.decode=function(e,t){return o.binary.baseN.decode(e,d,t)},o.text={utf8:{},utf16:{}},o.text.utf8.encode=function(e,t,r){e=o.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n},o.text.utf8.decode=function(e){return o.decodeUtf8(String.fromCharCode.apply(null,e))},o.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),s=r=r||0,a=r,o=0;o<e.length;++o)i[a++]=e.charCodeAt(o),s+=2;return t?s-r:n},o.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},o.deflate=function(e,t,r){if(t=o.decode64(e.deflate(o.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},o.inflate=function(e,t,r){var n=e.inflate(o.encode64(t)).rval;return null===n?null:o.decode64(n)};var h=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=o.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},p=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(o.decode64(r))),r},g=function(e,t,r,n){var i=p(e,t);null===i&&(i={}),i[r]=n,h(e,t,i)},m=function(e,t,r){var n=p(e,t);return null!==n&&(n=r in n?n[r]:null),n},b=function(e,t,r){var n=p(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),h(e,t,n)}},y=function(e,t){h(e,t,null)},v=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var s=!1,a=null;for(var o in r){n=r[o];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),s="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),s=!0)}catch(e){a=e}if(s)break}if(!s)throw a;return i};o.setItem=function(e,t,r,n,i){v(g,arguments,i)},o.getItem=function(e,t,r,n){return v(m,arguments,n)},o.removeItem=function(e,t,r,n){v(b,arguments,n)},o.clearItems=function(e,t,r){v(y,arguments,r)},o.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var k=null;o.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,s,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),s=r[n].substring(a+1)):(i=r[n],s=null),i in t||(t[i]=[]),i in Object.prototype||null===s||t[i].push(unescape(s))}return t};return void 0===e?(null===k&&(k="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=k):t=r(e),t},o.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:o.getQueryVariables(r)}},o.makeRequest=function(e){var t=o.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},o.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},o.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var s=t[n++];if(n==i)e[s]=r;else{var a=s in e;(!a||a&&"object"!=typeof e[s]||a&&null===e[s])&&(e[s]={}),e=e[s]}}},o.getPath=function(e,t,r){for(var n=0,i=t.length,s=!0;s&&n<i&&"object"==typeof e&&null!==e;){var a=t[n++];(s=a in e)&&(e=e[a])}return s?e:r},o.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},o.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},o.format=function(e){for(var t,r,n=/%./g,i=0,s=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&s.push(r),a=n.lastIndex;var o=t[0][1];switch(o){case"s":case"o":i<arguments.length?s.push(arguments[1+i++]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(e.substring(a)),s.join("")},o.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,o=void 0===n?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",l=u.length>3?u.length%3:0;return c+(l?u.substr(0,l)+o:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")},o.formatSize=function(e){return e=e>=1073741824?o.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?o.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?o.formatNumber(e/1024,0)+" KiB":o.formatNumber(e,0)+" bytes"},o.bytesFromIP=function(e){return-1!==e.indexOf(".")?o.bytesFromIPv4(e):-1!==e.indexOf(":")?o.bytesFromIPv6(e):null},o.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=o.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},o.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=o.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var s=o.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}else n.fillWithByte(0,r),r=0;return n.getBytes()},o.bytesToIP=function(e){return 4===e.length?o.bytesToIPv4(e):16===e.length?o.bytesToIPv6(e):null},o.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},o.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=o.bytesToHex(e[i]+e[i+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var a=r[r.length-1],c=t.length;a&&c===a.end+1?(a.end=c,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:c,end:c})}t.push(s)}if(r.length>0){var u=r[n];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},o.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in o&&!e.update)return t(null,o.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return o.cores=navigator.hardwareConcurrency,t(null,o.cores);if("undefined"==typeof Worker)return o.cores=1,t(null,o.cores);if("undefined"==typeof Blob)return o.cores=2,t(null,o.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,s){if(0===i){var a=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return o.cores=Math.max(1,a),URL.revokeObjectURL(r),t(null,o.cores)}!function(e,t){for(var n=[],i=[],s=0;s<e;++s){var a=new Worker(r);a.addEventListener("message",(function(r){if(i.push(r.data),i.length===e){for(var s=0;s<e;++s)n[s].terminate();t(null,i)}})),n.push(a)}for(s=0;s<e;++s)n[s].postMessage(s)}(s,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],s=r[n]=[],a=0;a<e;++a)if(n!==a){var o=t[a];(i.st>o.st&&i.st<o.et||o.st>i.st&&o.st<i.et)&&s.push(a)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(s,r)),e(n,i-1,s)}))}([],5,16)}},17960:(e,t,r)=>{var n=r(73965);r(9922),r(39661),r(17535),r(57312),r(86167),r(21186),r(78850),r(56823),r(35221),r(30152);var i=n.asn1,s=e.exports=n.pki=n.pki||{},a=s.oids,o={};o.CN=a.commonName,o.commonName="CN",o.C=a.countryName,o.countryName="C",o.L=a.localityName,o.localityName="L",o.ST=a.stateOrProvinceName,o.stateOrProvinceName="ST",o.O=a.organizationName,o.organizationName="O",o.OU=a.organizationalUnitName,o.organizationalUnitName="OU",o.E=a.emailAddress,o.emailAddress="E";var c=n.pki.rsa.publicKeyValidator,u={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},f={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},d={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[f,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}s.RDNAttributesAsArray=function(e,t){for(var r,n,s,c=[],u=0;u<e.value.length;++u){r=e.value[u];for(var l=0;l<r.value.length;++l)s={},n=r.value[l],s.type=i.derToOid(n.value[0].value),s.value=n.value[1].value,s.valueTagClass=n.value[1].type,s.type in a&&(s.name=a[s.type],s.name in o&&(s.shortName=o[s.name])),t&&(t.update(s.type),t.update(s.value)),c.push(s)}return c},s.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],c=i.derToOid(n.value[0].value),u=n.value[1].value,l=0;l<u.length;++l){var f={};if(f.type=c,f.value=u[l].value,f.valueTagClass=u[l].type,f.type in a&&(f.name=a[f.type],f.name in o&&(f.shortName=o[f.name])),f.type===a.extensionRequest){f.extensions=[];for(var d=0;d<f.value.length;++d)f.extensions.push(s.certificateExtensionFromAsn1(f.value[d]))}t.push(f)}return t};var p=function(e,t,r){var n={};if(e!==a["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var s={},o=[];if(!i.validate(t,l,s,o)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=o,c}return void 0!==s.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(s.hashOid)),void 0!==s.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(s.maskGenHashOid)),void 0!==s.saltLength&&(n.saltLength=s.saltLength.charCodeAt(0)),n};function g(e){for(var t,r,s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),a=e.attributes,o=0;o<a.length;++o){var c=(t=a[o]).value,u=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(u=t.valueTagClass)===i.Type.UTF8&&(c=n.util.encodeUtf8(c)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,u,!1,c)])]),s.value.push(r)}return s}function m(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in s.oids?t.name=s.oids[t.type]:t.shortName&&t.shortName in o&&(t.name=s.oids[o[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in s.oids))throw(c=new Error("Attribute type not specified.")).attribute=t,c;t.type=s.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in o&&(t.shortName=o[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(s.certificateExtensionToAsn1(b(t.extensions[n])))}var c;if(void 0===t.value)throw(c=new Error("Attribute value not specified.")).attribute=t,c}}function b(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in s.oids&&(e.name=s.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in s.oids))throw(S=new Error("Extension ID not specified.")).extension=e,S;e.id=s.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,o=0,c=0;e.digitalSignature&&(o|=128,r=7),e.nonRepudiation&&(o|=64,r=6),e.keyEncipherment&&(o|=32,r=5),e.dataEncipherment&&(o|=16,r=4),e.keyAgreement&&(o|=8,r=3),e.keyCertSign&&(o|=4,r=2),e.cRLSign&&(o|=2,r=1),e.encipherOnly&&(o|=1,r=0),e.decipherOnly&&(c|=128,r=7);var u=String.fromCharCode(r);0!==c?u+=String.fromCharCode(o)+String.fromCharCode(c):0!==o&&(u+=String.fromCharCode(o)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var f in e)!0===e[f]&&(f in a?l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a[f]).getBytes())):-1!==f.indexOf(".")&&l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(f).getBytes())))}else if("nsCertType"===e.name){r=0,o=0;e.client&&(o|=128,r=7),e.server&&(o|=64,r=6),e.email&&(o|=32,r=5),e.objsign&&(o|=16,r=4),e.reserved&&(o|=8,r=3),e.sslCA&&(o|=4,r=2),e.emailCA&&(o|=2,r=1),e.objCA&&(o|=1,r=0);u=String.fromCharCode(r);0!==o&&(u+=String.fromCharCode(o)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var d=0;d<e.altNames.length;++d){u=(y=e.altNames[d]).value;if(7===y.type&&y.ip){if(null===(u=n.util.bytesFromIP(y.ip)))throw(S=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,S}else 8===y.type&&(u=y.oid?i.oidToDer(i.oidToDer(y.oid)):i.oidToDer(u));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,y.type,!1,u))}}else if("subjectKeyIdentifier"===e.name&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,h.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;if(e.keyIdentifier){var p=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var m=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[g(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];l.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var b=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);l.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,b))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;var y,v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),k=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(d=0;d<e.altNames.length;++d){u=(y=e.altNames[d]).value;if(7===y.type&&y.ip){if(null===(u=n.util.bytesFromIP(y.ip)))throw(S=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,S}else 8===y.type&&(u=y.oid?i.oidToDer(i.oidToDer(y.oid)):i.oidToDer(u));k.value.push(i.create(i.Class.CONTEXT_SPECIFIC,y.type,!1,u))}v.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[k])),l.push(v)}var S;if(void 0===e.value)throw(S=new Error("Extension value not specified.")).extension=e,S;return e}function y(e,t){switch(e){case a["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}function v(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,s=0;s<r.length;++s){var a=r[s],o=a.value,c=i.Type.UTF8;"valueTagClass"in a&&(c=a.valueTagClass),c===i.Type.UTF8&&(o=n.util.encodeUtf8(o));var u=!1;"valueConstructed"in a&&(u=a.valueConstructed);var l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,c,u,o)])]);t.value.push(l)}return t}s.certificateFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=i.fromDer(a.body,r);return s.certificateFromAsn1(c,t)},s.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:i.toDer(s.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return s.publicKeyFromAsn1(a)},s.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:i.toDer(s.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.getPublicKeyFingerprint=function(e,t){var r,a=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(s.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var o=a.digest();if("hex"===t.encoding){var c=o.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o},s.certificationRequestFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=a.type,o}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var c=i.fromDer(a.body,r);return s.certificationRequestFromAsn1(c,t)},s.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:i.toDer(s.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},s.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return h(e.issuer,t)},e.issuer.addField=function(t){m([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){m(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){m(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)b(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],(t.id&&r.id===t.id||t.name&&r.name===t.name)&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var c=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=o,e.tbsCertificate=s.getTBSCertificate(e);var u=i.toDer(e.tbsCertificate);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var o=t.issuer,c=e.subject;throw(g=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=o.attributes,g.actualIssuer=c.attributes,g}var u=t.md;if(null===u){if(t.signatureOid in a)switch(a[t.signatureOid]){case"sha1WithRSAEncryption":u=n.md.sha1.create();break;case"md5WithRSAEncryption":u=n.md.md5.create();break;case"sha256WithRSAEncryption":u=n.md.sha256.create();break;case"sha384WithRSAEncryption":u=n.md.sha384.create();break;case"sha512WithRSAEncryption":u=n.md.sha512.create();break;case"RSASSA-PSS":u=n.md.sha256.create()}if(null===u)throw(g=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,g;var l=t.tbsCertificate||s.getTBSCertificate(t),f=i.toDer(l);u.update(f.getBytes())}if(null!==u){var d;switch(t.signatureOid){case a.sha1WithRSAEncryption:d=void 0;break;case a["RSASSA-PSS"]:var h,p,g;if(void 0===(h=a[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[h])throw(g=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,g.name=h,g;if(void 0===(p=a[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[p])throw(g=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,g.name=p,g;if(p=n.mgf[p].create(n.md[h].create()),void 0===(h=a[t.signatureParameters.hash.algorithmOid])||void 0===n.md[h])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:h};d=n.pss.create(n.md[h].create(),p,t.signatureParameters.saltLength)}r=e.publicKey.verify(u.digest().getBytes(),t.signature,d)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var s,a;r=!0;for(var o=0;r&&o<n.attributes.length;++o)s=n.attributes[o],a=i.attributes[o],s.type===a.type&&s.value===a.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===s}}return!1},e},s.certificateFromAsn1=function(e,t){var r={},o=[];if(!i.validate(e,u,r,o))throw(d=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=o,d;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=s.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=n.util.createBuffer(r.certSerialNumber);c.serialNumber=l.toHex(),c.signatureOid=n.asn1.derToOid(r.certSignatureOid),c.signatureParameters=p(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=p(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var f=[];if(void 0!==r.certValidity1UTCTime&&f.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&f.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&f.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=f[0],c.validity.notAfter=f[1],c.tbsCertificate=r.tbsCertificate,t){var d;if(c.md=null,c.signatureOid in a)switch(a[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(d=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,d;var g=i.toDer(c.tbsCertificate);c.md.update(g.getBytes())}var b=n.md.sha1.create();c.issuer.getField=function(e){return h(c.issuer,e)},c.issuer.addField=function(e){m([e]),c.issuer.attributes.push(e)},c.issuer.attributes=s.RDNAttributesAsArray(r.certIssuer,b),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=b.digest().toHex();var y=n.md.sha1.create();return c.subject.getField=function(e){return h(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=s.RDNAttributesAsArray(r.certSubject,y),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=y.digest().toHex(),r.certExtensions?c.extensions=s.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),c},s.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(s.certificateExtensionFromAsn1(n.value[i]));return t},s.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var r=0,s=0;(c=i.fromDer(t.value)).value.length>1&&(r=c.value.charCodeAt(1),s=c.value.length>2?c.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&s)}else if("basicConstraints"===t.name){(c=i.fromDer(t.value)).value.length>0&&c.value[0].type===i.Type.BOOLEAN?t.cA=0!==c.value[0].value.charCodeAt(0):t.cA=!1;var o=null;c.value.length>0&&c.value[0].type===i.Type.INTEGER?o=c.value[0].value:c.value.length>1&&(o=c.value[1].value),null!==o&&(t.pathLenConstraint=i.derToInteger(o))}else if("extKeyUsage"===t.name)for(var c=i.fromDer(t.value),u=0;u<c.value.length;++u){var l=i.derToOid(c.value[u].value);l in a?t[a[l]]=!0:t[l]=!0}else if("nsCertType"===t.name){r=0;(c=i.fromDer(t.value)).value.length>1&&(r=c.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var f;t.altNames=[];c=i.fromDer(t.value);for(var d=0;d<c.value.length;++d){var h={type:(f=c.value[d]).type,value:f.value};switch(t.altNames.push(h),f.type){case 1:case 2:case 6:break;case 7:h.ip=n.util.bytesToIP(f.value);break;case 8:h.oid=i.derToOid(f.value)}}}else if("subjectKeyIdentifier"===t.name){c=i.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(c.value)}return t},s.certificationRequestFromAsn1=function(e,t){var r={},o=[];if(!i.validate(e,d,r,o))throw(u=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=o,u;if(i.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=s.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=n.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=p(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=p(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,t){var u;if(c.md=null,c.signatureOid in a)switch(a[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(u=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=c.signatureOid,u;var l=i.toDer(c.certificationRequestInfo);c.md.update(l.getBytes())}var f=n.md.sha1.create();return c.subject.getField=function(e){return h(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=s.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),c.subject.hash=f.digest().toHex(),c.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(e){return h(c,e)},c.addAttribute=function(e){m([e]),c.attributes.push(e)},c.attributes=s.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c},s.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return h(e,t)},e.addAttribute=function(t){m([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){m(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){m(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var o=a[e.md.algorithm+"WithRSAEncryption"];if(!o){var c=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=o,e.certificationRequestInfo=s.getCertificationRequestInfo(e);var u=i.toDer(e.certificationRequestInfo);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in a)switch(a[e.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(d=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,d;var o=e.certificationRequestInfo||s.getCertificationRequestInfo(e),c=i.toDer(o);r.update(c.getBytes())}if(null!==r){var u;switch(e.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var l,f,d;if(void 0===(l=a[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[l])throw(d=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,d.name=l,d;if(void 0===(f=a[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[f])throw(d=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,d.name=f,d;if(f=n.mgf[f].create(n.md[l].create()),void 0===(l=a[e.signatureParameters.hash.algorithmOid])||void 0===n.md[l])throw(d=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,d.name=l,d;u=n.pss.create(n.md[l].create(),f,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,u)}return t},e},s.getTBSCertificate=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),y(e.siginfo.algorithmOid,e.siginfo.parameters)]),g(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notBefore)),i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notAfter))]),g(e.subject),s.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&t.value.push(s.certificateExtensionsToAsn1(e.extensions)),t},s.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),g(e.subject),s.publicKeyToAsn1(e.publicKey),v(e)])},s.distinguishedNameToAsn1=function(e){return g(e)},s.certificateToAsn1=function(e){var t=e.tbsCertificate||s.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),y(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(s.certificateExtensionToAsn1(e[n]));return t},s.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=i.toDer(r).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),t},s.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||s.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),y(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.createCaStore=function(e){var t={certs:{}};function r(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=s.RDNAttributesAsArray(g(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var a=i.toDer(s.certificateToAsn1(e)).getBytes(),o=0;o<t.length;++o){if(a===i.toDer(s.certificateToAsn1(t[o])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var i=t.certs[r];if(n.util.isArray(i))for(var s=0;s<i.length;++s)e.push(i[s]);else e.push(i)}return e},t.removeCertificate=function(e){var o;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var c=r(e.subject);if(!n.util.isArray(c))return o=t.certs[e.subject.hash],delete t.certs[e.subject.hash],o;for(var u=i.toDer(s.certificateToAsn1(e)).getBytes(),l=0;l<c.length;++l){u===i.toDer(s.certificateToAsn1(c[l])).getBytes()&&(o=c[l],c.splice(l,1))}return 0===c.length&&delete t.certs[e.subject.hash],o},e)for(var o=0;o<e.length;++o){var c=e[o];t.addCertificate(c)}return t},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(e,t,r){var i=(t=t.slice(0)).slice(0),a=new Date,o=!0,c=null,u=0;do{var l=t.shift(),f=null,d=!1;if((a<l.validity.notBefore||a>l.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:a}),null===c){if(null===(f=t[0]||e.getIssuer(l))&&l.isIssuer(l)&&(d=!0,f=l),f){var h=f;n.util.isArray(h)||(h=[h]);for(var p=!1;!p&&h.length>0;){f=h.shift();try{p=f.verify(l)}catch(e){}}p||(c={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}null!==c||f&&!d||e.hasCertificate(l)||(c={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(null===c&&f&&!l.isIssuer(f)&&(c={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),null===c)for(var g={keyUsage:!0,basicConstraints:!0},m=0;null===c&&m<l.extensions.length;++m){var b=l.extensions[m];b.critical&&!(b.name in g)&&(c={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(null===c&&(!o||0===t.length&&(!f||d))){var y=l.getExtension("basicConstraints"),v=l.getExtension("keyUsage");if(null!==v&&(v.keyCertSign&&null!==y||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate})),null!==c||null===y||y.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),null===c&&null!==v&&"pathLenConstraint"in y)u-1>y.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}var k=null===c||c.error,S=r?r(k,u,i):k;if(!0!==S)throw!0===k&&(c={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(S||0===S)&&("object"!=typeof S||n.util.isArray(S)?"string"==typeof S&&(c.error=S):(S.message&&(c.message=S.message),S.error&&(c.error=S.error))),c;c=null,o=!1,++u}while(t.length>0);return!0}},54320:(e,t,r)=>{"use strict";var n=r(48764).Buffer;const i=r(69914),s=r(13259),a=r(69282),o=r(7879);class c{constructor(e,t,r){a(n.isBuffer(e),"invalid id provided"),t&&r&&a(t.public.bytes.equals(r.bytes),"inconsistent arguments"),this._id=e,this._idB58String=i.toB58String(this.id),this._privKey=t,this._pubKey=r}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return s.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return s.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:u(this.marshalPrivKey()),pubKey:u(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(e){if(n.isBuffer(e))return this.id.equals(e);if(e.id)return this.id.equals(e.id);throw new Error("not valid Id")}isValid(e){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?e():e(new Error("Keys not match"))}}function u(e){if(e)return e.toString("base64")}(t=e.exports=c).create=function(e,t){"function"==typeof e&&(t=e,e={}),(e=e||{}).bits=e.bits||2048,o([t=>s.keys.generateKeyPair("RSA",e.bits,t),(e,t)=>e.public.hash(((r,n)=>{t(r,n,e)}))],((e,r,n)=>{if(e)return t(e);t(null,new c(r,n))}))},t.createFromHexString=function(e){return new c(i.fromHexString(e))},t.createFromBytes=function(e){return new c(e)},t.createFromB58String=function(e){return new c(i.fromB58String(e))},t.createFromPubKey=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r;try{let t=e;if("string"==typeof t&&(t=n.from(e,"base64")),!n.isBuffer(t))throw new Error("Supplied key is neither a base64 string nor a buffer");r=s.keys.unmarshalPublicKey(t)}catch(e){return t(e)}r.hash(((e,n)=>{if(e)return t(e);t(null,new c(n,null,r))}))},t.createFromPrivKey=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r=e;try{if("string"==typeof r&&(r=n.from(e,"base64")),!n.isBuffer(r))throw new Error("Supplied key is neither a base64 string nor a buffer")}catch(e){return t(e)}o([e=>s.keys.unmarshalPrivateKey(r,e),(e,t)=>e.public.hash(((r,n)=>{t(r,n,e)}))],((e,r,n)=>{if(e)return t(e);t(null,new c(r,n,n.public))}))},t.createFromJSON=function(e,t){if("function"!=typeof t)throw new Error("callback is required");let r,a,u,l;try{r=i.fromB58String(e.id),a=e.privKey&&n.from(e.privKey,"base64"),u=e.pubKey&&n.from(e.pubKey,"base64"),l=u&&s.keys.unmarshalPublicKey(u)}catch(e){return t(e)}a?o([e=>s.keys.unmarshalPrivateKey(a,e),(e,t)=>e.public.hash(((r,n)=>{t(r,n,e)})),(e,t,r)=>{l?l.hash(((n,i)=>{r(n,e,t,i)})):r(null,e,t)}],((e,n,i,s)=>e?t(e):l&&!n.equals(s)?t(new Error("Public and private key do not match")):r&&!n.equals(r)?t(new Error("Id and private key do not match")):void t(null,new c(r,i,l)))):t(null,new c(r,null,l))},t.isPeerId=function(e){return Boolean("object"==typeof e&&e._id&&e._idB58String)}},18119:(e,t,r)=>{"use strict";var n=r(94676),i=r(57044).r;function s(e){return`${e.substring(0,1).toUpperCase()}${e.substring(1)}`}function a(e,t,r,n){if(Object.prototype.hasOwnProperty.call(e,t))return;const i=s(t);Object.defineProperties(e,{[t]:{enumerable:!0,configurable:!0,set:e=>{r=e},get:()=>void 0===r?n:r},[`has${i}`]:{configurable:!0,value:()=>void 0!==r},[`set${i}`]:{configurable:!0,value:e=>{r=e}},[`get${i}`]:{configurable:!0,value:()=>r},[`clear${i}`]:{configurable:!0,value:()=>{r=void 0,e[t]=void 0}}})}var o=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4;default:throw new Error("Unknown wire type: "+e)}},c=function(e){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},u=function(e,t){if(void 0===t)return t;switch(e.type){case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t,10);default:return t}};e.exports=function(e,t,r){for(var l=[],f={},d=[],h=[],p=0;p<r.length;p++){var g=e.fields[p];f[g.tag]=p;var m=g.options&&g.options.default,b=t(g.type,e.id,!1);h[p]=[m,b&&b.values],e.fields[p].packed=g.repeated&&g.options&&g.options.packed&&"false"!==g.options.packed,g.required&&l.push(g.name),g.oneof&&d.push(g.name)}function y(e,t,r,i,o,c){var u=t.name;if(t.oneof)for(var l=Object.keys(r),f=0;f<l.length;f++)if(d.indexOf(l[f])>-1){const e=s(l[f]);delete r[`has${e}`],delete r[`get${e}`],delete r[`set${e}`],delete r[`clear${e}`],delete r[l[f]]}let h;if(e.message){var p=n.decode(i,o);o+=n.decode.bytes;var g=e.decode(i,o,o+p);t.map?(h=r[u]||{},h[g.key]=g.value):t.repeated?(h=r[u]||[],h.push(g)):h=g}else t.repeated?(h=r[u]||[],h.push(e.decode(i,o))):h=e.decode(i,o);return a(r,u,h),o+=e.decode.bytes}return function t(s,p,g){if(null==p&&(p=0),null==g&&(g=s.length),!(g<=s.length&&p<=s.length))throw new Error("Decoded message is not valid");for(var m,b=p,v={};;){if(g<=p){var k,S,E="",w=0;for(w=0;w<l.length;w++)if(E=l[w],!i(v[E]))throw new Error("Decoded message is not valid, missing required field: "+E);for(w=0;w<r.length;w++){let t;if(m=e.fields[w],S=h[w][0],k=h[w][1],E=m.name,!Object.prototype.hasOwnProperty.call(v,E)){var C=!1;if(m.oneof)for(var A=Object.keys(v),I=0;I<A.length;I++)if(d.indexOf(A[I])>-1){C=!0;break}C||(k?m.repeated?S=[]:(S=S&&k[S]?k[S].value:k[Object.keys(k)[0]].value,S=parseInt(S||0,10)):(t=c(m),S=u(m,S)),a(v,E,S,t))}}return t.bytes=p-b,v}var T=n.decode(s,p);p+=n.decode.bytes;var _=f[T>>3];if(null!=_){var B=r[_];if((m=e.fields[_]).packed){var N=n.decode(s,p);for(N+=p+=n.decode.bytes;p<N;)p=y(B,m,v,s,p)}else p=y(B,m,v,s,p)}else p=o(7&T,s,p)}}}},4766:(e,t,r)=>{"use strict";const{Buffer:n}=r(48764);var i=r(57044).r,s=r(94676);e.exports=function(e,t,r,a,o){for(var c=Object.keys(a),u=r.length,l={},f=0;f<u;f++){l[f]={p:s.encode(e.fields[f].tag<<3|2),h:s.encode(e.fields[f].tag<<3|r[f].type)};var d=e.fields[f];e.fields[f].packed=d.repeated&&d.options&&d.options.packed&&"false"!==d.options.packed}function h(e,t,r,n,i,a){var o=0;if(!i)for(o=0;o<r.length;o++)e[t++]=r[o];return n.message&&(s.encode(n.encodingLength(a),e,t),t+=s.encode.bytes),n.encode(a,e,t),t+n.encode.bytes}return function t(f,d,p){null==p&&(p=0),null==d&&(d=n.allocUnsafe(o(f)));var g=p,m=Object.keys(f),b=0,y=!1;for(b=0;b<c.length;b++){var v=c[b],k=a[b];if(m.indexOf(k)>-1){if(y)throw new Error("only one of the properties defined in oneof "+v+" can be set");y=!0}}for(b=0;b<u;b++){var S=r[b],E=e.fields[b],w=f[E.name],C=0;if(i(w)){var A,I=l[b].p,T=l[b].h,_=E.packed;if(E.map){var B=Object.keys(w);for(C=0;C<B.length;C++)B[C]={key:B[C],value:w[B[C]]};w=B}if(_){var N=0;for(C=0;C<w.length;C++)Object.prototype.hasOwnProperty.call(w,C)&&(N+=S.encodingLength(w[C]));if(N){for(C=0;C<T.length;C++)d[p++]=I[C];s.encode(N,d,p),p+=s.encode.bytes}}if(E.repeated)for(C=0;C<w.length;C++)A=w[C],i(A)&&(p=h(d,p,T,S,_,A));else p=h(d,p,T,S,_,w)}else if(E.required)throw new Error(E.name+" is required")}return t.bytes=p-g,d}}},17717:(e,t,r)=>{"use strict";var n=r(57044).r,i=r(94676);e.exports=function(e,t,r){for(var s=Object.keys(r),a=t.length,o=new Array(a),c=0;c<e.fields.length;c++){o[c]=i.encodingLength(e.fields[c].tag<<3|t[c].type);var u=e.fields[c];e.fields[c].packed=u.repeated&&u.options&&u.options.packed&&"false"!==u.options.packed}return function(c){var u=0,l=0,f=0;for(l=0;l<s.length;l++){var d=s[l],h=r[d],p=!1;for(f=0;f<h.length;f++)if(n(c[h[f]])){if(p)throw new Error("only one of the properties defined in oneof "+d+" can be set");p=!0}}for(l=0;l<a;l++){var g,m=t[l],b=e.fields[l],y=c[b.name],v=o[l];if(n(y)){if(b.map){var k=Object.keys(y);for(f=0;f<k.length;f++)k[f]={key:k[f],value:y[k[f]]};y=k}if(b.packed){var S=0;for(f=0;f<y.length;f++)n(y[f])&&(S+=g=m.encodingLength(y[f]),m.message&&(S+=i.encodingLength(g)));S&&(u+=v+S+i.encodingLength(S))}else if(b.repeated)for(f=0;f<y.length;f++)n(y[f])&&(u+=v+(g=m.encodingLength(y[f]))+(m.message?i.encodingLength(g):0));else u+=v+(g=m.encodingLength(y))+(m.message?i.encodingLength(g):0)}else if(b.required)throw new Error(b.name+" is required")}return u}}},37447:(e,t,r)=>{"use strict";var n=r(94676),i=r(1842);const{Buffer:s}=r(48764);var a,o,c,u=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};t.make=u,t.bytes=(a=function(e){return s.isBuffer(e)?e.length:s.byteLength(e)},u(2,o=function(e,t,r){var i=r,s=a(e);return n.encode(s,t,r),r+=n.encode.bytes,e instanceof Uint8Array?t.set(e,r):t.write(e,r,s),r+=s,o.bytes=r-i,t},c=function(e,t){var r=t,i=n.decode(e,t);t+=n.decode.bytes;var s=e.slice(t,t+i);return t+=s.length,c.bytes=t-r,s},(function(e){var t=a(e);return n.encodingLength(t)+t}))),t.string=function(){var e=function(t,r,i){var a=i,o=s.byteLength(t);return n.encode(o,r,i,"utf-8"),i+=n.encode.bytes,r.write(t,i,o),i+=o,e.bytes=i-a,r},t=function(e,r){var i=r,s=n.decode(e,r);r+=n.decode.bytes;var a=e.toString("utf-8",r,r+s);return r+=s,t.bytes=r-i,a};return u(2,e,t,(function(e){var t=s.byteLength(e);return n.encodingLength(t)+t}))}(),t.bool=function(){var e=function(t,r,n){return r[n]=t?1:0,e.bytes=1,r},t=function(e,r){var n=e[r]>0;return t.bytes=1,n};return u(0,e,t,(function(e){return 1}))}(),t.int32=function(){var e=function(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,i>2147483647?i-4294967296:i},t=function(e,r,i){return n.encode(e<0?e+4294967296:e,r,i),t.bytes=n.encode.bytes,r};return u(0,t,e,(function(e){return n.encodingLength(e<0?e+4294967296:e)}))}(),t.int64=function(){var e=function(t,r){var i=n.decode(t,r);if(i>=Math.pow(2,63)){for(var a=9;255===t[r+a-1];)a--;a=a||9;var o=s.allocUnsafe(a);t.copy(o,0,r,r+a),o[a-1]=127&o[a-1],i=-1*n.decode(o,0),e.bytes=10}else e.bytes=n.decode.bytes;return i},t=function(e,r,i){if(e<0){var s=i+9;for(n.encode(-1*e,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<s-1;)r[++i]=255;r[s]=1,t.bytes=10}else n.encode(e,r,i),t.bytes=n.encode.bytes;return r};return u(0,t,e,(function(e){return e<0?10:n.encodingLength(e)}))}(),t.sint32=t.sint64=u(0,i.encode,i.decode,i.encodingLength),t.uint32=t.uint64=t.enum=t.varint=u(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=function(){var e=function(t,r,n){return r.set(t,n),e.bytes=8,r},t=function(e,r){var n=e.slice(r,r+8);return t.bytes=8,n};return u(1,e,t,(function(e){return 8}))}(),t.double=function(){var e=function(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r},t=function(e,r){var n=e.readDoubleLE(r);return t.bytes=8,n};return u(1,e,t,(function(e){return 8}))}(),t.fixed32=function(){var e=function(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readUInt32LE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}(),t.sfixed32=function(){var e=function(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readInt32LE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}(),t.float=function(){var e=function(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readFloatLE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}()},29971:(e,t,r)=>{"use strict";var n=r(37447),i=r(18119),s=r(4766),a=r(17717),o=r(94676);e.exports=function(e,t){var r={},c={},u={},l=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,c[e.id]=e,l(e,e.id)})),e.messages&&e.messages.forEach((function(n){n.id=t+(t?".":"")+n.name,r[n.id]=n,n.fields.forEach((function(n){if(n.map){var i="Map_"+n.map.from+"_"+n.map.to,s={name:i,enums:[],messages:[],fields:[{name:"key",type:n.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:n.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+i};r[s.id]||(r[s.id]=s,e.messages.push(s)),n.type=i,n.repeated=!0}})),l(n,n.id)}))};l(e,"");var f=function(e,t){e.messages.forEach((function(r){t[r.name]=d(r.name,e.id)})),e.enums.forEach((function(e){t[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),t.type=2,t.message=!0,t.name=e.name;var r={};e.fields.forEach((function(e){e.oneof&&(r[e.oneof]||(r[e.oneof]=[]),r[e.oneof].push(e.name))}));var n=e.fields.map((function(t){return d(t.type,e.id)})),o=a(e,n,r),c=s(e,d,n,r,o),u=i(e,d,n);return c.bytes=u.bytes=0,t.buffer=!0,t.encode=c,t.decode=u,t.encodingLength=o,t},d=function(e,i,s){if(t&&t[e])return t[e];if(n[e])return n[e];var a,l,d=(i?i+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||r[t]||c[t]}),null);if(!1===s)return d;if(!d)throw new Error("Could not resolve "+e);return d.values?(a=d,l=Object.keys(a.values||[]).map((function(e){return parseInt(a.values[e].value,10)})),n.make(0,(function e(t,r,n){if(!l.length||-1===l.indexOf(t))throw new Error("Invalid enum value: "+t);return o.encode(t,r,n),e.bytes=o.encode.bytes,r}),(function e(t,r){var n=o.decode(t,r);if(!l.length||-1===l.indexOf(n))throw new Error("Invalid enum value: "+n);return e.bytes=o.decode.bytes,n}),o.encodingLength)):u[d.id]||f(d,u[d.id]={})};return(e.enums||[]).concat((e.messages||[]).map((function(e){return d(e.id)})))}},57044:(e,t)=>{"use strict";t.r=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))}},23296:(e,t,r)=>{"use strict";var n=r(54894);const{Buffer:i}=r(48764);var s=r(29971);e.exports=function(e,t){if(t||(t={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var r="object"!=typeof e||i.isBuffer(e)?n.parse(e):e,a=function(){var e=this;s(r,t.encodings||{}).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return a.prototype.toString=function(){return n.stringify(r)},a.prototype.toJSON=function(){return r},new a}},44733:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var a=t(),o=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,i){var s,a=0;for(s=0;s<i;s++)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}function m(e,t,r,n){return g(e,t,r,n,16)}function b(e,t,r,n){return g(e,t,r,n,32)}function y(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,k=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=s,E=a,w=o,C=c,A=u,I=l,T=f,_=d,B=h,N=p,R=g,P=m,x=b,L=y,M=v,D=k,O=0;O<20;O+=2)S^=(i=(x^=(i=(B^=(i=(A^=(i=S+x|0)<<7|i>>>25)+S|0)<<9|i>>>23)+A|0)<<13|i>>>19)+B|0)<<18|i>>>14,I^=(i=(E^=(i=(L^=(i=(N^=(i=I+E|0)<<7|i>>>25)+I|0)<<9|i>>>23)+N|0)<<13|i>>>19)+L|0)<<18|i>>>14,R^=(i=(T^=(i=(w^=(i=(M^=(i=R+T|0)<<7|i>>>25)+R|0)<<9|i>>>23)+M|0)<<13|i>>>19)+w|0)<<18|i>>>14,D^=(i=(P^=(i=(_^=(i=(C^=(i=D+P|0)<<7|i>>>25)+D|0)<<9|i>>>23)+C|0)<<13|i>>>19)+_|0)<<18|i>>>14,S^=(i=(C^=(i=(w^=(i=(E^=(i=S+C|0)<<7|i>>>25)+S|0)<<9|i>>>23)+E|0)<<13|i>>>19)+w|0)<<18|i>>>14,I^=(i=(A^=(i=(_^=(i=(T^=(i=I+A|0)<<7|i>>>25)+I|0)<<9|i>>>23)+T|0)<<13|i>>>19)+_|0)<<18|i>>>14,R^=(i=(N^=(i=(B^=(i=(P^=(i=R+N|0)<<7|i>>>25)+R|0)<<9|i>>>23)+P|0)<<13|i>>>19)+B|0)<<18|i>>>14,D^=(i=(M^=(i=(L^=(i=(x^=(i=D+M|0)<<7|i>>>25)+D|0)<<9|i>>>23)+x|0)<<13|i>>>19)+L|0)<<18|i>>>14;S=S+s|0,E=E+a|0,w=w+o|0,C=C+c|0,A=A+u|0,I=I+l|0,T=T+f|0,_=_+d|0,B=B+h|0,N=N+p|0,R=R+g|0,P=P+m|0,x=x+b|0,L=L+y|0,M=M+v|0,D=D+k|0,e[0]=S>>>0&255,e[1]=S>>>8&255,e[2]=S>>>16&255,e[3]=S>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=w>>>0&255,e[9]=w>>>8&255,e[10]=w>>>16&255,e[11]=w>>>24&255,e[12]=C>>>0&255,e[13]=C>>>8&255,e[14]=C>>>16&255,e[15]=C>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=I>>>0&255,e[21]=I>>>8&255,e[22]=I>>>16&255,e[23]=I>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=_>>>0&255,e[29]=_>>>8&255,e[30]=_>>>16&255,e[31]=_>>>24&255,e[32]=B>>>0&255,e[33]=B>>>8&255,e[34]=B>>>16&255,e[35]=B>>>24&255,e[36]=N>>>0&255,e[37]=N>>>8&255,e[38]=N>>>16&255,e[39]=N>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=x>>>0&255,e[49]=x>>>8&255,e[50]=x>>>16&255,e[51]=x>>>24&255,e[52]=L>>>0&255,e[53]=L>>>8&255,e[54]=L>>>16&255,e[55]=L>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,r,n)}function v(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,k=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=0;S<20;S+=2)s^=(i=(b^=(i=(h^=(i=(u^=(i=s+b|0)<<7|i>>>25)+s|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(y^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,g^=(i=(f^=(i=(o^=(i=(v^=(i=g+f|0)<<7|i>>>25)+g|0)<<9|i>>>23)+v|0)<<13|i>>>19)+o|0)<<18|i>>>14,k^=(i=(m^=(i=(d^=(i=(c^=(i=k+m|0)<<7|i>>>25)+k|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,s^=(i=(c^=(i=(o^=(i=(a^=(i=s+c|0)<<7|i>>>25)+s|0)<<9|i>>>23)+a|0)<<13|i>>>19)+o|0)<<18|i>>>14,l^=(i=(u^=(i=(d^=(i=(f^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,g^=(i=(p^=(i=(h^=(i=(m^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+m|0)<<13|i>>>19)+h|0)<<18|i>>>14,k^=(i=(v^=(i=(y^=(i=(b^=(i=k+v|0)<<7|i>>>25)+k|0)<<9|i>>>23)+b|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var k=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,r,n,i,s,a){var o,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=s[c];for(;i>=64;){for(y(l,u,a,k),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(o=1,c=8;c<16;c++)o=o+(255&u[c])|0,u[c]=255&o,o>>>=8;i-=64,t+=64,n+=64}if(i>0)for(y(l,u,a,k),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function E(e,t,r,n,i){var s,a,o=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)o[a]=0;for(a=0;a<8;a++)o[a]=n[a];for(;r>=64;){for(y(c,o,i,k),a=0;a<64;a++)e[t+a]=c[a];for(s=1,a=8;a<16;a++)s=s+(255&o[a])|0,o[a]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(y(c,o,i,k),a=0;a<r;a++)e[t+a]=c[a];return 0}function w(e,t,r,n,i){var s=new Uint8Array(32);v(s,n,i,k);for(var a=new Uint8Array(8),o=0;o<8;o++)a[o]=n[o+16];return E(e,t,r,a,s)}function C(e,t,r,n,i,s,a){var o=new Uint8Array(32);v(o,s,a,k);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=s[u+16];return S(e,t,r,n,i,c,o)}var A=function(e){var t,r,n,i,s,a,o,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|a<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|o<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function I(e,t,r,n,i,s){var a=new A(s);return a.update(r,n,i),a.finish(e,t),0}function T(e,t,r,n,i,s){var a=new Uint8Array(16);return I(a,0,r,n,i,s),m(e,t,a,0)}function _(e,t,r,n,i){var s;if(r<32)return-1;for(C(e,0,t,0,r,n,i),I(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function B(e,t,r,n,i){var s,a=new Uint8Array(32);if(r<32)return-1;if(w(a,0,32,n,i),0!==T(t,16,t,32,r-32,a))return-1;for(C(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function N(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function R(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function x(e,r){var n,i,s,a=t(),o=t();for(n=0;n<16;n++)o[n]=r[n];for(R(o),R(o),R(o),i=0;i<2;i++){for(a[0]=o[0]-65517,n=1;n<15;n++)a[n]=o[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),s=a[15]>>16&1,a[14]&=65535,P(o,a,1-s)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function L(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return x(r,e),x(n,t),b(r,0,n,0)}function M(e){var t=new Uint8Array(32);return x(t,e),1&t[0]}function D(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function O(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function U(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function K(e,t,r){var n,i,s=0,a=0,o=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,g=0,m=0,b=0,y=0,v=0,k=0,S=0,E=0,w=0,C=0,A=0,I=0,T=0,_=0,B=0,N=0,R=0,P=0,x=0,L=0,M=0,D=r[0],O=r[1],U=r[2],K=r[3],V=r[4],q=r[5],j=r[6],F=r[7],z=r[8],J=r[9],H=r[10],G=r[11],Y=r[12],Q=r[13],X=r[14],Z=r[15];s+=(n=t[0])*D,a+=n*O,o+=n*U,c+=n*K,u+=n*V,l+=n*q,f+=n*j,d+=n*F,h+=n*z,p+=n*J,g+=n*H,m+=n*G,b+=n*Y,y+=n*Q,v+=n*X,k+=n*Z,a+=(n=t[1])*D,o+=n*O,c+=n*U,u+=n*K,l+=n*V,f+=n*q,d+=n*j,h+=n*F,p+=n*z,g+=n*J,m+=n*H,b+=n*G,y+=n*Y,v+=n*Q,k+=n*X,S+=n*Z,o+=(n=t[2])*D,c+=n*O,u+=n*U,l+=n*K,f+=n*V,d+=n*q,h+=n*j,p+=n*F,g+=n*z,m+=n*J,b+=n*H,y+=n*G,v+=n*Y,k+=n*Q,S+=n*X,E+=n*Z,c+=(n=t[3])*D,u+=n*O,l+=n*U,f+=n*K,d+=n*V,h+=n*q,p+=n*j,g+=n*F,m+=n*z,b+=n*J,y+=n*H,v+=n*G,k+=n*Y,S+=n*Q,E+=n*X,w+=n*Z,u+=(n=t[4])*D,l+=n*O,f+=n*U,d+=n*K,h+=n*V,p+=n*q,g+=n*j,m+=n*F,b+=n*z,y+=n*J,v+=n*H,k+=n*G,S+=n*Y,E+=n*Q,w+=n*X,C+=n*Z,l+=(n=t[5])*D,f+=n*O,d+=n*U,h+=n*K,p+=n*V,g+=n*q,m+=n*j,b+=n*F,y+=n*z,v+=n*J,k+=n*H,S+=n*G,E+=n*Y,w+=n*Q,C+=n*X,A+=n*Z,f+=(n=t[6])*D,d+=n*O,h+=n*U,p+=n*K,g+=n*V,m+=n*q,b+=n*j,y+=n*F,v+=n*z,k+=n*J,S+=n*H,E+=n*G,w+=n*Y,C+=n*Q,A+=n*X,I+=n*Z,d+=(n=t[7])*D,h+=n*O,p+=n*U,g+=n*K,m+=n*V,b+=n*q,y+=n*j,v+=n*F,k+=n*z,S+=n*J,E+=n*H,w+=n*G,C+=n*Y,A+=n*Q,I+=n*X,T+=n*Z,h+=(n=t[8])*D,p+=n*O,g+=n*U,m+=n*K,b+=n*V,y+=n*q,v+=n*j,k+=n*F,S+=n*z,E+=n*J,w+=n*H,C+=n*G,A+=n*Y,I+=n*Q,T+=n*X,_+=n*Z,p+=(n=t[9])*D,g+=n*O,m+=n*U,b+=n*K,y+=n*V,v+=n*q,k+=n*j,S+=n*F,E+=n*z,w+=n*J,C+=n*H,A+=n*G,I+=n*Y,T+=n*Q,_+=n*X,B+=n*Z,g+=(n=t[10])*D,m+=n*O,b+=n*U,y+=n*K,v+=n*V,k+=n*q,S+=n*j,E+=n*F,w+=n*z,C+=n*J,A+=n*H,I+=n*G,T+=n*Y,_+=n*Q,B+=n*X,N+=n*Z,m+=(n=t[11])*D,b+=n*O,y+=n*U,v+=n*K,k+=n*V,S+=n*q,E+=n*j,w+=n*F,C+=n*z,A+=n*J,I+=n*H,T+=n*G,_+=n*Y,B+=n*Q,N+=n*X,R+=n*Z,b+=(n=t[12])*D,y+=n*O,v+=n*U,k+=n*K,S+=n*V,E+=n*q,w+=n*j,C+=n*F,A+=n*z,I+=n*J,T+=n*H,_+=n*G,B+=n*Y,N+=n*Q,R+=n*X,P+=n*Z,y+=(n=t[13])*D,v+=n*O,k+=n*U,S+=n*K,E+=n*V,w+=n*q,C+=n*j,A+=n*F,I+=n*z,T+=n*J,_+=n*H,B+=n*G,N+=n*Y,R+=n*Q,P+=n*X,x+=n*Z,v+=(n=t[14])*D,k+=n*O,S+=n*U,E+=n*K,w+=n*V,C+=n*q,A+=n*j,I+=n*F,T+=n*z,_+=n*J,B+=n*H,N+=n*G,R+=n*Y,P+=n*Q,x+=n*X,L+=n*Z,k+=(n=t[15])*D,a+=38*(E+=n*U),o+=38*(w+=n*K),c+=38*(C+=n*V),u+=38*(A+=n*q),l+=38*(I+=n*j),f+=38*(T+=n*F),d+=38*(_+=n*z),h+=38*(B+=n*J),p+=38*(N+=n*H),g+=38*(R+=n*G),m+=38*(P+=n*Y),b+=38*(x+=n*Q),y+=38*(L+=n*X),v+=38*(M+=n*Z),s=(n=(s+=38*(S+=n*O))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=g,e[11]=m,e[12]=b,e[13]=y,e[14]=v,e[15]=k}function V(e,t){K(e,t,t)}function q(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)V(i,i),2!==n&&4!==n&&K(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function j(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)V(i,i),1!==n&&K(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function F(e,r,n){var i,s,a=new Uint8Array(32),o=new Float64Array(80),u=t(),l=t(),f=t(),d=t(),h=t(),p=t();for(s=0;s<31;s++)a[s]=r[s];for(a[31]=127&r[31]|64,a[0]&=248,D(o,n),s=0;s<16;s++)l[s]=o[s],d[s]=u[s]=f[s]=0;for(u[0]=d[0]=1,s=254;s>=0;--s)P(u,l,i=a[s>>>3]>>>(7&s)&1),P(f,d,i),O(h,u,f),U(u,u,f),O(f,l,d),U(l,l,d),V(d,h),V(p,u),K(u,f,u),K(f,l,h),O(h,u,f),U(u,u,f),V(l,u),U(f,d,p),K(u,f,c),O(u,u,d),K(f,f,u),K(u,d,p),K(d,l,o),V(l,h),P(u,l,i),P(f,d,i);for(s=0;s<16;s++)o[s+16]=u[s],o[s+32]=f[s],o[s+48]=l[s],o[s+64]=d[s];var g=o.subarray(32),m=o.subarray(16);return q(g,g),K(m,m,g),x(e,m),0}function z(e,t){return F(e,t,s)}function J(e,t){return n(t,32),z(e,t)}function H(e,t,r){var n=new Uint8Array(32);return F(n,r,t),v(e,i,n,k)}A.prototype.blocks=function(e,t,r){for(var n,i,s,a,o,c,u,l,f,d,h,p,g,m,b,y,v,k,S,E=this.fin?0:2048,w=this.h[0],C=this.h[1],A=this.h[2],I=this.h[3],T=this.h[4],_=this.h[5],B=this.h[6],N=this.h[7],R=this.h[8],P=this.h[9],x=this.r[0],L=this.r[1],M=this.r[2],D=this.r[3],O=this.r[4],U=this.r[5],K=this.r[6],V=this.r[7],q=this.r[8],j=this.r[9];r>=16;)d=f=0,d+=(w+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*x,d+=(C+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*j),d+=(A+=8191&(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*q),d+=(I+=8191&(s>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*V),f=(d+=(T+=8191&(a>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*K))>>>13,d&=8191,d+=(_+=o>>>1&8191)*(5*U),d+=(B+=8191&(o>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*O),d+=(N+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),d+=(R+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*M),h=f+=(d+=(P+=l>>>5|E)*(5*L))>>>13,h+=w*L,h+=C*x,h+=A*(5*j),h+=I*(5*q),f=(h+=T*(5*V))>>>13,h&=8191,h+=_*(5*K),h+=B*(5*U),h+=N*(5*O),h+=R*(5*D),f+=(h+=P*(5*M))>>>13,h&=8191,p=f,p+=w*M,p+=C*L,p+=A*x,p+=I*(5*j),f=(p+=T*(5*q))>>>13,p&=8191,p+=_*(5*V),p+=B*(5*K),p+=N*(5*U),p+=R*(5*O),g=f+=(p+=P*(5*D))>>>13,g+=w*D,g+=C*M,g+=A*L,g+=I*x,f=(g+=T*(5*j))>>>13,g&=8191,g+=_*(5*q),g+=B*(5*V),g+=N*(5*K),g+=R*(5*U),m=f+=(g+=P*(5*O))>>>13,m+=w*O,m+=C*D,m+=A*M,m+=I*L,f=(m+=T*x)>>>13,m&=8191,m+=_*(5*j),m+=B*(5*q),m+=N*(5*V),m+=R*(5*K),b=f+=(m+=P*(5*U))>>>13,b+=w*U,b+=C*O,b+=A*D,b+=I*M,f=(b+=T*L)>>>13,b&=8191,b+=_*x,b+=B*(5*j),b+=N*(5*q),b+=R*(5*V),y=f+=(b+=P*(5*K))>>>13,y+=w*K,y+=C*U,y+=A*O,y+=I*D,f=(y+=T*M)>>>13,y&=8191,y+=_*L,y+=B*x,y+=N*(5*j),y+=R*(5*q),v=f+=(y+=P*(5*V))>>>13,v+=w*V,v+=C*K,v+=A*U,v+=I*O,f=(v+=T*D)>>>13,v&=8191,v+=_*M,v+=B*L,v+=N*x,v+=R*(5*j),k=f+=(v+=P*(5*q))>>>13,k+=w*q,k+=C*V,k+=A*K,k+=I*U,f=(k+=T*O)>>>13,k&=8191,k+=_*D,k+=B*M,k+=N*L,k+=R*x,S=f+=(k+=P*(5*j))>>>13,S+=w*j,S+=C*q,S+=A*V,S+=I*K,f=(S+=T*U)>>>13,S&=8191,S+=_*O,S+=B*D,S+=N*M,S+=R*L,w=d=8191&(f=(f=((f+=(S+=P*x)>>>13)<<2)+f|0)+(d&=8191)|0),C=h+=f>>>=13,A=p&=8191,I=g&=8191,T=m&=8191,_=b&=8191,B=y&=8191,N=v&=8191,R=k&=8191,P=S&=8191,t+=16,r-=16;this.h[0]=w,this.h[1]=C,this.h[2]=A,this.h[3]=I,this.h[4]=T,this.h[5]=_,this.h[6]=B,this.h[7]=N,this.h[8]=R,this.h[9]=P},A.prototype.finish=function(e,t){var r,n,i,s,a=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,s=1;s<10;s++)a[s]=this.h[s]+r,r=a[s]>>>13,a[s]&=8191;for(a[9]-=8192,n=(1^r)-1,s=0;s<10;s++)a[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|a[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var G=_,Y=B;var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(e,t,r,n){for(var i,s,a,o,c,u,l,f,d,h,p,g,m,b,y,v,k,S,E,w,C,A,I,T,_,B,N=new Int32Array(16),R=new Int32Array(16),P=e[0],x=e[1],L=e[2],M=e[3],D=e[4],O=e[5],U=e[6],K=e[7],V=t[0],q=t[1],j=t[2],F=t[3],z=t[4],J=t[5],H=t[6],G=t[7],Y=0;n>=128;){for(E=0;E<16;E++)w=8*E+Y,N[E]=r[w+0]<<24|r[w+1]<<16|r[w+2]<<8|r[w+3],R[E]=r[w+4]<<24|r[w+5]<<16|r[w+6]<<8|r[w+7];for(E=0;E<80;E++)if(i=P,s=x,a=L,o=M,c=D,u=O,l=U,K,d=V,h=q,p=j,g=F,m=z,b=J,y=H,G,I=65535&(A=G),T=A>>>16,_=65535&(C=K),B=C>>>16,I+=65535&(A=(z>>>14|D<<18)^(z>>>18|D<<14)^(D>>>9|z<<23)),T+=A>>>16,_+=65535&(C=(D>>>14|z<<18)^(D>>>18|z<<14)^(z>>>9|D<<23)),B+=C>>>16,I+=65535&(A=z&J^~z&H),T+=A>>>16,_+=65535&(C=D&O^~D&U),B+=C>>>16,I+=65535&(A=Q[2*E+1]),T+=A>>>16,_+=65535&(C=Q[2*E]),B+=C>>>16,C=N[E%16],T+=(A=R[E%16])>>>16,_+=65535&C,B+=C>>>16,_+=(T+=(I+=65535&A)>>>16)>>>16,I=65535&(A=S=65535&I|T<<16),T=A>>>16,_=65535&(C=k=65535&_|(B+=_>>>16)<<16),B=C>>>16,I+=65535&(A=(V>>>28|P<<4)^(P>>>2|V<<30)^(P>>>7|V<<25)),T+=A>>>16,_+=65535&(C=(P>>>28|V<<4)^(V>>>2|P<<30)^(V>>>7|P<<25)),B+=C>>>16,T+=(A=V&q^V&j^q&j)>>>16,_+=65535&(C=P&x^P&L^x&L),B+=C>>>16,f=65535&(_+=(T+=(I+=65535&A)>>>16)>>>16)|(B+=_>>>16)<<16,v=65535&I|T<<16,I=65535&(A=g),T=A>>>16,_=65535&(C=o),B=C>>>16,T+=(A=S)>>>16,_+=65535&(C=k),B+=C>>>16,x=i,L=s,M=a,D=o=65535&(_+=(T+=(I+=65535&A)>>>16)>>>16)|(B+=_>>>16)<<16,O=c,U=u,K=l,P=f,q=d,j=h,F=p,z=g=65535&I|T<<16,J=m,H=b,G=y,V=v,E%16==15)for(w=0;w<16;w++)C=N[w],I=65535&(A=R[w]),T=A>>>16,_=65535&C,B=C>>>16,C=N[(w+9)%16],I+=65535&(A=R[(w+9)%16]),T+=A>>>16,_+=65535&C,B+=C>>>16,k=N[(w+1)%16],I+=65535&(A=((S=R[(w+1)%16])>>>1|k<<31)^(S>>>8|k<<24)^(S>>>7|k<<25)),T+=A>>>16,_+=65535&(C=(k>>>1|S<<31)^(k>>>8|S<<24)^k>>>7),B+=C>>>16,k=N[(w+14)%16],T+=(A=((S=R[(w+14)%16])>>>19|k<<13)^(k>>>29|S<<3)^(S>>>6|k<<26))>>>16,_+=65535&(C=(k>>>19|S<<13)^(S>>>29|k<<3)^k>>>6),B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,N[w]=65535&_|B<<16,R[w]=65535&I|T<<16;I=65535&(A=V),T=A>>>16,_=65535&(C=P),B=C>>>16,C=e[0],T+=(A=t[0])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[0]=P=65535&_|B<<16,t[0]=V=65535&I|T<<16,I=65535&(A=q),T=A>>>16,_=65535&(C=x),B=C>>>16,C=e[1],T+=(A=t[1])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[1]=x=65535&_|B<<16,t[1]=q=65535&I|T<<16,I=65535&(A=j),T=A>>>16,_=65535&(C=L),B=C>>>16,C=e[2],T+=(A=t[2])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[2]=L=65535&_|B<<16,t[2]=j=65535&I|T<<16,I=65535&(A=F),T=A>>>16,_=65535&(C=M),B=C>>>16,C=e[3],T+=(A=t[3])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[3]=M=65535&_|B<<16,t[3]=F=65535&I|T<<16,I=65535&(A=z),T=A>>>16,_=65535&(C=D),B=C>>>16,C=e[4],T+=(A=t[4])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[4]=D=65535&_|B<<16,t[4]=z=65535&I|T<<16,I=65535&(A=J),T=A>>>16,_=65535&(C=O),B=C>>>16,C=e[5],T+=(A=t[5])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[5]=O=65535&_|B<<16,t[5]=J=65535&I|T<<16,I=65535&(A=H),T=A>>>16,_=65535&(C=U),B=C>>>16,C=e[6],T+=(A=t[6])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[6]=U=65535&_|B<<16,t[6]=H=65535&I|T<<16,I=65535&(A=G),T=A>>>16,_=65535&(C=K),B=C>>>16,C=e[7],T+=(A=t[7])>>>16,_+=65535&C,B+=C>>>16,B+=(_+=(T+=(I+=65535&A)>>>16)>>>16)>>>16,e[7]=K=65535&_|B<<16,t[7]=G=65535&I|T<<16,Y+=128,n-=128}return n}function Z(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),a=new Uint8Array(256),o=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,X(i,s,t,r),r%=128,n=0;n<r;n++)a[n]=t[o-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,p(a,r-8,o/536870912|0,o<<3),X(i,s,a,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function W(e,r){var n=t(),i=t(),s=t(),a=t(),o=t(),c=t(),u=t(),f=t(),d=t();U(n,e[1],e[0]),U(d,r[1],r[0]),K(n,n,d),O(i,e[0],e[1]),O(d,r[0],r[1]),K(i,i,d),K(s,e[3],r[3]),K(s,s,l),K(a,e[2],r[2]),O(a,a,a),U(o,i,n),U(c,a,s),O(u,a,s),O(f,i,n),K(e[0],o,c),K(e[1],f,u),K(e[2],u,c),K(e[3],o,f)}function $(e,t,r){var n;for(n=0;n<4;n++)P(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),s=t();q(s,r[2]),K(n,r[0],s),K(i,r[1],s),x(e,i),e[31]^=M(n)<<7}function te(e,t,r){var n,i;for(N(e[0],a),N(e[1],o),N(e[2],o),N(e[3],a),i=255;i>=0;--i)$(e,t,n=r[i/8|0]>>(7&i)&1),W(t,e),W(e,e),$(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];N(n[0],f),N(n[1],d),N(n[2],o),K(n[3],f,d),te(e,n,r)}function ne(e,r,i){var s,a=new Uint8Array(64),o=[t(),t(),t(),t()];for(i||n(r,32),Z(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,re(o,a),ee(e,o),s=0;s<32;s++)r[s+32]=e[s];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ae(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,r)}function oe(e,r,n,i){var s,a,o=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),f=[t(),t(),t(),t()];Z(o,i,32),o[0]&=248,o[31]&=127,o[31]|=64;var d=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=o[32+s];for(Z(u,e.subarray(32),n+32),ae(u),re(f,u),ee(e,f),s=32;s<64;s++)e[s]=i[s];for(Z(c,e,n+64),ae(c),s=0;s<64;s++)l[s]=0;for(s=0;s<32;s++)l[s]=u[s];for(s=0;s<32;s++)for(a=0;a<32;a++)l[s+a]+=c[s]*o[a];return se(e.subarray(32),l),d}function ce(e,r,n,i){var s,c=new Uint8Array(32),l=new Uint8Array(64),f=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),s=t(),c=t(),l=t(),f=t(),d=t();return N(e[2],o),D(e[1],r),V(s,e[1]),K(c,s,u),U(s,s,e[2]),O(c,e[2],c),V(l,c),V(f,l),K(d,f,l),K(n,d,s),K(n,n,c),j(n,n),K(n,n,s),K(n,n,c),K(n,n,c),K(e[0],n,c),V(i,e[0]),K(i,i,c),L(i,s)&&K(e[0],e[0],h),V(i,e[0]),K(i,i,c),L(i,s)?-1:(M(e[0])===r[31]>>7&&U(e[0],a,e[0]),K(e[3],e[0],e[1]),0)}(d,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(Z(l,e,n),ae(l),te(f,d,l),re(d,r.subarray(32)),W(f,d),ee(c,f),n-=64,b(r,0,c,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ue=16,le=64,fe=32,de=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:C,crypto_stream:w,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:E,crypto_onetimeauth:I,crypto_onetimeauth_verify:T,crypto_verify_16:m,crypto_verify_32:b,crypto_secretbox:_,crypto_secretbox_open:B,crypto_scalarmult:F,crypto_scalarmult_base:z,crypto_box_beforenm:H,crypto_box_afternm:G,crypto_box:function(e,t,r,n,i,s){var a=new Uint8Array(32);return H(a,i,s),G(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,i,s){var a=new Uint8Array(32);return H(a,i,s),Y(e,t,r,n,a)},crypto_box_keypair:J,crypto_hash:Z,crypto_sign:oe,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:fe,crypto_sign_SECRETKEYBYTES:de,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ie,pack25519:x,unpack25519:D,M:K,A:O,S:V,Z:U,pow2523:j,add:W,set25519:N,modL:se,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return _(i,n,n.length,t,r),i.subarray(ue)},e.secretbox.open=function(e,t,r){pe(e,t,r),he(r,t);for(var n=new Uint8Array(ue+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+ue]=e[s];return n.length<32||0!==B(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ue,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return F(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return z(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return H(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return J(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return oe(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==fe)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(le),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==fe)throw new Error("bad public key size");var n,i=new Uint8Array(le+e.length),s=new Uint8Array(le+e.length);for(n=0;n<le;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+le]=e[n];return ce(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(fe),t=new Uint8Array(de);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==de)throw new Error("bad secret key size");for(var t=new Uint8Array(fe),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(fe),r=new Uint8Array(de),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=fe,e.sign.secretKeyLength=de,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===g(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ge(i)}))}else(t=r(63906))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ge(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},32916:(e,t,r)=>{"use strict";const n=r(54320),i=r(69867).ensureMultiaddr,s=r(75309),a=r(69282);class o{constructor(e){a(e,"Missing peerId. Use Peer.create(cb) to create one"),this.id=e,this.multiaddrs=new s,this.protocols=new Set,this._connectedMultiaddr=void 0}connect(e){if(e=i(e),!this.multiaddrs.has(e)&&e.toString()!==`/ipfs/${this.id.toB58String()}`)throw new Error("can't be connected to missing multiaddr from set");this._connectedMultiaddr=e}disconnect(){this._connectedMultiaddr=void 0}isConnected(){return this._connectedMultiaddr}}o.create=(e,t)=>{if("function"==typeof e)return t=e,e=null,void n.create(((e,r)=>{if(e)return t(e);t(null,new o(r))}));"function"==typeof e.toJSON?t(null,new o(e)):n.createFromJSON(e,((e,r)=>t(e,new o(r))))},o.isPeerInfo=e=>Boolean("object"==typeof e&&e.id&&e.multiaddrs),e.exports=o},75309:(e,t,r)=>{"use strict";const n=r(69867).ensureMultiaddr,i=r(18618);e.exports=class{constructor(e){this._multiaddrs=e||[],this._observedMultiaddrs=[]}add(e){e=n(e),this.has(e)||this._multiaddrs.push(e)}addSafe(e){e=n(e);this._observedMultiaddrs.some(((t,r)=>{if(t.equals(e))return this.add(e),this._observedMultiaddrs.splice(r,1),!0}))||this._observedMultiaddrs.push(e)}toArray(){return this._multiaddrs.slice()}get size(){return this._multiaddrs.length}forEach(e){return this._multiaddrs.forEach(e)}filterBy(e){return"object"!=typeof e||"function"!=typeof e.matches||"function"!=typeof e.partialMatch||"function"!=typeof e.toString?[]:this._multiaddrs.filter((t=>e.matches(t)))}has(e){return e=n(e),this._multiaddrs.some((t=>t.equals(e)))}delete(e){e=n(e),this._multiaddrs.some(((t,r)=>{if(t.equals(e))return this._multiaddrs.splice(r,1),!0}))}replace(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),e.forEach((e=>this.delete(e))),t.forEach((e=>this.add(e)))}clear(){this._multiaddrs=[]}distinct(){return i(this._multiaddrs,(e=>[e.toOptions().port,e.toOptions().transport].join()))}}},69867:(e,t,r)=>{"use strict";const n=r(6901);e.exports={ensureMultiaddr:function(e){return n.isMultiaddr(e)?e:n(e)}}}}]);